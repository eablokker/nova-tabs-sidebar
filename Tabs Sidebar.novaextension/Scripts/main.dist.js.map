{"version":3,"file":"main.dist.js","sources":["../../src/TabDataProvider.ts","../../src/main.ts"],"sourcesContent":["import { App } from './main';\n\ntype GitStatus = {\n\tstatus: string;\n\tpath: string;\n};\n\ntype SyntaxNames = {[name: string]: string};\n\nclass ListItem {\n\tname: string;\n\tcontextValue: string | undefined;\n\t_syntax: string | null;\n\textension: string | undefined;\n\tpath: string | undefined;\n\turi: string;\n\ttooltip: string | undefined;\n\tisRemote: boolean;\n\n\tconstructor(name: string) {\n\t\tthis.name = name;\n\t\tthis._syntax = null;\n\t\tthis.path = '';\n\t\tthis.uri = '';\n\t\tthis.isRemote = false;\n\t}\n\n\tget syntax() {\n\t\treturn this._syntax;\n\t}\n\n\tset syntax(syntax: string | null) {\n\t\tthis._syntax = syntax;\n\t}\n}\n\nclass TabItem extends ListItem {\n\tpath: string | undefined;\n\t_isDirty: boolean;\n\tisUntitled: boolean;\n\tisTrashed: boolean;\n\tchildren: TabItem[];\n\tparent: GroupItem | null;\n\textension: string | undefined;\n\tcount: number | undefined;\n\n\tconstructor(name: string, tab: TextDocument) {\n\t\tsuper(name);\n\n\t\t// Check if in .Trash folder\n\t\tconst trashRegex = new RegExp('^file://' + nova.path.expanduser('~') + '/.Trash/');\n\n\t\tthis.name = name;\n\t\tthis.path = tab.path || undefined;\n\t\tthis.uri = tab.uri;\n\t\tthis.isRemote = tab.isRemote;\n\t\tthis._isDirty = tab.isDirty;\n\t\tthis.isUntitled = tab.isUntitled;\n\t\tthis.isTrashed = trashRegex.test(decodeURI(tab.uri));\n\t\tthis.children = [];\n\t\tthis.parent = null;\n\t\tthis._syntax = tab.syntax || 'plaintext';\n\t\tthis.extension = nova.path.extname(tab.path || '').replace(/^\\./, '');\n\t\tthis.contextValue = tab.isRemote ? 'remote-tab' : 'tab';\n\t}\n\n\tget isDirty() {\n\t\treturn this._isDirty;\n\t}\n\n\tset isDirty(isDirty: boolean) {\n\t\tthis._isDirty = isDirty;\n\t}\n}\n\nclass GroupItem extends ListItem {\n\tchildren: TabItem[];\n\tparent: GroupItem | null;\n\tcount: number | undefined;\n\timage: string | undefined;\n\n\tconstructor(name: string, options?: { syntax?: string | null, extName?: string }) {\n\t\tsuper(name);\n\n\t\tthis._syntax = options?.syntax || 'plaintext';\n\t\tthis.extension = options?.extName;\n\t\tthis.contextValue = 'kindGroup';\n\t\tthis.children = [];\n\t\tthis.parent = null;\n\t\tthis.count = undefined;\n\t}\n\n\taddChild(element: TabItem) {\n\t\telement.parent = this;\n\t\tthis.children.push(element);\n\t}\n}\n\nclass FolderItem extends ListItem {\n\tchildren: (FolderItem | TabItem)[];\n\tparent: FolderItem | null;\n\tcount: number | undefined;\n\timage: string | undefined;\n\n\tconstructor(name: string) {\n\t\tsuper(name);\n\n\t\tthis.contextValue = 'folderGroup';\n\t\tthis.children = [];\n\t\tthis.parent = null;\n\t\tthis.count = undefined;\n\t}\n\n\taddChild(element: FolderItem | TabItem) {\n\t\telement.parent = this;\n\t\tconst lastFolderIndex = this.children.slice().reverse().findIndex(child => child instanceof FolderItem);\n\n\t\tif (element instanceof FolderItem && lastFolderIndex === -1) {\n\t\t\tthis.children.unshift(element);\n\t\t} else if (element instanceof FolderItem) {\n\t\t\tthis.children.splice(lastFolderIndex - 1, 0, element);\n\t\t} else {\n\t\t\tthis.children.push(element);\n\t\t}\n\t}\n}\n\nclass TabDataProvider {\n\tapp: App;\n\tflatItems: TabItem[];\n\tkindGroupItems: GroupItem[];\n\tfolderGroupItems: (FolderItem | TabItem)[];\n\tcustomOrder: string[];\n\tcustomKindGroupsOrder: string[];\n\tgitStatuses: GitStatus[];\n\t_sortAlpha: boolean | null;\n\t_groupBy: string | null;\n\tcollapsedKindGroups: string[];\n\n\tconstructor(app: App) {\n\t\tthis.app = app;\n\n\t\tthis.flatItems = [];\n\t\tthis.kindGroupItems = [];\n\t\tthis.folderGroupItems = [];\n\t\tthis.gitStatuses = [];\n\n\t\tthis._sortAlpha = nova.workspace.config.get('eablokker.tabsSidebar.config.sortAlpha', 'boolean');\n\t\tthis._groupBy = this.app.groupBy;\n\t\tthis.customOrder = nova.workspace.config.get('eablokker.tabsSidebar.config.customTabOrder', 'array') || [];\n\t\tthis.customKindGroupsOrder = nova.workspace.config.get('eablokker.tabsSidebar.config.customKindGroupsOrder', 'array') || [];\n\t\tthis.collapsedKindGroups = nova.workspace.config.get('eablokker.tabsSidebar.config.collapsedKindGroups', 'array') || [];\n\t}\n\n\tget sortAlpha() {\n\t\treturn this._sortAlpha;\n\t}\n\n\tset sortAlpha(sortAlpha: boolean | null) {\n\t\tthis._sortAlpha = sortAlpha;\n\n\t\tthis.sortItems();\n\t}\n\n\tget groupBy() {\n\t\treturn this._groupBy;\n\t}\n\n\tset groupBy(groupBy: string | null) {\n\t\tthis._groupBy = groupBy;\n\n\t\tthis.sortItems();\n\t}\n\n\tloadData(documentTabs: readonly TextDocument[], focusedTab?: TabItem) {\n\t\t// Remove closed tabs from custom order\n\t\tif (this.customOrder.length) {\n\t\t\tthis.customOrder = this.customOrder.filter(path => {\n\t\t\t\treturn documentTabs.some(tab => tab.path === path);\n\t\t\t});\n\t\t}\n\n\t\t// Remove closed tabs from flat list\n\t\tthis.flatItems.forEach((item, i, self) => {\n\t\t\tconst tabIsClosed = documentTabs.every(tab => tab.uri !== item.uri);\n\t\t\tif (tabIsClosed) {\n\t\t\t\t// Remove from flat items\n\t\t\t\tself.splice(i, 1);\n\t\t\t}\n\t\t});\n\n\t\t// Remove closed tabs from kind groups\n\t\tthis.kindGroupItems.forEach((folder, i, self) => {\n\t\t\tfolder.children.forEach((child, i2, self2) => {\n\t\t\t\tconst tabIsClosed = documentTabs.every(tab => tab.uri !== child.uri);\n\t\t\t\tconst syntaxChanged = child.syntax && folder.syntax !== child.syntax;\n\n\t\t\t\tconsole.log(folder.syntax, child.syntax);\n\n\t\t\t\tif (tabIsClosed || syntaxChanged) {\n\t\t\t\t\tself2.splice(i2, 1);\n\t\t\t\t}\n\n\t\t\t\t// Remove folder if now empty\n\t\t\t\tif (!folder.children.length) {\n\t\t\t\t\tself.splice(i, 1);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\t// Remove closed kind groups from custom order\n\t\tif (this.customKindGroupsOrder.length && this.kindGroupItems.length) {\n\t\t\tthis.customKindGroupsOrder = this.customKindGroupsOrder.filter(syntax => {\n\t\t\t\treturn this.kindGroupItems.some(group => {\n\t\t\t\t\tconst syntaxName = group.syntax || 'plaintext';\n\t\t\t\t\treturn syntax === syntaxName;\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\t// Check if there are local and remote tabs\n\t\tconst localTabs = documentTabs.filter(tab => !tab.isRemote);\n\t\tconst remoteTabs = documentTabs.filter(tab => tab.isRemote);\n\n\t\tlocalTabs.sort((a, b) => {\n\t\t\tconst aName = a.path || '';\n\t\t\tconst bName = b.path || '';\n\t\t\treturn aName.localeCompare(bName);\n\t\t});\n\n\t\t// remoteTabs.forEach(tab => {\n\t\t// \tconsole.log(tab.uri, tab.path);\n\t\t// });\n\n\t\t// Reset folder items\n\t\tthis.folderGroupItems = [];\n\n\t\t// Add local and remote groups\n\t\tif (localTabs.length && remoteTabs.length) {\n\t\t\tconst localFolder = new FolderItem('Local');\n\t\t\tlocalFolder.path = '/';\n\t\t\tlocalFolder.image = 'sidebar-files';\n\t\t\tlocalFolder.contextValue = 'folderGroup-root';\n\n\t\t\tthis.createNestedFolders(localTabs, localFolder);\n\n\t\t\tconst remoteFolder = new FolderItem('Remote');\n\t\t\tremoteFolder.path = '/';\n\t\t\tremoteFolder.image = 'sidebar-remote';\n\t\t\tremoteFolder.contextValue = 'folderGroup-root';\n\n\t\t\tthis.createNestedFolders(remoteTabs, remoteFolder);\n\n\t\t\tthis.folderGroupItems.push(localFolder);\n\t\t\tthis.folderGroupItems.push(remoteFolder);\n\t\t} else {\n\t\t\tconst rootFolder = new FolderItem('Root');\n\n\t\t\tthis.createNestedFolders(documentTabs, rootFolder);\n\n\t\t\trootFolder.children.forEach(child => {\n\t\t\t\tthis.folderGroupItems.push(child);\n\t\t\t});\n\t\t}\n\n\t\t// Add newly opened tabs\n\t\tdocumentTabs.forEach(tab => {\n\t\t\t// Hide untitled tabs\n\t\t\tif (tab.isUntitled || !tab.path) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Check if tab is new in custom order\n\t\t\tconst tabIsNewInCustomOrder = this.customOrder.every(path => path !== tab.path);\n\n\t\t\t// Add new tab to custom order\n\t\t\tif (tabIsNewInCustomOrder) {\n\t\t\t\t// Splice new tab into array just after active editor or las focused tab\n\t\t\t\tlet tabIndex = -1;\n\t\t\t\tif (focusedTab) {\n\t\t\t\t\ttabIndex = this.customOrder.findIndex(path => path === focusedTab.path);\n\t\t\t\t}\n\n\t\t\t\tif (tabIndex > -1) {\n\t\t\t\t\tthis.customOrder.splice(tabIndex + 1, 0, tab.path);\n\t\t\t\t} else {\n\t\t\t\t\tthis.customOrder.push(tab.path);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Check if tab is new in flat items\n\t\t\tconst tabIsNew = this.flatItems.every(item => item.uri !== tab.uri);\n\n\t\t\t// Add tab to flat items if new\n\t\t\tif (tabIsNew) {\n\t\t\t\tconst tabName = this.basename(tab.path || 'untitled');\n\t\t\t\tconst element = new TabItem(tabName, tab);\n\n\t\t\t\tthis.flatItems.push(element);\n\t\t\t}\n\n\t\t\t// Check if tab is new in kind groups\n\t\t\tconst tabIsNewInKindGroups = this.kindGroupItems.every(group => {\n\t\t\t\treturn group.children.every(item => item.uri !== tab.uri);\n\t\t\t});\n\n\t\t\tif (tabIsNewInKindGroups) {\n\t\t\t\tconst tabName = this.basename(tab.path || 'untitled');\n\t\t\t\tconst element = new TabItem(tabName, tab);\n\n\t\t\t\t// Add tab to grouped items if new\n\t\t\t\tconst tabSyntax = tab.syntax || 'plaintext';\n\t\t\t\tconst folder = this.kindGroupItems.find(group => group.syntax === tabSyntax);\n\n\t\t\t\t// Add tab to folder if folder already exists\n\t\t\t\tif (folder) {\n\t\t\t\t\tconst childIndex = folder.children.findIndex(child => child.uri === tab.uri);\n\t\t\t\t\tif (childIndex < 0) {\n\t\t\t\t\t\tfolder.addChild(Object.assign({}, element));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Add new folder if it doesn't exist yet\n\n\t\t\t\t\t// Title case syntax name\n\t\t\t\t\tconst titleCaseName = tabSyntax\n\t\t\t\t\t\t.split(' ')\n\t\t\t\t\t\t.map((s) => s.charAt(0).toUpperCase() + s.substring(1))\n\t\t\t\t\t\t.join(' ');\n\n\t\t\t\t\tlet extName = nova.path.extname(tab.path || '').replace(/^\\./, '');\n\n\t\t\t\t\tif (tabSyntax === 'plaintext') {\n\t\t\t\t\t\textName = '';\n\t\t\t\t\t}\n\n\t\t\t\t\tconst newFolder = new GroupItem(\n\t\t\t\t\t\tthis.app.syntaxNames[tabSyntax as keyof SyntaxNames] || titleCaseName,\n\t\t\t\t\t\t{ syntax: tab.syntax, extName: extName }\n\t\t\t\t\t);\n\n\t\t\t\t\tnewFolder.addChild(Object.assign({}, element));\n\t\t\t\t\tthis.kindGroupItems.push(newFolder);\n\n\t\t\t\t\tif (this.customKindGroupsOrder.indexOf(tabSyntax) < 0) {\n\t\t\t\t\t\tthis.customKindGroupsOrder.push(tabSyntax);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tnova.workspace.config.set('eablokker.tabsSidebar.config.customKindGroupsOrder', this.customKindGroupsOrder);\n\t\tnova.workspace.config.set('eablokker.tabsSidebar.config.customTabOrder', this.customOrder);\n\n\t\tthis.sortItems();\n\t}\n\n\tcreateNestedFolders(tabs: readonly TextDocument[], rootFolder: FolderItem) {\n\t\ttabs.forEach(tab => {\n\t\t\tconst tabDirArray = nova.path.split(nova.path.dirname(tab.path || '')).slice(1);\n\n\t\t\tlet parentFolder = rootFolder;\n\t\t\ttabDirArray.forEach((dir, i, arr) => {\n\t\t\t\tconst folderPath = '/' + nova.path.join(...arr.slice(0, i + 1));\n\n\t\t\t\tconsole.log(folderPath);\n\n\t\t\t\tconst childFolder = parentFolder.children.find(child => child instanceof FolderItem && child.path === folderPath) as FolderItem;\n\n\t\t\t\t// Add new folder if it doesn't exist yet\n\t\t\t\tif (!childFolder) {\n\t\t\t\t\tconst subFolder = new FolderItem(dir);\n\t\t\t\t\tsubFolder.path = folderPath;\n\t\t\t\t\tsubFolder.tooltip = folderPath;\n\t\t\t\t\tsubFolder.image = 'folder';\n\n\t\t\t\t\tif (folderPath === nova.path.expanduser('~')) {\n\t\t\t\t\t\tsubFolder.image = 'folder-home';\n\t\t\t\t\t}\n\n\t\t\t\t\tif (dir === '.nova') {\n\t\t\t\t\t\tsubFolder.image = 'folder-nova';\n\t\t\t\t\t}\n\n\t\t\t\t\tif (dir === '.git') {\n\t\t\t\t\t\tsubFolder.image = 'folder-git';\n\t\t\t\t\t}\n\n\t\t\t\t\tif (dir === 'node_modules') {\n\t\t\t\t\t\tsubFolder.image = 'folder-node';\n\t\t\t\t\t}\n\n\t\t\t\t\tif (dir.endsWith('.novaextension')) {\n\t\t\t\t\t\tsubFolder.image = '__filetype.novaextension';\n\t\t\t\t\t}\n\n\t\t\t\t\tparentFolder.addChild(subFolder);\n\n\t\t\t\t\tparentFolder = subFolder;\n\n\t\t\t\t// Use existing folder to add child to\n\t\t\t\t} else if (childFolder) {\n\t\t\t\t\tparentFolder = childFolder;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tconst tabName = this.basename(tab.path || 'untitled');\n\t\t\tconst child = new TabItem(tabName, tab);\n\t\t\tparentFolder.addChild(child);\n\t\t});\n\t}\n\n\trunProcess(scriptPath: string, args: string[], cwd?: string, timeout = 3000): Promise<string> {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tlet outString = '';\n\t\t\tlet errorString = '';\n\n\t\t\tconst process = new Process(scriptPath, { args: args, cwd: cwd });\n\n\t\t\tprocess.onStdout(line => {\n\t\t\t\toutString += line;\n\t\t\t});\n\n\t\t\tprocess.onStderr(line => {\n\t\t\t\terrorString += line;\n\t\t\t});\n\n\t\t\tconst timeoutID = setTimeout(() => {\n\t\t\t\t// Ensure the process terminates in a timely fashion\n\t\t\t\treject('The process did not respond in a timely manner.');\n\t\t\t\tprocess.terminate();\n\t\t\t}, timeout);\n\n\t\t\tprocess.onDidExit(status => {\n\t\t\t\tclearTimeout(timeoutID);\n\n\t\t\t\tif (status > 0) {\n\t\t\t\t\treject(new Error('Process returned error status ' + status + ' when executing ' + scriptPath + ' ' + args.join(' ')));\n\t\t\t\t}\n\n\t\t\t\tif (errorString.length) {\n\t\t\t\t\treject(new Error(errorString));\n\t\t\t\t} else {\n\t\t\t\t\tresolve(outString);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tprocess.start();\n\t\t});\n\t}\n\n\tbasename(uri: string) {\n\t\treturn nova.path.basename(uri);\n\t}\n\n\tisUniqueName(tab: TabItem) {\n\t\treturn nova.workspace.textDocuments\n\t\t\t.filter(doc => doc.uri !== tab.uri)\n\t\t\t.every(doc => {\n\t\t\t\tconst basename = this.basename(doc.uri);\n\t\t\t\treturn basename !== this.basename(tab.uri);\n\t\t\t});\n\t}\n\n\tgetCommonBasePath(tab: TabItem) {\n\t\tconst tabDirArray = nova.path.split(nova.path.dirname(tab.path || ''));\n\t\tconst similarTabs = nova.workspace.textDocuments\n\t\t\t.filter(doc => {\n\t\t\t\t// Differentiate between local and remote files with same name\n\t\t\t\treturn doc.isRemote === tab.isRemote && this.basename(doc.uri) === this.basename(tab.uri);\n\t\t\t});\n\n\t\tconst commonDirArray: string[] = [];\n\t\ttabDirArray.every((dir, i) => {\n\t\t\tconst commonDir = similarTabs.every((tab2) => {\n\t\t\t\tconst tabDirArray2 = nova.path.split(nova.path.dirname(tab2.path || ''));\n\t\t\t\treturn tabDirArray2[i] === dir;\n\t\t\t});\n\n\t\t\tif (!commonDir) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tcommonDirArray.push(dir);\n\t\t\treturn true;\n\t\t});\n\n\t\tif (commonDirArray.length === 1) {\n\t\t\treturn '/';\n\t\t}\n\n\t\treturn commonDirArray.join('/');\n\t}\n\n\tmoveTab(tab: TabItem, distance: number) {\n\t\t// Original tab path\n\t\tconst uri = tab.uri;\n\t\tconst path = tab.path;\n\n\t\t// Get item indexes\n\t\tconst fromItemIndex = this.flatItems.findIndex(item => item.uri === uri);\n\t\tconst toItemIndex = fromItemIndex + distance;\n\n\t\tif (toItemIndex < 0 || toItemIndex >= this.flatItems.length) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Get items to swap\n\t\tconst fromItem = this.flatItems[fromItemIndex];\n\t\tconst toItem = this.flatItems[toItemIndex];\n\n\t\t// Swap data between items\n\t\tconst keys = Object.keys(fromItem).concat(Object.keys(toItem));\n\t\tkeys\n\t\t\t.filter((key, i, keys) => keys.indexOf(key) === i) // Remove duplicates\n\t\t\t.forEach((key) => {\n\t\t\t\t// Preserve context value\n\t\t\t\tif (key === 'contextValue') {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst tabItemKey = key as keyof TabItem;\n\n\t\t\t\tconst newVal = fromItem[tabItemKey];\n\t\t\t\tconst oldVal = toItem[tabItemKey];\n\n\t\t\t\t// @ts-expect-error Need to figure out how to swap values\n\t\t\t\ttoItem[tabItemKey] = newVal;\n\t\t\t\t// @ts-expect-error Need to figure out how to swap values\n\t\t\t\tfromItem[tabItemKey] = oldVal;\n\t\t\t});\n\n\t\t// Update custom order\n\t\tconst fromIndex = this.customOrder.indexOf(path || '');\n\t\tconst toIndex = fromIndex + distance;\n\n\t\tif (toIndex < 0 || toIndex >= this.customOrder.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst item = this.customOrder.splice(fromIndex, 1)[0];\n\t\tthis.customOrder.splice(toIndex, 0, item);\n\t\tnova.workspace.config.set('eablokker.tabsSidebar.config.customTabOrder', this.customOrder);\n\t\tthis.app.focusedTab = toItem;\n\n\t\t// Reload each item that got swapped\n\t\tPromise.all([this.app.treeView.reload(fromItem), this.app.treeView.reload(toItem)])\n\t\t\t.then(() => {\n\t\t\t\tthis.app.highlightTab(toItem, { focus: true });\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.error(err);\n\t\t\t});\n\t}\n\n\tmoveKindGroup(group: GroupItem, distance: number) {\n\t\t// Original tab path\n\t\tconst syntax = group.syntax || 'plaintext';\n\n\t\t// Get item indexes\n\t\tconst fromItemIndex = this.kindGroupItems.findIndex(item => item.syntax === syntax);\n\t\tconst toItemIndex = fromItemIndex + distance;\n\n\t\tif (toItemIndex < 0 || toItemIndex >= this.kindGroupItems.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst fromItem = this.kindGroupItems[fromItemIndex];\n\n\t\t// Update custom order\n\t\tconst fromIndex = this.kindGroupItems.findIndex(group => group.syntax === syntax);\n\t\tconst toIndex = fromIndex + distance;\n\n\t\tif (toIndex < 0 || toIndex >= this.kindGroupItems.length) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Move group\n\t\tconst item = this.kindGroupItems.splice(fromIndex, 1)[0];\n\t\tthis.kindGroupItems.splice(toIndex, 0, item);\n\n\t\t// Update group contextValues\n\t\tthis.updateGroupContexts();\n\n\t\t// Update saved groups order\n\t\tthis.customKindGroupsOrder = this.kindGroupItems.map(group => group.syntax || 'plaintext');\n\t\tnova.workspace.config.set('eablokker.tabsSidebar.config.customKindGroupsOrder', this.customKindGroupsOrder);\n\n\t\t// Reload treeview\n\t\tthis.app.treeView.reload()\n\t\t\t.then(() => {\n\t\t\t\tthis.app.highlightTab(fromItem, { focus: true });\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.error(err);\n\t\t\t});\n\t}\n\n\tcleanUpByTabBarOrder(result: string) {\n\t\tconst windowList = result.split(', ');\n\t\tconst currentWindow: string[] = [];\n\n\t\tlet projectFound = false;\n\t\twindowList.every((menuItem: string) => {\n\t\t\tif (menuItem.trim() === 'âœ“') {\n\t\t\t\tprojectFound = true;\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// Stop at end of current project list\n\t\t\tif (projectFound && menuItem.trim() === nova.localize('missing value')) {\n\t\t\t\tprojectFound = false;\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (projectFound) {\n\t\t\t\tcurrentWindow.push(menuItem.trim());\n\t\t\t}\n\n\t\t\treturn true;\n\t\t});\n\n\t\tthis.customOrder.sort((a, b) => {\n\t\t\t// Sort by parent path if filename is not unique\n\t\t\tconst paths = [a, b].map(path => {\n\t\t\t\tlet basename = nova.path.basename(path);\n\t\t\t\tlet parentPath = '';\n\t\t\t\tconst element = this.getElementByPath(path);\n\n\t\t\t\tif (!element) {\n\t\t\t\t\treturn basename;\n\t\t\t\t}\n\n\t\t\t\tconst isUnique = this.isUniqueName(element);\n\n\t\t\t\tif (isUnique) {\n\t\t\t\t\treturn basename;\n\t\t\t\t}\n\n\t\t\t\tconst commonBasePath = this.getCommonBasePath(element);\n\t\t\t\tparentPath = decodeURI(nova.path.dirname(element.path || '').substring(commonBasePath.length));\n\n\t\t\t\tif (parentPath.length) {\n\t\t\t\t\tbasename += ' â€“ ' + parentPath;\n\t\t\t\t}\n\n\t\t\t\treturn basename;\n\t\t\t});\n\n\t\t\tif (!currentWindow.length) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (currentWindow.indexOf(paths[0]) < 0) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\tcurrentWindow.indexOf(paths[0]) -\n\t\t\t\tcurrentWindow.indexOf(paths[1])\n\t\t\t);\n\t\t});\n\t\tnova.workspace.config.set('eablokker.tabsSidebar.config.customTabOrder', this.customOrder);\n\n\t\tthis.sortItems();\n\t}\n\n\tcleanUpByAlpha() {\n\t\tthis.customOrder.sort((a, b) => {\n\t\t\treturn nova.path.basename(a).localeCompare(nova.path.basename(b));\n\t\t});\n\t\tnova.workspace.config.set('eablokker.tabsSidebar.config.customTabOrder', this.customOrder);\n\n\t\tthis.sortItems();\n\t}\n\n\tcleanUpByType() {\n\t\tconst elementArray = this.customOrder.map(path => {\n\t\t\treturn this.getElementByPath(path);\n\t\t});\n\n\t\tthis.customOrder.sort((a, b) => {\n\t\t\tconst aElement = elementArray.find(item => item?.path === a);\n\t\t\tconst bElement = elementArray.find(item => item?.path === b);\n\n\t\t\tif (!aElement || !bElement || !aElement.syntax || !bElement.syntax ) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\treturn aElement.syntax.localeCompare(bElement.syntax);\n\t\t});\n\t\tnova.workspace.config.set('eablokker.tabsSidebar.config.customTabOrder', this.customOrder);\n\n\t\tthis.sortItems();\n\t}\n\n\tupdateGroupContexts() {\n\t\tthis.kindGroupItems.forEach((group, i) => {\n\t\t\tif (this.kindGroupItems.length === 1) {\n\t\t\t\tgroup.contextValue = 'kindGroup-only';\n\t\t\t} else if (i === 0) {\n\t\t\t\tgroup.contextValue = 'kindGroup-first';\n\t\t\t} else if (i === this.kindGroupItems.length - 1) {\n\t\t\t\tgroup.contextValue = 'kindGroup-last';\n\t\t\t} else {\n\t\t\t\tgroup.contextValue = 'kindGroup';\n\t\t\t}\n\t\t});\n\t}\n\n\tgetGitStatus(gitPath: string): Promise<GitStatus[]> {\n\t\tif (nova.inDevMode()) console.log('getGitStatus()');\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst projectPath = nova.workspace.path;\n\n\t\t\tif (!projectPath) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// '--no-optional-locks' git option to prevent watching changes on .git/index.lock\n\t\t\tthis\n\t\t\t\t.runProcess(gitPath, ['--no-optional-locks', 'status', '--porcelain', '-uall'], projectPath)\n\t\t\t\t.then(result => {\n\t\t\t\t\tconst gitStatusRegex = new RegExp('([ ADMRCU?!]{2}) \"?([0-9a-zA-Z@_. /-]+) ?-?>? ?([0-9a-zA-Z@_. /-]*)', 'gm');\n\t\t\t\t\tlet matches = gitStatusRegex.exec(result);\n\n\t\t\t\t\t// Reset statuses\n\t\t\t\t\tthis.gitStatuses.forEach(status => {\n\t\t\t\t\t\tstatus.status = '';\n\t\t\t\t\t});\n\n\t\t\t\t\twhile (matches != null) {\n\t\t\t\t\t\tconst newStatus = {\n\t\t\t\t\t\t\tstatus: matches[1],\n\t\t\t\t\t\t\tpath: matches[3] || matches[2]\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tconst i = this.gitStatuses.findIndex(status => status.path === newStatus.path);\n\t\t\t\t\t\tif (i > -1) {\n\t\t\t\t\t\t\tthis.gitStatuses[i].status = newStatus.status;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.gitStatuses.push(newStatus);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmatches = gitStatusRegex.exec(result);\n\t\t\t\t\t}\n\n\t\t\t\t\t// console.log(this.gitStatuses);\n\n\t\t\t\t\tresolve(this.gitStatuses);\n\t\t\t\t})\n\t\t\t\t.catch((err: Error) => {\n\t\t\t\t\treject(err);\n\t\t\t\t});\n\t\t});\n\t}\n\n\t// Sorting function\n\tbyCustomOrder(a: TabItem, b: TabItem) {\n\t\tif (this.customOrder.indexOf(a.path || '') < 0) {\n\t\t\treturn 1;\n\t\t}\n\t\treturn this.customOrder.indexOf(a.path || '') - this.customOrder.indexOf(b.path || '');\n\t}\n\n\t// Sorting function\n\tbyCustomKindGroupsOrder(a: GroupItem, b: GroupItem) {\n\t\tif (this.customKindGroupsOrder.indexOf(a.syntax || 'plaintext') < 0) {\n\t\t\treturn 1;\n\t\t}\n\t\treturn this.customKindGroupsOrder.indexOf(a.syntax || 'plaintext') - this.customKindGroupsOrder.indexOf(b.syntax || 'plaintext');\n\t}\n\n\tsortItems() {\n\t\t// Sort custom ordered items by custom order\n\t\tthis.flatItems.sort(this.byCustomOrder.bind(this));\n\n\t\t// Sort folders by custom order\n\t\tthis.kindGroupItems.sort(this.byCustomKindGroupsOrder.bind(this));\n\n\t\t// Sort folder children by custom order\n\t\tthis.kindGroupItems.forEach(item => {\n\t\t\titem.children.sort(this.byCustomOrder.bind(this));\n\t\t});\n\n\t\t// Set context of position in list\n\t\tthis.flatItems.forEach((tab, i) => {\n\t\t\tif (this.flatItems.length === 1) {\n\t\t\t\ttab.contextValue = tab.isRemote ? 'remote-only' : 'only';\n\t\t\t} else if (i === 0) {\n\t\t\t\ttab.contextValue = tab.isRemote ? 'remote-first' : 'first';\n\t\t\t} else if (i === this.flatItems.length - 1) {\n\t\t\t\ttab.contextValue = tab.isRemote ? 'remote-last' : 'last';\n\t\t\t} else {\n\t\t\t\ttab.contextValue = tab.isRemote ? 'remote-tab' : 'tab';\n\t\t\t}\n\t\t});\n\n\t\t// Set context of position of group in list\n\t\tthis.updateGroupContexts();\n\n\t\t//console.log('this.customOrder', this.customOrder);\n\n\t\tif (this.sortAlpha) {\n\t\t\tif (nova.inDevMode()) console.log('Sorting by alpha');\n\n\t\t\tthis.flatItems.sort((a, b) => {\n\t\t\t\treturn a.name.localeCompare(b.name);\n\t\t\t});\n\t\t}\n\n\t\tif (this.groupBy === 'type' && this.sortAlpha) {\n\t\t\tif (nova.inDevMode()) console.log('Sorting folders by alpha');\n\n\t\t\tthis.kindGroupItems.sort((a, b) => {\n\t\t\t\treturn a.name.localeCompare(b.name);\n\t\t\t});\n\n\t\t\tthis.kindGroupItems.forEach(item => {\n\t\t\t\titem.children.sort((a, b) => {\n\t\t\t\t\treturn a.name.localeCompare(b.name);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\tgetElementByUri(uri: string): TabItem | undefined {\n\t\tif (this.groupBy === 'type') {\n\t\t\tlet childElement: TabItem | undefined;\n\t\t\tthis.kindGroupItems.some(item => {\n\t\t\t\tchildElement = item.children.find(child => {\n\t\t\t\t\treturn child.uri === uri;\n\t\t\t\t});\n\n\t\t\t\treturn !!childElement;\n\t\t\t});\n\n\t\t\treturn childElement;\n\t\t}\n\n\t\treturn this.flatItems.find(item => {\n\t\t\treturn item.uri === uri;\n\t\t});\n\n\t}\n\n\tgetElementByPath(path: string): TabItem | undefined {\n\t\tif (this.groupBy === 'type') {\n\t\t\tlet childElement: TabItem | undefined;\n\t\t\tthis.kindGroupItems.some(item => {\n\t\t\t\tchildElement = item.children.find(child => {\n\t\t\t\t\treturn child.path === path;\n\t\t\t\t});\n\n\t\t\t\treturn !!childElement;\n\t\t\t});\n\n\t\t\treturn childElement;\n\t\t}\n\n\t\treturn this.flatItems.find(item => {\n\t\t\treturn item.path === path;\n\t\t});\n\t}\n\n\tgetFolderBySyntax(syntax: string) {\n\t\treturn this.kindGroupItems.find((folder: GroupItem) => folder.syntax === syntax);\n\t}\n\n\tgetChildren(element: TabItem | GroupItem) {\n\t\t// Requests the children of an element\n\t\tif (!element) {\n\t\t\tif (this.groupBy === 'type') {\n\t\t\t\treturn this.kindGroupItems;\n\t\t\t}\n\n\t\t\tif (this.groupBy === 'folder') {\n\t\t\t\treturn this.folderGroupItems;\n\t\t\t}\n\n\t\t\treturn this.flatItems;\n\t\t}\n\t\telse {\n\t\t\treturn element.children;\n\t\t}\n\t}\n\n\tgetParent(element: TabItem | GroupItem) {\n\t\t// Requests the parent of an element, for use with the reveal() method\n\n\t\t// if (nova.inDevMode()) console.log('getParent');\n\n\t\tif (element === null) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn element.parent;\n\t}\n\n\tgetTreeItem(element: TabItem | GroupItem) {\n\t\t// Converts an element into its display (TreeItem) representation\n\t\tlet item: TreeItem;\n\n\t\tif (element instanceof GroupItem) {\n\t\t\titem = new TreeItem(element.name);\n\n\t\t\titem.contextValue = element.contextValue;\n\t\t\titem.descriptiveText = this.app.showGroupCount ? '(' + element.children.length + ')' : '';\n\t\t\titem.identifier = element.syntax || element.extension;\n\t\t\titem.image = '__filetype.' + element.extension;\n\n\t\t\tif (!element.extension) {\n\t\t\t\titem.image = '__filetype.blank';\n\t\t\t}\n\n\t\t\tif (element.syntax === 'plaintext') {\n\t\t\t\titem.image = '__filetype.blank';\n\t\t\t}\n\n\t\t\tif (element.image) {\n\t\t\t\titem.image = element.image;\n\t\t\t}\n\n\t\t\titem.tooltip = '';\n\n\t\t\tlet collapsibleState = TreeItemCollapsibleState.Expanded;\n\n\t\t\tif (this.collapsedKindGroups.indexOf(element.syntax || '') > -1) {\n\t\t\t\tcollapsibleState = TreeItemCollapsibleState.Collapsed;\n\t\t\t}\n\n\t\t\titem.collapsibleState = collapsibleState;\n\t\t}\n\t\telse if (element instanceof FolderItem) {\n\t\t\titem = new TreeItem(element.name);\n\n\t\t\titem.tooltip = element.tooltip;\n\t\t\titem.contextValue = element.contextValue;\n\t\t\titem.identifier = element.path;\n\n\t\t\tif (element.image) {\n\t\t\t\titem.image = element.image;\n\t\t\t}\n\n\t\t\tlet collapsibleState = TreeItemCollapsibleState.Expanded;\n\t\t\titem.collapsibleState = collapsibleState;\n\t\t}\n\t\telse {\n\t\t\tlet name = element.name;\n\t\t\tlet description = '';\n\n\t\t\tif (element.isDirty) {\n\t\t\t\tswitch (this.app.unsavedSymbolLocation) {\n\t\t\t\tcase 'never':\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'after-filename':\n\t\t\t\t\tdescription = (this.app.unsavedSymbol || 'âš«ï¸Ž') + ' ';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'before-filename':\n\t\t\t\tdefault:\n\t\t\t\t\tname = (this.app.unsavedSymbol || 'âš«ï¸Ž') + ' ' + name;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\titem = new TreeItem(name);\n\n\t\t\tif (!element.extension) {\n\t\t\t\titem.image = '__filetype.blank';\n\t\t\t}\n\n\t\t\tif (element.name === '.editorconfig') {\n\t\t\t\titem.image = 'filetype-config-editorconfig';\n\t\t\t}\n\n\t\t\tif (element.name === 'Dockerfile') {\n\t\t\t\titem.image = 'filetype-config-docker';\n\t\t\t}\n\n\t\t\tif (element.name === '.gitignore') {\n\t\t\t\titem.image = 'filetype-config-gitignore';\n\t\t\t}\n\n\t\t\tif (element.extension === 'map') {\n\t\t\t\tif (element.name.endsWith('.js.map')) {\n\t\t\t\t\titem.image = '__filetype.js.map';\n\t\t\t\t}\n\n\t\t\t\tif (element.name.endsWith('.css.map')) {\n\t\t\t\t\titem.image = '__filetype.css.map';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (element.name.endsWith('.d.ts')) {\n\t\t\t\titem.image = '__filetype.d.ts';\n\t\t\t}\n\n\t\t\titem.tooltip = element.path ? element.path.replace(nova.path.expanduser('~'), '~') : '';\n\n\t\t\tif (element.isTrashed) {\n\t\t\t\tconst trashString = nova.localize('Trash');\n\t\t\t\tdescription = 'â€¹ ' + trashString + ' ðŸ—‘';\n\t\t\t} else if (element.isRemote) {\n\t\t\t\tdescription += 'â˜ï¸ ';\n\t\t\t} else {\n\t\t\t\tconst relativePath = (element.path + '').replace(nova.workspace.path + '/', '');\n\t\t\t\t// console.log('relativePath', relativePath);\n\n\t\t\t\tconst foundStatus = this.gitStatuses.find(status => status.path === relativePath);\n\n\t\t\t\tif (foundStatus) {\n\t\t\t\t\t// console.log('status', foundStatus.status);\n\n\t\t\t\t\tif (foundStatus.status.length && (this.app.showGitStatus === 'text' || this.app.showGitStatus === 'both')) {\n\t\t\t\t\t\tdescription += '[' + foundStatus.status.trim() + '] ';\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.app.showGitStatus === 'icon' || this.app.showGitStatus === 'both') {\n\t\t\t\t\t\tswitch (foundStatus.status) {\n\t\t\t\t\t\tcase ' M':\n\t\t\t\t\t\tcase 'M ':\n\t\t\t\t\t\tcase 'MM':\n\t\t\t\t\t\tcase 'RM':\n\t\t\t\t\t\t\titem.image = 'git-modified';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'A ':\n\t\t\t\t\t\tcase 'AM':\n\t\t\t\t\t\t\titem.image = 'git-added';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'R ':\n\t\t\t\t\t\t\titem.image = 'git-renamed';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase '??':\n\t\t\t\t\t\t\titem.image = 'git-untracked';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Calculate parent folder path for description\n\t\t\tlet parentFolder = '';\n\t\t\tconst isUnique = this.isUniqueName(element);\n\n\t\t\t// Always show parent folder if config setting is toggled on\n\t\t\tif (this.app.alwaysShowParentFolder) {\n\t\t\t\tconst tabDirArray = nova.path.split(nova.path.dirname(element.path || ''));\n\t\t\t\tparentFolder = decodeURI(tabDirArray[tabDirArray.length - 1]);\n\n\t\t\t\tif (parentFolder !== '.Trash') {\n\t\t\t\t\tdescription += 'â€¹ ' + parentFolder;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Show parent path if filename is not unique\n\t\t\tif (!isUnique) {\n\t\t\t\tconst commonBasePath = this.getCommonBasePath(element);\n\t\t\t\tconst parentPathSplit = decodeURI(nova.path.dirname(element.path || '').substring(commonBasePath.length))\n\t\t\t\t\t.split('/')\n\t\t\t\t\t.reverse();\n\n\t\t\t\tparentPathSplit\n\t\t\t\t\t.filter(dir => dir.length)\n\t\t\t\t\t.forEach((dir, i) => {\n\t\t\t\t\t\t// Don't show trash folder as parent\n\t\t\t\t\t\tif (i === 0 && dir === '.Trash') {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdescription += 'â€¹ ' + dir + ' ';\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\titem.descriptiveText = description;\n\t\t\titem.path = element.path;\n\t\t\titem.command = 'tabs-sidebar.doubleClick';\n\t\t\titem.contextValue = element.contextValue;\n\t\t\titem.identifier = element.uri;\n\t\t}\n\t\treturn item;\n\t}\n}\n\nexport { SyntaxNames, TabItem, GroupItem, FolderItem, TabDataProvider };\n","import { SyntaxNames, TabItem, GroupItem, FolderItem, TabDataProvider } from './TabDataProvider';\n\nclass App {\n\ttreeView: TreeView<TabItem | GroupItem | FolderItem | null>;\n\ttabDataProvider: TabDataProvider;\n\tfileWatcher: FileSystemWatcher | undefined;\n\tfocusedTab: TabItem | undefined;\n\topenTabWhenFocusSidebar: boolean;\n\tgitPath: string;\n\n\topenOnSingleClick: boolean | null;\n\tshowGitStatus: string | null;\n\talwaysShowParentFolder: boolean | null;\n\tshowGroupCount: boolean | null;\n\tunsavedSymbol: string | null;\n\tunsavedSymbolLocation: string | null;\n\tgroupBy: string | null;\n\n\tsyntaxNames: SyntaxNames;\n\n\tconstructor() {\n\t\tthis.openTabWhenFocusSidebar = true;\n\t\tthis.gitPath = '/usr/bin/git';\n\n\t\tthis.openOnSingleClick = nova.config.get('eablokker.tabs-sidebar.open-on-single-click', 'boolean');\n\t\tthis.showGitStatus = nova.config.get('eablokker.tabs-sidebar.show-git-status', 'string');\n\t\tthis.alwaysShowParentFolder = nova.config.get('eablokker.tabs-sidebar.always-show-parent-folder', 'boolean');\n\t\tthis.showGroupCount = nova.config.get('eablokker.tabs-sidebar.show-group-count', 'boolean');\n\t\tthis.unsavedSymbol = nova.config.get('eablokker.tabs-sidebar.unsaved-symbol', 'string');\n\t\tthis.unsavedSymbolLocation = nova.config.get('eablokker.tabs-sidebar.unsaved-symbol-location', 'string');\n\t\tthis.groupBy = nova.workspace.config.get('eablokker.tabsSidebar.config.groupBy', 'string');\n\n\t\tthis.syntaxNames = {\n\t\t\t'plaintext': nova.localize('Plain Text'),\n\t\t\t'coffeescript': 'CoffeeScript',\n\t\t\t'css': 'CSS',\n\t\t\t'diff': 'Diff',\n\t\t\t'erb': 'ERB',\n\t\t\t'haml': 'Haml',\n\t\t\t'html': 'HTML',\n\t\t\t'ini': 'INI',\n\t\t\t'javascript': 'JavaScript',\n\t\t\t'json': 'JSON',\n\t\t\t'jsx': 'JSX',\n\t\t\t'less': 'Less',\n\t\t\t'lua': 'Lua',\n\t\t\t'markdown': 'Markdown',\n\t\t\t'perl': 'Perl',\n\t\t\t'php': 'PHP-HTML',\n\t\t\t'python': 'Python',\n\t\t\t'ruby': 'Ruby',\n\t\t\t'sass': 'Sass',\n\t\t\t'scss': 'SCSS',\n\t\t\t'shell': 'Shell Script',\n\t\t\t'smarty': 'Smarty',\n\t\t\t'sql': 'SQL',\n\t\t\t'tsx': 'TSX',\n\t\t\t'twig': 'Twig-HTML',\n\t\t\t'twig-markdown': 'Twig-Markdown',\n\t\t\t'typescript': 'TypeScript',\n\t\t\t'vue': 'Vue',\n\t\t\t'xml': 'XML',\n\t\t\t'yaml': 'YAML'\n\t\t};\n\n\t\tthis.tabDataProvider = new TabDataProvider(this);\n\t\tthis.treeView = new TreeView('tabs-sidebar', { dataProvider: this.tabDataProvider });\n\n\t\tthis.init();\n\t\tthis.initConfig();\n\t\tthis.initEditorEvents();\n\t\tthis.registerCommands();\n\t\tthis.initFileWatcher();\n\t}\n\n\tinit() {\n\t\t// Make shell scripts executable on activation\n\t\tconst shellScriptPaths = [\n\t\t\t'/click_menu_item.sh',\n\t\t\t'/click_project_item_by_name.sh',\n\t\t\t'/list_menu_items.sh'\n\t\t];\n\n\t\tshellScriptPaths.forEach(path => {\n\t\t\tconst scriptExists = nova.fs.access(__dirname + path, nova.fs.constants.F_OK);\n\n\t\t\tif (!scriptExists) {\n\t\t\t\tconsole.error('Shell script not found', __dirname + path);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst scriptIsExecutable = nova.fs.access(__dirname + path, nova.fs.constants.X_OK);\n\n\t\t\tif (scriptExists && !scriptIsExecutable) {\n\t\t\t\tthis.tabDataProvider\n\t\t\t\t\t.runProcess('/bin/chmod', ['744', __dirname + path])\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tif (nova.inDevMode()) console.log('Shell script ' + path + ' changed to 744');\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\t// TreeView implements the Disposable interface\n\t\tnova.subscriptions.add(this.treeView);\n\t}\n\n\tinitConfig() {\n\t\t// Watch for config changes\n\t\tnova.config.onDidChange('eablokker.tabs-sidebar.open-on-single-click', (newVal: boolean, oldVal: boolean) => {\n\t\t\tthis.openOnSingleClick = newVal;\n\t\t});\n\n\t\tnova.config.onDidChange('eablokker.tabs-sidebar.show-git-status', (newVal: string, oldVal: string) => {\n\t\t\tthis.showGitStatus = newVal;\n\n\t\t\tif (newVal === 'never') {\n\t\t\t\tthis.fileWatcher?.dispose();\n\t\t\t} else if (oldVal === 'never' && newVal !== 'never') {\n\t\t\t\tthis.initFileWatcher();\n\t\t\t}\n\n\t\t\tthis.treeView.reload();\n\t\t});\n\n\t\tnova.config.onDidChange('eablokker.tabs-sidebar.always-show-parent-folder', (newVal: boolean, oldVal: boolean) => {\n\t\t\tthis.alwaysShowParentFolder = newVal;\n\n\t\t\tthis.treeView.reload();\n\t\t});\n\n\t\tnova.config.onDidChange('eablokker.tabs-sidebar.show-group-count', (newVal: boolean, oldVal: boolean) => {\n\t\t\tthis.showGroupCount = newVal;\n\n\t\t\tthis.tabDataProvider.sortItems();\n\t\t\tthis.treeView.reload();\n\t\t});\n\n\t\tnova.config.onDidChange('eablokker.tabs-sidebar.unsaved-symbol', (newVal: string, oldVal: string) => {\n\t\t\tthis.unsavedSymbol = newVal;\n\n\t\t\tthis.treeView.reload();\n\t\t});\n\n\t\tnova.config.onDidChange('eablokker.tabs-sidebar.unsaved-symbol-location', (newVal: string, oldVal: string) => {\n\t\t\tthis.unsavedSymbolLocation = newVal;\n\n\t\t\tthis.treeView.reload();\n\t\t});\n\n\t\tnova.workspace.config.onDidChange('eablokker.tabsSidebar.config.sortAlpha', (newVal: boolean, oldVal: boolean) => {\n\t\t\tthis.tabDataProvider.sortAlpha = newVal;\n\t\t\tthis.treeView.reload();\n\t\t});\n\n\t\tnova.workspace.config.onDidChange('eablokker.tabsSidebar.config.groupBy', (newVal: string, oldVal: string) => {\n\t\t\tthis.groupBy = newVal;\n\n\t\t\tthis.tabDataProvider.groupBy = newVal;\n\t\t\tthis.treeView.reload();\n\t\t});\n\n\t\t/*nova.workspace.config.onDidChange('eablokker.tabsSidebar.config.customTabOrder', (newVal: string[], oldVal: string[]) => {\n\t\t\tconsole.log('customTabOrder changed', newVal);\n\n\t\t\tthis.tabDataProvider.customOrder = newVal;\n\t\t\tthis.tabDataProvider.sortItems();\n\t\t\tthis.treeView.reload()\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.highlightTab(this.focusedTab || null, { focus: true });\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.error(err);\n\t\t\t\t});\n\t\t});*/\n\t}\n\n\tinitEditorEvents() {\n\t\t// Prevent excessive reloading\n\t\tlet reloadTimeoutID = setTimeout(() => {\n\t\t\t//\n\t\t});\n\n\t\tnova.workspace.onDidAddTextEditor(editor => {\n\t\t\t//console.log('Document opened');\n\n\t\t\tclearTimeout(reloadTimeoutID);\n\t\t\treloadTimeoutID = setTimeout(() => {\n\t\t\t\tlet reload;\n\t\t\t\tconst folder = this.tabDataProvider.getFolderBySyntax(editor.document.syntax || 'plaintext');\n\n\t\t\t\tthis.tabDataProvider.loadData(nova.workspace.textDocuments, this.focusedTab);\n\n\t\t\t\tif (folder && this.groupBy === 'folder') {\n\t\t\t\t\treload = this.treeView.reload(folder);\n\t\t\t\t} else {\n\t\t\t\t\treload = this.treeView.reload();\n\t\t\t\t}\n\n\t\t\t\treload\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t// Focus tab in sidebar\n\t\t\t\t\t\tthis.focusedTab = this.tabDataProvider.getElementByUri(editor.document.uri);\n\n\t\t\t\t\t\tif (editor.document.uri === nova.workspace.activeTextEditor?.document.uri) {\n\t\t\t\t\t\t\tthis.highlightTab(this.focusedTab || null, { focus: true });\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tconsole.error('Could not reload treeView.', err);\n\t\t\t\t\t});\n\t\t\t}, 1);\n\n\t\t\t// Remove tab from sidebar when editor closed\n\t\t\teditor.onDidDestroy(destroyedEditor => {\n\t\t\t\t//console.log('Document closed');\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tlet reload;\n\t\t\t\t\tconst folder = this.tabDataProvider.getFolderBySyntax(destroyedEditor.document.syntax || 'plaintext');\n\n\t\t\t\t\tif (folder && folder.children.length > 1 && this.groupBy === 'folder') {\n\t\t\t\t\t\treload = this.treeView.reload(folder);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treload = this.treeView.reload();\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.tabDataProvider.loadData(nova.workspace.textDocuments);\n\n\t\t\t\t\treload\n\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\tconst document = nova.workspace.activeTextEditor ? nova.workspace.activeTextEditor.document : null;\n\n\t\t\t\t\t\t\tif (document) {\n\t\t\t\t\t\t\t\tthis.focusedTab = this.tabDataProvider.getElementByUri(document.uri);\n\t\t\t\t\t\t\t\tthis.highlightTab(this.focusedTab || null, { focus: true });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\tconsole.error('Could not reload treeView.', err);\n\t\t\t\t\t\t});\n\t\t\t\t}, 1);\n\t\t\t});\n\n\t\t\t// Focus tab in sidebar when clicking in document\n\t\t\teditor.onDidChangeSelection(changedEditor => {\n\t\t\t\t// if (nova.inDevMode()) console.log('editor.onDidChangeSelection');\n\n\t\t\t\tconst selection = this.treeView.selection[0];\n\t\t\t\tconst document = changedEditor.document;\n\n\t\t\t\t// Don't reveal in treeview if it's already selected\n\t\t\t\tif (selection?.uri === document.uri) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Only highlight tab if it's the same as the current active tab\n\t\t\t\tif (document.uri === nova.workspace.activeTextEditor?.document.uri) {\n\t\t\t\t\tthis.focusedTab = this.tabDataProvider.getElementByUri(changedEditor.document.uri);\n\t\t\t\t\tthis.highlightTab(this.focusedTab || null, { focus: true });\n\t\t\t\t}\n\t\t\t});\n\n\t\t\teditor.onDidStopChanging(changedEditor => {\n\t\t\t\t//console.log('Document stopped changing');\n\n\t\t\t\tconst element = this.tabDataProvider.getElementByUri(editor.document.uri);\n\t\t\t\tthis.focusedTab = element;\n\n\t\t\t\tif (element) {\n\t\t\t\t\telement.isDirty = editor.document.isDirty;\n\t\t\t\t}\n\n\t\t\t\tthis.treeView.reload(this.focusedTab)\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tthis.highlightTab(this.focusedTab || null, { focus: true });\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tconsole.error('Could not reload treeView.', err);\n\t\t\t\t\t});\n\t\t\t});\n\n\t\t\t// Focus tab in sidebar when saving document\n\t\t\teditor.onDidSave(savedEditor => {\n\t\t\t\t//console.log('Document saved');\n\n\t\t\t\tconst element = this.tabDataProvider.getElementByUri(savedEditor.document.uri);\n\t\t\t\tthis.focusedTab = element;\n\n\t\t\t\tif (element) {\n\t\t\t\t\telement.isDirty = editor.document.isDirty;\n\t\t\t\t}\n\n\t\t\t\tthis.treeView.reload(this.focusedTab)\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tthis.highlightTab(this.focusedTab || null, { focus: true });\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tconsole.error('Could not reload treeView.', err);\n\t\t\t\t\t});\n\t\t\t});\n\n\t\t\tconst document = editor.document;\n\t\t\tdocument.onDidChangePath((changedDocument, path) => {\n\t\t\t\tif (nova.inDevMode()) console.log('editor.document.onDidChangePath', changedDocument.uri, path);\n\t\t\t});\n\n\t\t\tdocument.onDidChangeSyntax((changedDocument, newSyntax) => {\n\t\t\t\tif (nova.inDevMode()) console.log('editor.document.onDidChangeSyntax', changedDocument.uri, newSyntax);\n\n\t\t\t\tconst element = this.tabDataProvider.getElementByUri(document.uri);\n\n\t\t\t\tif (!element) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\telement.syntax = newSyntax || 'plaintext';\n\n\t\t\t\tthis.tabDataProvider.loadData(nova.workspace.textDocuments, this.focusedTab || undefined);\n\t\t\t\tthis.treeView.reload()\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tthis.highlightTab(this.focusedTab || null, { focus: true });\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tconsole.error('Could not reload treeView.', err);\n\t\t\t\t\t});\n\t\t\t});\n\t\t});\n\n\t\tthis.treeView.onDidChangeSelection((selection) => {\n\t\t\tif (nova.inDevMode()) console.log('treeView.onDidChangeSelection');\n\t\t\t//console.log('New selection: ' + selection.map((e) => e.name));\n\n\t\t\tif (!selection[0]) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Prevent tab opening when editor selection changes\n\t\t\tif (this.openTabWhenFocusSidebar === false) {\n\t\t\t\tthis.openTabWhenFocusSidebar = true;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst activeDocument = nova.workspace.activeTextEditor ? nova.workspace.activeTextEditor.document : null;\n\n\t\t\tif (this.openOnSingleClick && (!activeDocument || activeDocument.uri !== selection[0].uri)) {\n\t\t\t\tnova.commands.invoke('tabs-sidebar.open');\n\t\t\t}\n\t\t});\n\n\t\tthis.treeView.onDidCollapseElement(element => {\n\t\t\t// console.log('Collapsed: ' + element?.name);\n\n\t\t\t// Handle Folder Items\n\t\t\tif (element instanceof FolderItem) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (element?.syntax) {\n\t\t\t\tthis.tabDataProvider.collapsedKindGroups.push(element.syntax);\n\t\t\t\tnova.workspace.config.set('eablokker.tabsSidebar.config.collapsedKindGroups', this.tabDataProvider.collapsedKindGroups);\n\t\t\t}\n\t\t});\n\n\t\tthis.treeView.onDidExpandElement(element => {\n\t\t\t// console.log('Expanded: ' + element?.name);\n\n\t\t\t// Handle Folder Items\n\t\t\tif (element instanceof FolderItem) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (element?.syntax) {\n\t\t\t\tconst index = this.tabDataProvider.collapsedKindGroups.indexOf(element.syntax);\n\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthis.tabDataProvider.collapsedKindGroups.splice(index, 1);\n\t\t\t\t\tnova.workspace.config.set('eablokker.tabsSidebar.config.collapsedKindGroups', this.tabDataProvider.collapsedKindGroups);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.treeView.onDidChangeVisibility(() => {\n\t\t\tif (nova.inDevMode()) console.log('Visibility Changed');\n\t\t});\n\t}\n\n\tregisterCommands() {\n\t\tnova.commands.register('tabs-sidebar.close', (workspace: Workspace) => {\n\t\t\t// console.log('Close Tab clicked');\n\n\t\t\tconst selection = this.treeView.selection;\n\n\t\t\tif (!selection[0]) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Don't do anything with folders\n\t\t\tif (selection[0] instanceof GroupItem || selection[0] instanceof FolderItem) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet activeDocument = workspace.activeTextEditor ? workspace.activeTextEditor.document : null;\n\t\t\tconst activeDocumentIsRemote = activeDocument ? activeDocument.isRemote : false;\n\t\t\tconst selectionIsRemote = selection[0].isRemote;\n\n\t\t\t// Close currently active tab\n\t\t\tif (activeDocument && selection[0].uri === activeDocument.uri) {\n\t\t\t\tthis.tabDataProvider\n\t\t\t\t\t.runProcess(__dirname + '/click_menu_item.sh', [nova.localize('File'), nova.localize('Close Tab')])\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tactiveDocument = workspace.activeTextEditor ? workspace.activeTextEditor.document : null;\n\n\t\t\t\t\t\tif (activeDocument) {\n\t\t\t\t\t\t\tthis.focusedTab = this.tabDataProvider.getElementByUri(activeDocument.uri);\n\t\t\t\t\t\t\tthis.highlightTab(this.focusedTab || null, { focus: true });\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tconsole.error('Could not click menu item.', err);\n\t\t\t\t\t});\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!selectionIsRemote) {\n\t\t\t\t// Close non currently active tab by switching to it and back\n\t\t\t\tworkspace.openFile(selection[0].uri)\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tthis.tabDataProvider\n\t\t\t\t\t\t\t.runProcess(__dirname + '/click_menu_item.sh', [nova.localize('File'), nova.localize('Close Tab')])\n\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\tif (!activeDocument) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Switch back to local tab after closing other local tab\n\t\t\t\t\t\t\t\tif (!activeDocumentIsRemote) {\n\t\t\t\t\t\t\t\t\tworkspace.openFile(activeDocument.uri)\n\t\t\t\t\t\t\t\t\t\t.then(value => {\n\t\t\t\t\t\t\t\t\t\t\tif (value) {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.focusedTab = this.tabDataProvider.getElementByUri(value.document.uri);\n\t\t\t\t\t\t\t\t\t\t\t\tthis.highlightTab(this.focusedTab || null, { focus: true });\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t.catch((err: string) => {\n\t\t\t\t\t\t\t\t\t\t\tconsole.error('Could not open file.', err);\n\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Switch back to remote tab after closing other local tab\n\t\t\t\t\t\t\t\tthis.openRemoteTab(activeDocument.uri)\n\t\t\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\t\t\tif (activeDocument) {\n\t\t\t\t\t\t\t\t\t\t\tthis.focusedTab = this.tabDataProvider.getElementByUri(activeDocument.uri);\n\t\t\t\t\t\t\t\t\t\t\tthis.highlightTab(this.focusedTab || null, { focus: true });\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\t\t\t\tconsole.error('Could not open remote tab.', err);\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\t\tconsole.error('Could not click menu item.', err);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err: string) => {\n\t\t\t\t\t\tconsole.error('Could not open file.', err);\n\t\t\t\t\t});\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.openRemoteTab(selection[0].uri)\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.tabDataProvider\n\t\t\t\t\t\t.runProcess(__dirname + '/click_menu_item.sh', [nova.localize('File'), nova.localize('Close Tab')])\n\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\tif (!activeDocument) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Switch back to local tab after closing other remote tab\n\t\t\t\t\t\t\tif (!activeDocumentIsRemote) {\n\t\t\t\t\t\t\t\tworkspace.openFile(activeDocument.uri)\n\t\t\t\t\t\t\t\t\t.then(value => {\n\t\t\t\t\t\t\t\t\t\tif (value) {\n\t\t\t\t\t\t\t\t\t\t\tthis.focusedTab = this.tabDataProvider.getElementByUri(value.document.uri);\n\t\t\t\t\t\t\t\t\t\t\tthis.highlightTab(this.focusedTab || null, { focus: true });\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.catch((err: string) => {\n\t\t\t\t\t\t\t\t\t\tconsole.error('Could not open file.', err);\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Switch back to remote tab after closing other remote tab\n\t\t\t\t\t\t\tthis.openRemoteTab(activeDocument.uri)\n\t\t\t\t\t\t\t\t.then(editor => {\n\n\t\t\t\t\t\t\t\t\tif (editor) {\n\t\t\t\t\t\t\t\t\t\tthis.focusedTab = this.tabDataProvider.getElementByUri(editor.document.uri);\n\t\t\t\t\t\t\t\t\t\tthis.highlightTab(this.focusedTab || null, { focus: true });\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\t\t\tconsole.error('Could not open remote tab.', err);\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\tconsole.error('Could not click menu item.', err);\n\t\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.error('Could not open remote tab.', err);\n\t\t\t\t});\n\t\t});\n\n\t\tnova.commands.register('tabs-sidebar.open', (workspace: Workspace) => {\n\t\t\tconst selection = this.treeView.selection;\n\t\t\t// console.log('Selection: ' + selection[0].name);\n\n\t\t\tif (!selection[0]) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Don't do anything with folders\n\t\t\tif (selection[0] instanceof GroupItem || selection[0] instanceof FolderItem) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst isRemote = selection[0].isRemote;\n\n\t\t\t// Switch to tab for local file\n\t\t\tif (!isRemote) {\n\t\t\t\tworkspace.openFile(selection[0].uri)\n\t\t\t\t\t.then(value => {\n\t\t\t\t\t\tif (value) {\n\t\t\t\t\t\t\tthis.focusedTab = this.tabDataProvider.getElementByUri(value.document.uri);\n\t\t\t\t\t\t\tthis.highlightTab(this.focusedTab || null, { focus: true });\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err: string) => {\n\t\t\t\t\t\tconsole.error('Could not open file.', err);\n\t\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Switch to tab for remote file\n\t\t\tthis.openRemoteTab(selection[0].uri)\n\t\t\t\t.then(editor => {\n\t\t\t\t\tif (editor) {\n\t\t\t\t\t\tthis.focusedTab = this.tabDataProvider.getElementByUri(editor.document.uri);\n\t\t\t\t\t\tthis.highlightTab(this.focusedTab || null, { focus: true });\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.error('Could not open remote tab.', err);\n\t\t\t\t});\n\t\t});\n\n\t\tnova.commands.register('tabs-sidebar.doubleClick', () => {\n\t\t\t// Invoked when an item is double-clicked\n\t\t\tnova.commands.invoke('tabs-sidebar.open');\n\t\t});\n\n\t\tnova.commands.register('tabs-sidebar.up', () => {\n\t\t\t// Invoked when the 'Move Up' header button is clicked\n\t\t\tconst selection = this.treeView.selection;\n\n\t\t\tif (!selection[0]) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Don't do anything with folders\n\t\t\tif (selection[0] instanceof FolderItem) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Move kind group up\n\t\t\tif (selection[0] instanceof GroupItem) {\n\t\t\t\tthis.tabDataProvider.moveKindGroup(selection[0], -1);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// console.log(JSON.stringify(selection[0]));\n\t\t\t// console.log('Move Up: ' + selection.map((e) => e.name));\n\n\t\t\tthis.tabDataProvider.moveTab(selection[0], -1);\n\t\t});\n\n\t\tnova.commands.register('tabs-sidebar.down', () => {\n\t\t\t// Invoked when the 'Move Down' header button is clicked\n\t\t\tconst selection = this.treeView.selection;\n\n\t\t\tif (!selection[0]) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Don't do anything with folders\n\t\t\tif (selection[0] instanceof FolderItem) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Move kind group down\n\t\t\tif (selection[0] instanceof GroupItem) {\n\t\t\t\tthis.tabDataProvider.moveKindGroup(selection[0], 1);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// console.log(JSON.stringify(selection[0]));\n\t\t\t// console.log('Move Down: ' + selection.map((e) => e.name));\n\n\t\t\tthis.tabDataProvider.moveTab(selection[0], 1);\n\t\t});\n\n\t\tnova.commands.register('tabs-sidebar.cleanUpByTabBarOrder', (workspace: Workspace) => {\n\t\t\t//console.log('Clean up by tab bar order clicked');\n\n\t\t\tthis.tabDataProvider.runProcess(__dirname + '/list_menu_items.sh', [nova.localize('Window')])\n\t\t\t\t.then(result => {\n\t\t\t\t\t//console.log(result);\n\n\t\t\t\t\tthis.tabDataProvider.cleanUpByTabBarOrder(result);\n\n\t\t\t\t\tthis.focusedTab = workspace.activeTextEditor ? this.tabDataProvider.getElementByUri(workspace.activeTextEditor.document.uri) : undefined;\n\t\t\t\t\tthis.treeView.reload()\n\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\tthis.highlightTab(this.focusedTab || null, { focus: true });\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\tconsole.error('Could not reload treeView.', err);\n\t\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.error(err);\n\t\t\t\t});\n\t\t});\n\n\t\tnova.commands.register('tabs-sidebar.cleanUpByAlpha', () => {\n\t\t\tif (nova.inDevMode()) console.log('cleanUpByAlpha');\n\n\t\t\tthis.tabDataProvider.cleanUpByAlpha();\n\t\t\tthis.treeView.reload()\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.highlightTab(this.focusedTab || null, { focus: true });\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.error('Could not reload treeView.', err);\n\t\t\t\t});\n\t\t});\n\n\t\tnova.commands.register('tabs-sidebar.cleanUpByType', () => {\n\t\t\tif (nova.inDevMode()) console.log('cleanUpByType');\n\n\t\t\tthis.tabDataProvider.cleanUpByType();\n\t\t\tthis.treeView.reload()\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.highlightTab(this.focusedTab || null, { focus: true });\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.error('Could not reload treeView.', err);\n\t\t\t\t});\n\t\t});\n\n\t\tnova.commands.register('tabs-sidebar.sortByAlpha', (workspace: Workspace) => {\n\t\t\tif (nova.inDevMode()) console.log('Sort alphabetically');\n\n\t\t\tworkspace.config.set('eablokker.tabsSidebar.config.sortAlpha', !this.tabDataProvider.sortAlpha);\n\t\t});\n\n\t\tnova.commands.register('tabs-sidebar.groupByType', (workspace: Workspace) => {\n\t\t\tif (nova.inDevMode()) console.log('groupByType');\n\n\t\t\tif (this.groupBy !== 'type') {\n\t\t\t\tworkspace.config.set('eablokker.tabsSidebar.config.groupBy', 'type');\n\t\t\t} else {\n\t\t\t\tworkspace.config.set('eablokker.tabsSidebar.config.groupBy', 'none');\n\t\t\t}\n\t\t});\n\n\t\tnova.commands.register('tabs-sidebar.groupByFolder', (workspace: Workspace) => {\n\t\t\tif (nova.inDevMode()) console.log('groupByFolder');\n\n\t\t\tif (this.groupBy !== 'folder') {\n\t\t\t\tworkspace.config.set('eablokker.tabsSidebar.config.groupBy', 'folder');\n\t\t\t} else {\n\t\t\t\tworkspace.config.set('eablokker.tabsSidebar.config.groupBy', 'none');\n\t\t\t}\n\t\t});\n\n\t\tnova.commands.register('tabs-sidebar.showInFilesSidebar', (workspace: Workspace) => {\n\t\t\tif (nova.inDevMode()) console.log('Show in Files Sidebar');\n\n\t\t\tconst selection = this.treeView.selection;\n\n\t\t\tif (!selection[0]) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Need to open selected tab in order to invoke command\n\t\t\tworkspace.openFile(selection[0].uri)\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.tabDataProvider\n\t\t\t\t\t\t.runProcess(__dirname + '/click_menu_item.sh', [nova.localize('File'), nova.localize('Show in Files Sidebar')])\n\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\tconsole.error('Could not click menu item.', err);\n\t\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch((err: string) => {\n\t\t\t\t\tconsole.error('Could not open file.', err);\n\t\t\t\t});\n\t\t});\n\n\t\tnova.commands.register('tabs-sidebar.showInFinder', () => {\n\t\t\tconst selection = this.treeView.selection;\n\n\t\t\tif (!selection[0]) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!selection[0].path) {\n\t\t\t\tif (nova.inDevMode()) console.log('No path found for selection', selection[0].name);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tnova.fs.reveal(selection[0].path);\n\t\t});\n\n\t\tnova.commands.register('tabs-sidebar.copyPath', () => {\n\t\t\tconst selection = this.treeView.selection;\n\n\t\t\tif (!selection[0]) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!selection[0].path) {\n\t\t\t\tif (nova.inDevMode()) console.log('No path found for selection', selection[0].name);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tnova.clipboard.writeText(selection[0].path);\n\t\t});\n\n\t\tnova.commands.register('tabs-sidebar.copyRelativePath', (workspace: Workspace) => {\n\t\t\tconst selection = this.treeView.selection;\n\n\t\t\tif (!selection[0]) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!selection[0].path) {\n\t\t\t\tif (nova.inDevMode()) console.log('No path found for selection', selection[0].name);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (workspace.path) {\n\t\t\t\tnova.clipboard.writeText(selection[0].path.substring(workspace.path.length));\n\t\t\t} else {\n\t\t\t\tnova.clipboard.writeText(selection[0].path);\n\t\t\t}\n\t\t});\n\n\t\tnova.commands.register('tabs-sidebar.refresh', (workspace: Workspace) => {\n\t\t\tconst selection = this.treeView.selection;\n\n\t\t\tif (selection[0] instanceof GroupItem || selection[0] instanceof FolderItem) {\n\t\t\t\tthis.tabDataProvider.loadData(workspace.textDocuments);\n\t\t\t} else {\n\t\t\t\tthis.tabDataProvider.loadData(workspace.textDocuments, selection[0] || undefined);\n\t\t\t}\n\n\t\t\tthis.initFileWatcher();\n\n\t\t\tthis.treeView.reload();\n\t\t});\n\t}\n\n\tinitFileWatcher() {\n\t\t// Don't watch files if workspace is not bound to folder\n\t\tif (this.showGitStatus === 'never' || !nova.workspace.path) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Find git executable\n\t\tthis.tabDataProvider.runProcess('/usr/bin/which', ['git'])\n\t\t\t.then(result => {\n\t\t\t\tthis.gitPath = result.trim();\n\n\t\t\t\tif (nova.inDevMode()) console.log('System has Git executable at', this.gitPath);\n\n\t\t\t\t// Check if workspace has git repo\n\t\t\t\tthis.tabDataProvider.runProcess(this.gitPath, ['-C', nova.workspace.path || '', 'rev-parse'])\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tif (nova.inDevMode()) console.log('Workspace has Git repo');\n\n\t\t\t\t\t\tthis.updateGitStatus();\n\n\t\t\t\t\t\t// Prevent excessive watch events\n\t\t\t\t\t\tlet watchTimeoutID = setTimeout(() => {\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tthis.fileWatcher = nova.fs.watch(null, () => { /**/ });\n\n\t\t\t\t\t\tthis.fileWatcher.onDidChange(path => {\n\t\t\t\t\t\t\tclearTimeout(watchTimeoutID);\n\t\t\t\t\t\t\twatchTimeoutID = setTimeout(() => {\n\t\t\t\t\t\t\t\tif (nova.inDevMode()) console.log('File changed', path);\n\n\t\t\t\t\t\t\t\tconst pathSplit = nova.path.split(nova.path.dirname(path));\n\n\t\t\t\t\t\t\t\t// Don't respond to changes to nova config\n\t\t\t\t\t\t\t\tif (pathSplit[pathSplit.length - 1] === '.nova' && nova.path.basename(path) === 'Configuration.json') {\n\t\t\t\t\t\t\t\t\tif (nova.inDevMode()) console.log('Dont respond to config changes');\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tthis.updateGitStatus();\n\t\t\t\t\t\t\t}, 200);\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tconsole.warn('Could not find Git repo in current workspace', err);\n\t\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.error('Could not find git executable', err);\n\t\t\t});\n\t}\n\n\topenRemoteTab(uri: string): Promise<TextEditor | null | undefined> {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst element = this.tabDataProvider.getElementByUri(uri);\n\n\t\t\tif (!element) {\n\t\t\t\tconsole.warn('No tab element found for uri ' + uri);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet basename = nova.path.basename(element.uri);\n\t\t\tlet parentPath = '';\n\t\t\tconst isUnique = this.tabDataProvider.isUniqueName(element);\n\n\t\t\t// Differentiate remote file by common parent path\n\t\t\tif (!isUnique) {\n\t\t\t\tconst commonBasePath = this.tabDataProvider.getCommonBasePath(element);\n\t\t\t\tparentPath = decodeURI(nova.path.dirname(element.uri).substring(commonBasePath.length));\n\t\t\t}\n\n\t\t\tif (parentPath.length) {\n\t\t\t\tbasename += ' â€“ ' + parentPath;\n\t\t\t}\n\n\t\t\tthis.tabDataProvider\n\t\t\t\t.runProcess(__dirname + '/click_project_item_by_name.sh', [nova.localize('Window'), basename])\n\t\t\t\t.then(() => {\n\t\t\t\t\t// console.log('Menu item ' + basename + ' of Window menu clicked');\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tconst editor = nova.workspace.activeTextEditor;\n\n\t\t\t\t\t\tresolve(editor);\n\t\t\t\t\t}, 1);\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.error('Could not click project item by filename.', err);\n\t\t\t\t\treject(err);\n\t\t\t\t});\n\t\t});\n\t}\n\n\thighlightTab(tab: TabItem | GroupItem | null, options?: { select?: boolean | undefined, focus?: boolean | undefined, reveal?: number | undefined } | undefined) {\n\t\tconst activeTabUri = nova.workspace.activeTextEditor ? nova.workspace.activeTextEditor.document.uri : undefined;\n\t\tconst gotoTabUri = tab?.uri;\n\n\t\tif (activeTabUri !== gotoTabUri) {\n\t\t\tthis.openTabWhenFocusSidebar = false;\n\t\t}\n\t\tthis.treeView.reveal(tab, options);\n\t}\n\n\tupdateGitStatus(reload = true) {\n\t\tthis.tabDataProvider.getGitStatus(this.gitPath)\n\t\t\t.then(gitStatuses => {\n\t\t\t\tgitStatuses.forEach(gitStatus => {\n\t\t\t\t\tif (!reload) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst path = nova.path.join(nova.workspace.path || '', gitStatus.path);\n\t\t\t\t\tconst element = this.tabDataProvider.getElementByPath(path);\n\n\t\t\t\t\t// console.log('gitStatus.path', path);\n\t\t\t\t\t// console.log('element', element);\n\n\t\t\t\t\t// Don't reload treeview if that file is not open in workspace\n\t\t\t\t\tif (!element) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst activeEditor = this.tabDataProvider.getElementByUri(nova.workspace.activeTextEditor?.document.uri || '');\n\n\t\t\t\t\tthis.treeView.reload(element)\n\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\tthis.highlightTab(activeEditor || null);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\tconsole.error('Could not reload treeView.', err);\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((err: Error) => {\n\t\t\t\tconsole.error('Could not update git statuses', err);\n\t\t\t});\n\t}\n}\n\n\nexports.activate = function() {\n\t// Do work when the extension is activated\n\tnew App();\n};\n\nexports.deactivate = function() {\n\t// Clean up state before the extension is deactivated\n};\n\nexport { App };\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASA,IAAA,QAAA,kBAAA,YAAA;AAUC,IAAA,SAAA,QAAA,CAAY,IAAY,EAAA;AACvB,QAAA,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;AACjB,QAAA,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;AACpB,QAAA,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;AACf,QAAA,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC;AACd,QAAA,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;KACtB;AAED,IAAA,MAAA,CAAA,cAAA,CAAI,QAAM,CAAA,SAAA,EAAA,QAAA,EAAA;AAAV,QAAA,GAAA,EAAA,YAAA;YACC,OAAO,IAAI,CAAC,OAAO,CAAC;SACpB;AAED,QAAA,GAAA,EAAA,UAAW,MAAqB,EAAA;AAC/B,YAAA,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;SACtB;;;AAJA,KAAA,CAAA,CAAA;IAKF,OAAC,QAAA,CAAA;AAAD,CAAC,EAAA,CAAA,CAAA;AAED,IAAA,OAAA,kBAAA,UAAA,MAAA,EAAA;IAAsB,SAAQ,CAAA,OAAA,EAAA,MAAA,CAAA,CAAA;IAU7B,SAAY,OAAA,CAAA,IAAY,EAAE,GAAiB,EAAA;QAA3C,IACC,KAAA,GAAA,MAAA,CAAA,IAAA,CAAA,IAAA,EAAM,IAAI,CAAC,IAiBX,IAAA,CAAA;;AAdA,QAAA,IAAM,UAAU,GAAG,IAAI,MAAM,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC,CAAC;AAEnF,QAAA,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,KAAI,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,IAAI,SAAS,CAAC;AAClC,QAAA,KAAI,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC;AACnB,QAAA,KAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC;AAC7B,QAAA,KAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,OAAO,CAAC;AAC5B,QAAA,KAAI,CAAC,UAAU,GAAG,GAAG,CAAC,UAAU,CAAC;AACjC,QAAA,KAAI,CAAC,SAAS,GAAG,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;AACrD,QAAA,KAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;AACnB,QAAA,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACnB,KAAI,CAAC,OAAO,GAAG,GAAG,CAAC,MAAM,IAAI,WAAW,CAAC;QACzC,KAAI,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;AACtE,QAAA,KAAI,CAAC,YAAY,GAAG,GAAG,CAAC,QAAQ,GAAG,YAAY,GAAG,KAAK,CAAC;;KACxD;AAED,IAAA,MAAA,CAAA,cAAA,CAAI,OAAO,CAAA,SAAA,EAAA,SAAA,EAAA;AAAX,QAAA,GAAA,EAAA,YAAA;YACC,OAAO,IAAI,CAAC,QAAQ,CAAC;SACrB;AAED,QAAA,GAAA,EAAA,UAAY,OAAgB,EAAA;AAC3B,YAAA,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;SACxB;;;AAJA,KAAA,CAAA,CAAA;IAKF,OAAC,OAAA,CAAA;AAAD,CArCA,CAAsB,QAAQ,CAqC7B,CAAA,CAAA;AAED,IAAA,SAAA,kBAAA,UAAA,MAAA,EAAA;IAAwB,SAAQ,CAAA,SAAA,EAAA,MAAA,CAAA,CAAA;IAM/B,SAAY,SAAA,CAAA,IAAY,EAAE,OAAsD,EAAA;QAAhF,IACC,KAAA,GAAA,MAAA,CAAA,IAAA,CAAA,IAAA,EAAM,IAAI,CAAC,IAQX,IAAA,CAAA;AANA,QAAA,KAAI,CAAC,OAAO,GAAG,CAAA,OAAO,KAAA,IAAA,IAAP,OAAO,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAP,OAAO,CAAE,MAAM,KAAI,WAAW,CAAC;QAC9C,KAAI,CAAC,SAAS,GAAG,OAAO,KAAA,IAAA,IAAP,OAAO,KAAP,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,OAAO,CAAE,OAAO,CAAC;AAClC,QAAA,KAAI,CAAC,YAAY,GAAG,WAAW,CAAC;AAChC,QAAA,KAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;AACnB,QAAA,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC;AACnB,QAAA,KAAI,CAAC,KAAK,GAAG,SAAS,CAAC;;KACvB;IAED,SAAQ,CAAA,SAAA,CAAA,QAAA,GAAR,UAAS,OAAgB,EAAA;AACxB,QAAA,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC;AACtB,QAAA,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;KAC5B,CAAA;IACF,OAAC,SAAA,CAAA;AAAD,CArBA,CAAwB,QAAQ,CAqB/B,CAAA,CAAA;AAED,IAAA,UAAA,kBAAA,UAAA,MAAA,EAAA;IAAyB,SAAQ,CAAA,UAAA,EAAA,MAAA,CAAA,CAAA;AAMhC,IAAA,SAAA,UAAA,CAAY,IAAY,EAAA;QAAxB,IACC,KAAA,GAAA,MAAA,CAAA,IAAA,CAAA,IAAA,EAAM,IAAI,CAAC,IAMX,IAAA,CAAA;AAJA,QAAA,KAAI,CAAC,YAAY,GAAG,aAAa,CAAC;AAClC,QAAA,KAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;AACnB,QAAA,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC;AACnB,QAAA,KAAI,CAAC,KAAK,GAAG,SAAS,CAAC;;KACvB;IAED,UAAQ,CAAA,SAAA,CAAA,QAAA,GAAR,UAAS,OAA6B,EAAA;AACrC,QAAA,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC;QACtB,IAAM,eAAe,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,OAAO,EAAE,CAAC,SAAS,CAAC,UAAA,KAAK,EAAA,EAAI,OAAA,KAAK,YAAY,UAAU,CAAA,EAAA,CAAC,CAAC;QAExG,IAAI,OAAO,YAAY,UAAU,IAAI,eAAe,KAAK,CAAC,CAAC,EAAE;AAC5D,YAAA,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;AAC/B,SAAA;aAAM,IAAI,OAAO,YAAY,UAAU,EAAE;AACzC,YAAA,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,eAAe,GAAG,CAAC,EAAE,CAAC,EAAE,OAAO,CAAC,CAAC;AACtD,SAAA;AAAM,aAAA;AACN,YAAA,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AAC5B,SAAA;KACD,CAAA;IACF,OAAC,UAAA,CAAA;AAAD,CA3BA,CAAyB,QAAQ,CA2BhC,CAAA,CAAA;AAED,IAAA,eAAA,kBAAA,YAAA;AAYC,IAAA,SAAA,eAAA,CAAY,GAAQ,EAAA;AACnB,QAAA,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;AAEf,QAAA,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;AACpB,QAAA,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;AACzB,QAAA,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;AAC3B,QAAA,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;AAEtB,QAAA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,wCAAwC,EAAE,SAAS,CAAC,CAAC;QACjG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC;AACjC,QAAA,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,6CAA6C,EAAE,OAAO,CAAC,IAAI,EAAE,CAAC;AAC3G,QAAA,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,oDAAoD,EAAE,OAAO,CAAC,IAAI,EAAE,CAAC;AAC5H,QAAA,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,kDAAkD,EAAE,OAAO,CAAC,IAAI,EAAE,CAAC;KACxH;AAED,IAAA,MAAA,CAAA,cAAA,CAAI,eAAS,CAAA,SAAA,EAAA,WAAA,EAAA;AAAb,QAAA,GAAA,EAAA,YAAA;YACC,OAAO,IAAI,CAAC,UAAU,CAAC;SACvB;AAED,QAAA,GAAA,EAAA,UAAc,SAAyB,EAAA;AACtC,YAAA,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;YAE5B,IAAI,CAAC,SAAS,EAAE,CAAC;SACjB;;;AANA,KAAA,CAAA,CAAA;AAQD,IAAA,MAAA,CAAA,cAAA,CAAI,eAAO,CAAA,SAAA,EAAA,SAAA,EAAA;AAAX,QAAA,GAAA,EAAA,YAAA;YACC,OAAO,IAAI,CAAC,QAAQ,CAAC;SACrB;AAED,QAAA,GAAA,EAAA,UAAY,OAAsB,EAAA;AACjC,YAAA,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;YAExB,IAAI,CAAC,SAAS,EAAE,CAAC;SACjB;;;AANA,KAAA,CAAA,CAAA;AAQD,IAAA,eAAA,CAAA,SAAA,CAAA,QAAQ,GAAR,UAAS,YAAqC,EAAE,UAAoB,EAAA;QAApE,IAoLC,KAAA,GAAA,IAAA,CAAA;;AAlLA,QAAA,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE;YAC5B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,UAAA,IAAI,EAAA;AAC9C,gBAAA,OAAO,YAAY,CAAC,IAAI,CAAC,UAAA,GAAG,EAAI,EAAA,OAAA,GAAG,CAAC,IAAI,KAAK,IAAI,CAAjB,EAAiB,CAAC,CAAC;AACpD,aAAC,CAAC,CAAC;AACH,SAAA;;QAGD,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAC,IAAI,EAAE,CAAC,EAAE,IAAI,EAAA;YACpC,IAAM,WAAW,GAAG,YAAY,CAAC,KAAK,CAAC,UAAA,GAAG,EAAI,EAAA,OAAA,GAAG,CAAC,GAAG,KAAK,IAAI,CAAC,GAAG,CAApB,EAAoB,CAAC,CAAC;AACpE,YAAA,IAAI,WAAW,EAAE;;AAEhB,gBAAA,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AAClB,aAAA;AACF,SAAC,CAAC,CAAC;;QAGH,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,UAAC,MAAM,EAAE,CAAC,EAAE,IAAI,EAAA;YAC3C,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAC,KAAK,EAAE,EAAE,EAAE,KAAK,EAAA;gBACxC,IAAM,WAAW,GAAG,YAAY,CAAC,KAAK,CAAC,UAAA,GAAG,EAAI,EAAA,OAAA,GAAG,CAAC,GAAG,KAAK,KAAK,CAAC,GAAG,CAArB,EAAqB,CAAC,CAAC;AACrE,gBAAA,IAAM,aAAa,GAAG,KAAK,CAAC,MAAM,IAAI,MAAM,CAAC,MAAM,KAAK,KAAK,CAAC,MAAM,CAAC;gBAErE,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC;gBAEzC,IAAI,WAAW,IAAI,aAAa,EAAE;AACjC,oBAAA,KAAK,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;AACpB,iBAAA;;AAGD,gBAAA,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,EAAE;AAC5B,oBAAA,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AAClB,iBAAA;AACF,aAAC,CAAC,CAAC;AACJ,SAAC,CAAC,CAAC;;QAGH,IAAI,IAAI,CAAC,qBAAqB,CAAC,MAAM,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE;YACpE,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,UAAA,MAAM,EAAA;AACpE,gBAAA,OAAO,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,UAAA,KAAK,EAAA;AACpC,oBAAA,IAAM,UAAU,GAAG,KAAK,CAAC,MAAM,IAAI,WAAW,CAAC;oBAC/C,OAAO,MAAM,KAAK,UAAU,CAAC;AAC9B,iBAAC,CAAC,CAAC;AACJ,aAAC,CAAC,CAAC;AACH,SAAA;;AAGD,QAAA,IAAM,SAAS,GAAG,YAAY,CAAC,MAAM,CAAC,UAAA,GAAG,EAAI,EAAA,OAAA,CAAC,GAAG,CAAC,QAAQ,CAAb,EAAa,CAAC,CAAC;AAC5D,QAAA,IAAM,UAAU,GAAG,YAAY,CAAC,MAAM,CAAC,UAAA,GAAG,EAAI,EAAA,OAAA,GAAG,CAAC,QAAQ,CAAZ,EAAY,CAAC,CAAC;AAE5D,QAAA,SAAS,CAAC,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC,EAAA;AACnB,YAAA,IAAM,KAAK,GAAG,CAAC,CAAC,IAAI,IAAI,EAAE,CAAC;AAC3B,YAAA,IAAM,KAAK,GAAG,CAAC,CAAC,IAAI,IAAI,EAAE,CAAC;AAC3B,YAAA,OAAO,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AACnC,SAAC,CAAC,CAAC;;;;;AAOH,QAAA,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;;AAG3B,QAAA,IAAI,SAAS,CAAC,MAAM,IAAI,UAAU,CAAC,MAAM,EAAE;AAC1C,YAAA,IAAM,WAAW,GAAG,IAAI,UAAU,CAAC,OAAO,CAAC,CAAC;AAC5C,YAAA,WAAW,CAAC,IAAI,GAAG,GAAG,CAAC;AACvB,YAAA,WAAW,CAAC,KAAK,GAAG,eAAe,CAAC;AACpC,YAAA,WAAW,CAAC,YAAY,GAAG,kBAAkB,CAAC;AAE9C,YAAA,IAAI,CAAC,mBAAmB,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC;AAEjD,YAAA,IAAM,YAAY,GAAG,IAAI,UAAU,CAAC,QAAQ,CAAC,CAAC;AAC9C,YAAA,YAAY,CAAC,IAAI,GAAG,GAAG,CAAC;AACxB,YAAA,YAAY,CAAC,KAAK,GAAG,gBAAgB,CAAC;AACtC,YAAA,YAAY,CAAC,YAAY,GAAG,kBAAkB,CAAC;AAE/C,YAAA,IAAI,CAAC,mBAAmB,CAAC,UAAU,EAAE,YAAY,CAAC,CAAC;AAEnD,YAAA,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;AACxC,YAAA,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;AACzC,SAAA;AAAM,aAAA;AACN,YAAA,IAAM,UAAU,GAAG,IAAI,UAAU,CAAC,MAAM,CAAC,CAAC;AAE1C,YAAA,IAAI,CAAC,mBAAmB,CAAC,YAAY,EAAE,UAAU,CAAC,CAAC;AAEnD,YAAA,UAAU,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAA,KAAK,EAAA;AAChC,gBAAA,KAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AACnC,aAAC,CAAC,CAAC;AACH,SAAA;;AAGD,QAAA,YAAY,CAAC,OAAO,CAAC,UAAA,GAAG,EAAA;;YAEvB,IAAI,GAAG,CAAC,UAAU,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE;gBAChC,OAAO;AACP,aAAA;;YAGD,IAAM,qBAAqB,GAAG,KAAI,CAAC,WAAW,CAAC,KAAK,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,KAAK,GAAG,CAAC,IAAI,CAAjB,EAAiB,CAAC,CAAC;;AAGhF,YAAA,IAAI,qBAAqB,EAAE;;AAE1B,gBAAA,IAAI,QAAQ,GAAG,CAAC,CAAC,CAAC;AAClB,gBAAA,IAAI,UAAU,EAAE;AACf,oBAAA,QAAQ,GAAG,KAAI,CAAC,WAAW,CAAC,SAAS,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,KAAK,UAAU,CAAC,IAAI,CAAxB,EAAwB,CAAC,CAAC;AACxE,iBAAA;AAED,gBAAA,IAAI,QAAQ,GAAG,CAAC,CAAC,EAAE;AAClB,oBAAA,KAAI,CAAC,WAAW,CAAC,MAAM,CAAC,QAAQ,GAAG,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC;AACnD,iBAAA;AAAM,qBAAA;oBACN,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;AAChC,iBAAA;AACD,aAAA;;YAGD,IAAM,QAAQ,GAAG,KAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAA,IAAI,EAAA,EAAI,OAAA,IAAI,CAAC,GAAG,KAAK,GAAG,CAAC,GAAG,CAAA,EAAA,CAAC,CAAC;;AAGpE,YAAA,IAAI,QAAQ,EAAE;AACb,gBAAA,IAAM,OAAO,GAAG,KAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,IAAI,UAAU,CAAC,CAAC;gBACtD,IAAM,OAAO,GAAG,IAAI,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;AAE1C,gBAAA,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AAC7B,aAAA;;YAGD,IAAM,oBAAoB,GAAG,KAAI,CAAC,cAAc,CAAC,KAAK,CAAC,UAAA,KAAK,EAAA;gBAC3D,OAAO,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,UAAA,IAAI,EAAI,EAAA,OAAA,IAAI,CAAC,GAAG,KAAK,GAAG,CAAC,GAAG,CAApB,EAAoB,CAAC,CAAC;AAC3D,aAAC,CAAC,CAAC;AAEH,YAAA,IAAI,oBAAoB,EAAE;AACzB,gBAAA,IAAM,OAAO,GAAG,KAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,IAAI,UAAU,CAAC,CAAC;gBACtD,IAAM,OAAO,GAAG,IAAI,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;;AAG1C,gBAAA,IAAM,WAAS,GAAG,GAAG,CAAC,MAAM,IAAI,WAAW,CAAC;gBAC5C,IAAM,MAAM,GAAG,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,UAAA,KAAK,IAAI,OAAA,KAAK,CAAC,MAAM,KAAK,WAAS,CAA1B,EAA0B,CAAC,CAAC;;AAG7E,gBAAA,IAAI,MAAM,EAAE;oBACX,IAAM,UAAU,GAAG,MAAM,CAAC,QAAQ,CAAC,SAAS,CAAC,UAAA,KAAK,EAAA,EAAI,OAAA,KAAK,CAAC,GAAG,KAAK,GAAG,CAAC,GAAG,CAAA,EAAA,CAAC,CAAC;oBAC7E,IAAI,UAAU,GAAG,CAAC,EAAE;AACnB,wBAAA,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,CAAC;AAC5C,qBAAA;AACD,iBAAA;AAAM,qBAAA;;;oBAIN,IAAM,aAAa,GAAG,WAAS;yBAC7B,KAAK,CAAC,GAAG,CAAC;yBACV,GAAG,CAAC,UAAC,CAAC,EAAA,EAAK,OAAA,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAA1C,EAA0C,CAAC;yBACtD,IAAI,CAAC,GAAG,CAAC,CAAC;oBAEZ,IAAI,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;oBAEnE,IAAI,WAAS,KAAK,WAAW,EAAE;wBAC9B,OAAO,GAAG,EAAE,CAAC;AACb,qBAAA;AAED,oBAAA,IAAM,SAAS,GAAG,IAAI,SAAS,CAC9B,KAAI,CAAC,GAAG,CAAC,WAAW,CAAC,WAA8B,CAAC,IAAI,aAAa,EACrE,EAAE,MAAM,EAAE,GAAG,CAAC,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,CACxC,CAAC;AAEF,oBAAA,SAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,CAAC;AAC/C,oBAAA,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;oBAEpC,IAAI,KAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,WAAS,CAAC,GAAG,CAAC,EAAE;AACtD,wBAAA,KAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,WAAS,CAAC,CAAC;AAC3C,qBAAA;AACD,iBAAA;AACD,aAAA;AACF,SAAC,CAAC,CAAC;AAEH,QAAA,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,oDAAoD,EAAE,IAAI,CAAC,qBAAqB,CAAC,CAAC;AAC5G,QAAA,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,6CAA6C,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAE3F,IAAI,CAAC,SAAS,EAAE,CAAC;KACjB,CAAA;AAED,IAAA,eAAA,CAAA,SAAA,CAAA,mBAAmB,GAAnB,UAAoB,IAA6B,EAAE,UAAsB,EAAA;QAAzE,IAqDC,KAAA,GAAA,IAAA,CAAA;AApDA,QAAA,IAAI,CAAC,OAAO,CAAC,UAAA,GAAG,EAAA;YACf,IAAM,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YAEhF,IAAI,YAAY,GAAG,UAAU,CAAC;YAC9B,WAAW,CAAC,OAAO,CAAC,UAAC,GAAG,EAAE,CAAC,EAAE,GAAG,EAAA;;gBAC/B,IAAM,UAAU,GAAG,GAAG,GAAG,CAAA,KAAA,IAAI,CAAC,IAAI,EAAC,IAAI,WAAI,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AAEhE,gBAAA,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;gBAExB,IAAM,WAAW,GAAG,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAA,KAAK,EAAI,EAAA,OAAA,KAAK,YAAY,UAAU,IAAI,KAAK,CAAC,IAAI,KAAK,UAAU,CAAA,EAAA,CAAe,CAAC;;gBAGhI,IAAI,CAAC,WAAW,EAAE;AACjB,oBAAA,IAAM,SAAS,GAAG,IAAI,UAAU,CAAC,GAAG,CAAC,CAAC;AACtC,oBAAA,SAAS,CAAC,IAAI,GAAG,UAAU,CAAC;AAC5B,oBAAA,SAAS,CAAC,OAAO,GAAG,UAAU,CAAC;AAC/B,oBAAA,SAAS,CAAC,KAAK,GAAG,QAAQ,CAAC;oBAE3B,IAAI,UAAU,KAAK,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE;AAC7C,wBAAA,SAAS,CAAC,KAAK,GAAG,aAAa,CAAC;AAChC,qBAAA;oBAED,IAAI,GAAG,KAAK,OAAO,EAAE;AACpB,wBAAA,SAAS,CAAC,KAAK,GAAG,aAAa,CAAC;AAChC,qBAAA;oBAED,IAAI,GAAG,KAAK,MAAM,EAAE;AACnB,wBAAA,SAAS,CAAC,KAAK,GAAG,YAAY,CAAC;AAC/B,qBAAA;oBAED,IAAI,GAAG,KAAK,cAAc,EAAE;AAC3B,wBAAA,SAAS,CAAC,KAAK,GAAG,aAAa,CAAC;AAChC,qBAAA;AAED,oBAAA,IAAI,GAAG,CAAC,QAAQ,CAAC,gBAAgB,CAAC,EAAE;AACnC,wBAAA,SAAS,CAAC,KAAK,GAAG,0BAA0B,CAAC;AAC7C,qBAAA;AAED,oBAAA,YAAY,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;oBAEjC,YAAY,GAAG,SAAS,CAAC;;AAGzB,iBAAA;AAAM,qBAAA,IAAI,WAAW,EAAE;oBACvB,YAAY,GAAG,WAAW,CAAC;AAC3B,iBAAA;AACF,aAAC,CAAC,CAAC;AAEH,YAAA,IAAM,OAAO,GAAG,KAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,IAAI,UAAU,CAAC,CAAC;YACtD,IAAM,KAAK,GAAG,IAAI,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;AACxC,YAAA,YAAY,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;AAC9B,SAAC,CAAC,CAAC;KACH,CAAA;IAED,eAAU,CAAA,SAAA,CAAA,UAAA,GAAV,UAAW,UAAkB,EAAE,IAAc,EAAE,GAAY,EAAE,OAAc,EAAA;AAAd,QAAA,IAAA,OAAA,KAAA,KAAA,CAAA,EAAA,EAAA,OAAc,GAAA,IAAA,CAAA,EAAA;AAC1E,QAAA,OAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM,EAAA;YAClC,IAAI,SAAS,GAAG,EAAE,CAAC;YACnB,IAAI,WAAW,GAAG,EAAE,CAAC;AAErB,YAAA,IAAM,OAAO,GAAG,IAAI,OAAO,CAAC,UAAU,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;AAElE,YAAA,OAAO,CAAC,QAAQ,CAAC,UAAA,IAAI,EAAA;gBACpB,SAAS,IAAI,IAAI,CAAC;AACnB,aAAC,CAAC,CAAC;AAEH,YAAA,OAAO,CAAC,QAAQ,CAAC,UAAA,IAAI,EAAA;gBACpB,WAAW,IAAI,IAAI,CAAC;AACrB,aAAC,CAAC,CAAC;YAEH,IAAM,SAAS,GAAG,UAAU,CAAC,YAAA;;gBAE5B,MAAM,CAAC,iDAAiD,CAAC,CAAC;gBAC1D,OAAO,CAAC,SAAS,EAAE,CAAC;aACpB,EAAE,OAAO,CAAC,CAAC;AAEZ,YAAA,OAAO,CAAC,SAAS,CAAC,UAAA,MAAM,EAAA;gBACvB,YAAY,CAAC,SAAS,CAAC,CAAC;gBAExB,IAAI,MAAM,GAAG,CAAC,EAAE;oBACf,MAAM,CAAC,IAAI,KAAK,CAAC,gCAAgC,GAAG,MAAM,GAAG,kBAAkB,GAAG,UAAU,GAAG,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AACtH,iBAAA;gBAED,IAAI,WAAW,CAAC,MAAM,EAAE;AACvB,oBAAA,MAAM,CAAC,IAAI,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC;AAC/B,iBAAA;AAAM,qBAAA;oBACN,OAAO,CAAC,SAAS,CAAC,CAAC;AACnB,iBAAA;AACF,aAAC,CAAC,CAAC;YAEH,OAAO,CAAC,KAAK,EAAE,CAAC;AACjB,SAAC,CAAC,CAAC;KACH,CAAA;IAED,eAAQ,CAAA,SAAA,CAAA,QAAA,GAAR,UAAS,GAAW,EAAA;QACnB,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;KAC/B,CAAA;IAED,eAAY,CAAA,SAAA,CAAA,YAAA,GAAZ,UAAa,GAAY,EAAA;QAAzB,IAOC,KAAA,GAAA,IAAA,CAAA;AANA,QAAA,OAAO,IAAI,CAAC,SAAS,CAAC,aAAa;AACjC,aAAA,MAAM,CAAC,UAAA,GAAG,EAAA,EAAI,OAAA,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,GAAG,CAAA,EAAA,CAAC;aAClC,KAAK,CAAC,UAAA,GAAG,EAAA;YACT,IAAM,QAAQ,GAAG,KAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACxC,OAAO,QAAQ,KAAK,KAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AAC5C,SAAC,CAAC,CAAC;KACJ,CAAA;IAED,eAAiB,CAAA,SAAA,CAAA,iBAAA,GAAjB,UAAkB,GAAY,EAAA;QAA9B,IA4BC,KAAA,GAAA,IAAA,CAAA;QA3BA,IAAM,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,CAAC;AACvE,QAAA,IAAM,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa;aAC9C,MAAM,CAAC,UAAA,GAAG,EAAA;;YAEV,OAAO,GAAG,CAAC,QAAQ,KAAK,GAAG,CAAC,QAAQ,IAAI,KAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,KAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AAC3F,SAAC,CAAC,CAAC;QAEJ,IAAM,cAAc,GAAa,EAAE,CAAC;AACpC,QAAA,WAAW,CAAC,KAAK,CAAC,UAAC,GAAG,EAAE,CAAC,EAAA;AACxB,YAAA,IAAM,SAAS,GAAG,WAAW,CAAC,KAAK,CAAC,UAAC,IAAI,EAAA;gBACxC,IAAM,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,CAAC;AACzE,gBAAA,OAAO,YAAY,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC;AAChC,aAAC,CAAC,CAAC;YAEH,IAAI,CAAC,SAAS,EAAE;AACf,gBAAA,OAAO,KAAK,CAAC;AACb,aAAA;AAED,YAAA,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACzB,YAAA,OAAO,IAAI,CAAC;AACb,SAAC,CAAC,CAAC;AAEH,QAAA,IAAI,cAAc,CAAC,MAAM,KAAK,CAAC,EAAE;AAChC,YAAA,OAAO,GAAG,CAAC;AACX,SAAA;AAED,QAAA,OAAO,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;KAChC,CAAA;AAED,IAAA,eAAA,CAAA,SAAA,CAAA,OAAO,GAAP,UAAQ,GAAY,EAAE,QAAgB,EAAA;QAAtC,IA2DC,KAAA,GAAA,IAAA,CAAA;;AAzDA,QAAA,IAAM,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC;AACpB,QAAA,IAAM,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;;QAGtB,IAAM,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,GAAG,KAAK,GAAG,CAAhB,EAAgB,CAAC,CAAC;AACzE,QAAA,IAAM,WAAW,GAAG,aAAa,GAAG,QAAQ,CAAC;QAE7C,IAAI,WAAW,GAAG,CAAC,IAAI,WAAW,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE;YAC5D,OAAO;AACP,SAAA;;QAGD,IAAM,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;QAC/C,IAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;;AAG3C,QAAA,IAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;QAC/D,IAAI;aACF,MAAM,CAAC,UAAC,GAAG,EAAE,CAAC,EAAE,IAAI,IAAK,OAAA,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAvB,EAAuB,CAAC;aACjD,OAAO,CAAC,UAAC,GAAG,EAAA;;YAEZ,IAAI,GAAG,KAAK,cAAc,EAAE;gBAC3B,OAAO;AACP,aAAA;YAED,IAAM,UAAU,GAAG,GAAoB,CAAC;AAExC,YAAA,IAAM,MAAM,GAAG,QAAQ,CAAC,UAAU,CAAC,CAAC;AACpC,YAAA,IAAM,MAAM,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC;;AAGlC,YAAA,MAAM,CAAC,UAAU,CAAC,GAAG,MAAM,CAAC;;AAE5B,YAAA,QAAQ,CAAC,UAAU,CAAC,GAAG,MAAM,CAAC;AAC/B,SAAC,CAAC,CAAC;;AAGJ,QAAA,IAAM,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC;AACvD,QAAA,IAAM,OAAO,GAAG,SAAS,GAAG,QAAQ,CAAC;QAErC,IAAI,OAAO,GAAG,CAAC,IAAI,OAAO,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE;YACtD,OAAO;AACP,SAAA;AAED,QAAA,IAAM,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACtD,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;AAC1C,QAAA,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,6CAA6C,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;AAC3F,QAAA,IAAI,CAAC,GAAG,CAAC,UAAU,GAAG,MAAM,CAAC;;QAG7B,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;AACjF,aAAA,IAAI,CAAC,YAAA;AACL,YAAA,KAAI,CAAC,GAAG,CAAC,YAAY,CAAC,MAAM,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AAChD,SAAC,CAAC;aACD,KAAK,CAAC,UAAA,GAAG,EAAA;AACT,YAAA,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AACpB,SAAC,CAAC,CAAC;KACJ,CAAA;AAED,IAAA,eAAA,CAAA,SAAA,CAAA,aAAa,GAAb,UAAc,KAAgB,EAAE,QAAgB,EAAA;QAAhD,IAyCC,KAAA,GAAA,IAAA,CAAA;;AAvCA,QAAA,IAAM,MAAM,GAAG,KAAK,CAAC,MAAM,IAAI,WAAW,CAAC;;QAG3C,IAAM,aAAa,GAAG,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,MAAM,KAAK,MAAM,CAAtB,EAAsB,CAAC,CAAC;AACpF,QAAA,IAAM,WAAW,GAAG,aAAa,GAAG,QAAQ,CAAC;QAE7C,IAAI,WAAW,GAAG,CAAC,IAAI,WAAW,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE;YACjE,OAAO;AACP,SAAA;QAED,IAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;;QAGpD,IAAM,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,UAAA,KAAK,IAAI,OAAA,KAAK,CAAC,MAAM,KAAK,MAAM,CAAvB,EAAuB,CAAC,CAAC;AAClF,QAAA,IAAM,OAAO,GAAG,SAAS,GAAG,QAAQ,CAAC;QAErC,IAAI,OAAO,GAAG,CAAC,IAAI,OAAO,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE;YACzD,OAAO;AACP,SAAA;;AAGD,QAAA,IAAM,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACzD,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;;QAG7C,IAAI,CAAC,mBAAmB,EAAE,CAAC;;QAG3B,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,UAAA,KAAK,EAAI,EAAA,OAAA,KAAK,CAAC,MAAM,IAAI,WAAW,CAAA,EAAA,CAAC,CAAC;AAC3F,QAAA,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,oDAAoD,EAAE,IAAI,CAAC,qBAAqB,CAAC,CAAC;;AAG5G,QAAA,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM,EAAE;AACxB,aAAA,IAAI,CAAC,YAAA;AACL,YAAA,KAAI,CAAC,GAAG,CAAC,YAAY,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AAClD,SAAC,CAAC;aACD,KAAK,CAAC,UAAA,GAAG,EAAA;AACT,YAAA,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AACpB,SAAC,CAAC,CAAC;KACJ,CAAA;IAED,eAAoB,CAAA,SAAA,CAAA,oBAAA,GAApB,UAAqB,MAAc,EAAA;QAAnC,IAmEC,KAAA,GAAA,IAAA,CAAA;QAlEA,IAAM,UAAU,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACtC,IAAM,aAAa,GAAa,EAAE,CAAC;QAEnC,IAAI,YAAY,GAAG,KAAK,CAAC;AACzB,QAAA,UAAU,CAAC,KAAK,CAAC,UAAC,QAAgB,EAAA;AACjC,YAAA,IAAI,QAAQ,CAAC,IAAI,EAAE,KAAK,GAAG,EAAE;gBAC5B,YAAY,GAAG,IAAI,CAAC;AACpB,gBAAA,OAAO,IAAI,CAAC;AACZ,aAAA;;AAGD,YAAA,IAAI,YAAY,IAAI,QAAQ,CAAC,IAAI,EAAE,KAAK,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,EAAE;gBACvE,YAAY,GAAG,KAAK,CAAC;AACrB,gBAAA,OAAO,KAAK,CAAC;AACb,aAAA;AAED,YAAA,IAAI,YAAY,EAAE;gBACjB,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,CAAC;AACpC,aAAA;AAED,YAAA,OAAO,IAAI,CAAC;AACb,SAAC,CAAC,CAAC;QAEH,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC,EAAA;;YAE1B,IAAM,KAAK,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,UAAA,IAAI,EAAA;gBAC5B,IAAI,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;gBACxC,IAAI,UAAU,GAAG,EAAE,CAAC;gBACpB,IAAM,OAAO,GAAG,KAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;gBAE5C,IAAI,CAAC,OAAO,EAAE;AACb,oBAAA,OAAO,QAAQ,CAAC;AAChB,iBAAA;gBAED,IAAM,QAAQ,GAAG,KAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;AAE5C,gBAAA,IAAI,QAAQ,EAAE;AACb,oBAAA,OAAO,QAAQ,CAAC;AAChB,iBAAA;gBAED,IAAM,cAAc,GAAG,KAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;gBACvD,UAAU,GAAG,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,SAAS,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC;gBAE/F,IAAI,UAAU,CAAC,MAAM,EAAE;AACtB,oBAAA,QAAQ,IAAI,KAAK,GAAG,UAAU,CAAC;AAC/B,iBAAA;AAED,gBAAA,OAAO,QAAQ,CAAC;AACjB,aAAC,CAAC,CAAC;AAEH,YAAA,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE;AAC1B,gBAAA,OAAO,CAAC,CAAC;AACT,aAAA;YAED,IAAI,aAAa,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE;AACxC,gBAAA,OAAO,CAAC,CAAC;AACT,aAAA;YAED,QACC,aAAa,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBAC/B,aAAa,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAC9B;AACH,SAAC,CAAC,CAAC;AACH,QAAA,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,6CAA6C,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAE3F,IAAI,CAAC,SAAS,EAAE,CAAC;KACjB,CAAA;AAED,IAAA,eAAA,CAAA,SAAA,CAAA,cAAc,GAAd,YAAA;QACC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC,EAAA;YAC1B,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;AACnE,SAAC,CAAC,CAAC;AACH,QAAA,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,6CAA6C,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAE3F,IAAI,CAAC,SAAS,EAAE,CAAC;KACjB,CAAA;AAED,IAAA,eAAA,CAAA,SAAA,CAAA,aAAa,GAAb,YAAA;QAAA,IAkBC,KAAA,GAAA,IAAA,CAAA;QAjBA,IAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,UAAA,IAAI,EAAA;AAC7C,YAAA,OAAO,KAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;AACpC,SAAC,CAAC,CAAC;QAEH,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC,EAAA;YAC1B,IAAM,QAAQ,GAAG,YAAY,CAAC,IAAI,CAAC,UAAA,IAAI,EAAA,EAAI,OAAA,CAAA,IAAI,KAAJ,IAAA,IAAA,IAAI,KAAJ,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,IAAI,CAAE,IAAI,MAAK,CAAC,CAAA,EAAA,CAAC,CAAC;YAC7D,IAAM,QAAQ,GAAG,YAAY,CAAC,IAAI,CAAC,UAAA,IAAI,EAAA,EAAI,OAAA,CAAA,IAAI,KAAJ,IAAA,IAAA,IAAI,KAAJ,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,IAAI,CAAE,IAAI,MAAK,CAAC,CAAA,EAAA,CAAC,CAAC;AAE7D,YAAA,IAAI,CAAC,QAAQ,IAAI,CAAC,QAAQ,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAG;AACpE,gBAAA,OAAO,CAAC,CAAC;AACT,aAAA;YAED,OAAO,QAAQ,CAAC,MAAM,CAAC,aAAa,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;AACvD,SAAC,CAAC,CAAC;AACH,QAAA,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,6CAA6C,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAE3F,IAAI,CAAC,SAAS,EAAE,CAAC;KACjB,CAAA;AAED,IAAA,eAAA,CAAA,SAAA,CAAA,mBAAmB,GAAnB,YAAA;QAAA,IAYC,KAAA,GAAA,IAAA,CAAA;QAXA,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,UAAC,KAAK,EAAE,CAAC,EAAA;AACpC,YAAA,IAAI,KAAI,CAAC,cAAc,CAAC,MAAM,KAAK,CAAC,EAAE;AACrC,gBAAA,KAAK,CAAC,YAAY,GAAG,gBAAgB,CAAC;AACtC,aAAA;iBAAM,IAAI,CAAC,KAAK,CAAC,EAAE;AACnB,gBAAA,KAAK,CAAC,YAAY,GAAG,iBAAiB,CAAC;AACvC,aAAA;iBAAM,IAAI,CAAC,KAAK,KAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;AAChD,gBAAA,KAAK,CAAC,YAAY,GAAG,gBAAgB,CAAC;AACtC,aAAA;AAAM,iBAAA;AACN,gBAAA,KAAK,CAAC,YAAY,GAAG,WAAW,CAAC;AACjC,aAAA;AACF,SAAC,CAAC,CAAC;KACH,CAAA;IAED,eAAY,CAAA,SAAA,CAAA,YAAA,GAAZ,UAAa,OAAe,EAAA;QAA5B,IA8CC,KAAA,GAAA,IAAA,CAAA;QA7CA,IAAI,IAAI,CAAC,SAAS,EAAE;AAAE,YAAA,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;AAEpD,QAAA,OAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM,EAAA;AAClC,YAAA,IAAM,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;YAExC,IAAI,CAAC,WAAW,EAAE;gBACjB,OAAO;AACP,aAAA;;YAGD,KAAI;AACF,iBAAA,UAAU,CAAC,OAAO,EAAE,CAAC,qBAAqB,EAAE,QAAQ,EAAE,aAAa,EAAE,OAAO,CAAC,EAAE,WAAW,CAAC;iBAC3F,IAAI,CAAC,UAAA,MAAM,EAAA;gBACX,IAAM,cAAc,GAAG,IAAI,MAAM,CAAC,qEAAqE,EAAE,IAAI,CAAC,CAAC;gBAC/G,IAAI,OAAO,GAAG,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;;AAG1C,gBAAA,KAAI,CAAC,WAAW,CAAC,OAAO,CAAC,UAAA,MAAM,EAAA;AAC9B,oBAAA,MAAM,CAAC,MAAM,GAAG,EAAE,CAAC;AACpB,iBAAC,CAAC,CAAC;;AAGF,oBAAA,IAAM,SAAS,GAAG;AACjB,wBAAA,MAAM,EAAE,OAAO,CAAC,CAAC,CAAC;wBAClB,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC,IAAI,OAAO,CAAC,CAAC,CAAC;qBAC9B,CAAC;oBAEF,IAAM,CAAC,GAAG,KAAI,CAAC,WAAW,CAAC,SAAS,CAAC,UAAA,MAAM,EAAA,EAAI,OAAA,MAAM,CAAC,IAAI,KAAK,SAAS,CAAC,IAAI,CAAA,EAAA,CAAC,CAAC;AAC/E,oBAAA,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;wBACX,KAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC;AAC9C,qBAAA;AAAM,yBAAA;AACN,wBAAA,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACjC,qBAAA;AAED,oBAAA,OAAO,GAAG,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;;gBAbvC,OAAO,OAAO,IAAI,IAAI,EAAA;;AAcrB,iBAAA;;AAID,gBAAA,OAAO,CAAC,KAAI,CAAC,WAAW,CAAC,CAAC;AAC3B,aAAC,CAAC;iBACD,KAAK,CAAC,UAAC,GAAU,EAAA;gBACjB,MAAM,CAAC,GAAG,CAAC,CAAC;AACb,aAAC,CAAC,CAAC;AACL,SAAC,CAAC,CAAC;KACH,CAAA;;AAGD,IAAA,eAAA,CAAA,SAAA,CAAA,aAAa,GAAb,UAAc,CAAU,EAAE,CAAU,EAAA;AACnC,QAAA,IAAI,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,IAAI,EAAE,CAAC,GAAG,CAAC,EAAE;AAC/C,YAAA,OAAO,CAAC,CAAC;AACT,SAAA;QACD,OAAO,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,IAAI,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC;KACvF,CAAA;;AAGD,IAAA,eAAA,CAAA,SAAA,CAAA,uBAAuB,GAAvB,UAAwB,CAAY,EAAE,CAAY,EAAA;AACjD,QAAA,IAAI,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,IAAI,WAAW,CAAC,GAAG,CAAC,EAAE;AACpE,YAAA,OAAO,CAAC,CAAC;AACT,SAAA;QACD,OAAO,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,IAAI,WAAW,CAAC,GAAG,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,IAAI,WAAW,CAAC,CAAC;KACjI,CAAA;AAED,IAAA,eAAA,CAAA,SAAA,CAAA,SAAS,GAAT,YAAA;QAAA,IAmDC,KAAA,GAAA,IAAA,CAAA;;AAjDA,QAAA,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;;AAGnD,QAAA,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;;AAGlE,QAAA,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,UAAA,IAAI,EAAA;AAC/B,YAAA,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC,CAAC;AACnD,SAAC,CAAC,CAAC;;QAGH,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAC,GAAG,EAAE,CAAC,EAAA;AAC7B,YAAA,IAAI,KAAI,CAAC,SAAS,CAAC,MAAM,KAAK,CAAC,EAAE;AAChC,gBAAA,GAAG,CAAC,YAAY,GAAG,GAAG,CAAC,QAAQ,GAAG,aAAa,GAAG,MAAM,CAAC;AACzD,aAAA;iBAAM,IAAI,CAAC,KAAK,CAAC,EAAE;AACnB,gBAAA,GAAG,CAAC,YAAY,GAAG,GAAG,CAAC,QAAQ,GAAG,cAAc,GAAG,OAAO,CAAC;AAC3D,aAAA;iBAAM,IAAI,CAAC,KAAK,KAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;AAC3C,gBAAA,GAAG,CAAC,YAAY,GAAG,GAAG,CAAC,QAAQ,GAAG,aAAa,GAAG,MAAM,CAAC;AACzD,aAAA;AAAM,iBAAA;AACN,gBAAA,GAAG,CAAC,YAAY,GAAG,GAAG,CAAC,QAAQ,GAAG,YAAY,GAAG,KAAK,CAAC;AACvD,aAAA;AACF,SAAC,CAAC,CAAC;;QAGH,IAAI,CAAC,mBAAmB,EAAE,CAAC;;QAI3B,IAAI,IAAI,CAAC,SAAS,EAAE;YACnB,IAAI,IAAI,CAAC,SAAS,EAAE;AAAE,gBAAA,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;YAEtD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC,EAAA;gBACxB,OAAO,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;AACrC,aAAC,CAAC,CAAC;AACH,SAAA;QAED,IAAI,IAAI,CAAC,OAAO,KAAK,MAAM,IAAI,IAAI,CAAC,SAAS,EAAE;YAC9C,IAAI,IAAI,CAAC,SAAS,EAAE;AAAE,gBAAA,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;YAE9D,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC,EAAA;gBAC7B,OAAO,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;AACrC,aAAC,CAAC,CAAC;AAEH,YAAA,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,UAAA,IAAI,EAAA;gBAC/B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC,EAAA;oBACvB,OAAO,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;AACrC,iBAAC,CAAC,CAAC;AACJ,aAAC,CAAC,CAAC;AACH,SAAA;KACD,CAAA;IAED,eAAe,CAAA,SAAA,CAAA,eAAA,GAAf,UAAgB,GAAW,EAAA;AAC1B,QAAA,IAAI,IAAI,CAAC,OAAO,KAAK,MAAM,EAAE;AAC5B,YAAA,IAAI,cAAiC,CAAC;AACtC,YAAA,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,UAAA,IAAI,EAAA;gBAC5B,cAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAA,KAAK,EAAA;AACtC,oBAAA,OAAO,KAAK,CAAC,GAAG,KAAK,GAAG,CAAC;AAC1B,iBAAC,CAAC,CAAC;gBAEH,OAAO,CAAC,CAAC,cAAY,CAAC;AACvB,aAAC,CAAC,CAAC;AAEH,YAAA,OAAO,cAAY,CAAC;AACpB,SAAA;AAED,QAAA,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAA,IAAI,EAAA;AAC9B,YAAA,OAAO,IAAI,CAAC,GAAG,KAAK,GAAG,CAAC;AACzB,SAAC,CAAC,CAAC;KAEH,CAAA;IAED,eAAgB,CAAA,SAAA,CAAA,gBAAA,GAAhB,UAAiB,IAAY,EAAA;AAC5B,QAAA,IAAI,IAAI,CAAC,OAAO,KAAK,MAAM,EAAE;AAC5B,YAAA,IAAI,cAAiC,CAAC;AACtC,YAAA,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,UAAA,IAAI,EAAA;gBAC5B,cAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAA,KAAK,EAAA;AACtC,oBAAA,OAAO,KAAK,CAAC,IAAI,KAAK,IAAI,CAAC;AAC5B,iBAAC,CAAC,CAAC;gBAEH,OAAO,CAAC,CAAC,cAAY,CAAC;AACvB,aAAC,CAAC,CAAC;AAEH,YAAA,OAAO,cAAY,CAAC;AACpB,SAAA;AAED,QAAA,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAA,IAAI,EAAA;AAC9B,YAAA,OAAO,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC;AAC3B,SAAC,CAAC,CAAC;KACH,CAAA;IAED,eAAiB,CAAA,SAAA,CAAA,iBAAA,GAAjB,UAAkB,MAAc,EAAA;AAC/B,QAAA,OAAO,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,UAAC,MAAiB,EAAA,EAAK,OAAA,MAAM,CAAC,MAAM,KAAK,MAAM,CAAxB,EAAwB,CAAC,CAAC;KACjF,CAAA;IAED,eAAW,CAAA,SAAA,CAAA,WAAA,GAAX,UAAY,OAA4B,EAAA;;QAEvC,IAAI,CAAC,OAAO,EAAE;AACb,YAAA,IAAI,IAAI,CAAC,OAAO,KAAK,MAAM,EAAE;gBAC5B,OAAO,IAAI,CAAC,cAAc,CAAC;AAC3B,aAAA;AAED,YAAA,IAAI,IAAI,CAAC,OAAO,KAAK,QAAQ,EAAE;gBAC9B,OAAO,IAAI,CAAC,gBAAgB,CAAC;AAC7B,aAAA;YAED,OAAO,IAAI,CAAC,SAAS,CAAC;AACtB,SAAA;AACI,aAAA;YACJ,OAAO,OAAO,CAAC,QAAQ,CAAC;AACxB,SAAA;KACD,CAAA;IAED,eAAS,CAAA,SAAA,CAAA,SAAA,GAAT,UAAU,OAA4B,EAAA;;;QAKrC,IAAI,OAAO,KAAK,IAAI,EAAE;AACrB,YAAA,OAAO,IAAI,CAAC;AACZ,SAAA;QAED,OAAO,OAAO,CAAC,MAAM,CAAC;KACtB,CAAA;IAED,eAAW,CAAA,SAAA,CAAA,WAAA,GAAX,UAAY,OAA4B,EAAA;;AAEvC,QAAA,IAAI,IAAc,CAAC;QAEnB,IAAI,OAAO,YAAY,SAAS,EAAE;YACjC,IAAI,GAAG,IAAI,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;AAElC,YAAA,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC,YAAY,CAAC;YACzC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,GAAG,CAAC,cAAc,GAAG,GAAG,GAAG,OAAO,CAAC,QAAQ,CAAC,MAAM,GAAG,GAAG,GAAG,EAAE,CAAC;YAC1F,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC,MAAM,IAAI,OAAO,CAAC,SAAS,CAAC;YACtD,IAAI,CAAC,KAAK,GAAG,aAAa,GAAG,OAAO,CAAC,SAAS,CAAC;AAE/C,YAAA,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE;AACvB,gBAAA,IAAI,CAAC,KAAK,GAAG,kBAAkB,CAAC;AAChC,aAAA;AAED,YAAA,IAAI,OAAO,CAAC,MAAM,KAAK,WAAW,EAAE;AACnC,gBAAA,IAAI,CAAC,KAAK,GAAG,kBAAkB,CAAC;AAChC,aAAA;YAED,IAAI,OAAO,CAAC,KAAK,EAAE;AAClB,gBAAA,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;AAC3B,aAAA;AAED,YAAA,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;AAElB,YAAA,IAAI,gBAAgB,GAAG,wBAAwB,CAAC,QAAQ,CAAC;AAEzD,YAAA,IAAI,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE;AAChE,gBAAA,gBAAgB,GAAG,wBAAwB,CAAC,SAAS,CAAC;AACtD,aAAA;AAED,YAAA,IAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;AACzC,SAAA;aACI,IAAI,OAAO,YAAY,UAAU,EAAE;YACvC,IAAI,GAAG,IAAI,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;AAElC,YAAA,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC;AAC/B,YAAA,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC,YAAY,CAAC;AACzC,YAAA,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC,IAAI,CAAC;YAE/B,IAAI,OAAO,CAAC,KAAK,EAAE;AAClB,gBAAA,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;AAC3B,aAAA;AAED,YAAA,IAAI,gBAAgB,GAAG,wBAAwB,CAAC,QAAQ,CAAC;AACzD,YAAA,IAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;AACzC,SAAA;AACI,aAAA;AACJ,YAAA,IAAI,MAAI,GAAG,OAAO,CAAC,IAAI,CAAC;YACxB,IAAI,aAAW,GAAG,EAAE,CAAC;YAErB,IAAI,OAAO,CAAC,OAAO,EAAE;AACpB,gBAAA,QAAQ,IAAI,CAAC,GAAG,CAAC,qBAAqB;AACtC,oBAAA,KAAK,OAAO;wBACX,MAAM;AACP,oBAAA,KAAK,gBAAgB;AACpB,wBAAA,aAAW,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,IAAI,IAAI,IAAI,GAAG,CAAC;wBACrD,MAAM;AACP,oBAAA,KAAK,iBAAiB,CAAC;AACvB,oBAAA;AACC,wBAAA,MAAI,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,IAAI,IAAI,IAAI,GAAG,GAAG,MAAI,CAAC;wBACrD,MAAM;AACN,iBAAA;AACD,aAAA;AAED,YAAA,IAAI,GAAG,IAAI,QAAQ,CAAC,MAAI,CAAC,CAAC;AAE1B,YAAA,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE;AACvB,gBAAA,IAAI,CAAC,KAAK,GAAG,kBAAkB,CAAC;AAChC,aAAA;AAED,YAAA,IAAI,OAAO,CAAC,IAAI,KAAK,eAAe,EAAE;AACrC,gBAAA,IAAI,CAAC,KAAK,GAAG,8BAA8B,CAAC;AAC5C,aAAA;AAED,YAAA,IAAI,OAAO,CAAC,IAAI,KAAK,YAAY,EAAE;AAClC,gBAAA,IAAI,CAAC,KAAK,GAAG,wBAAwB,CAAC;AACtC,aAAA;AAED,YAAA,IAAI,OAAO,CAAC,IAAI,KAAK,YAAY,EAAE;AAClC,gBAAA,IAAI,CAAC,KAAK,GAAG,2BAA2B,CAAC;AACzC,aAAA;AAED,YAAA,IAAI,OAAO,CAAC,SAAS,KAAK,KAAK,EAAE;gBAChC,IAAI,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE;AACrC,oBAAA,IAAI,CAAC,KAAK,GAAG,mBAAmB,CAAC;AACjC,iBAAA;gBAED,IAAI,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAE;AACtC,oBAAA,IAAI,CAAC,KAAK,GAAG,oBAAoB,CAAC;AAClC,iBAAA;AACD,aAAA;YAED,IAAI,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;AACnC,gBAAA,IAAI,CAAC,KAAK,GAAG,iBAAiB,CAAC;AAC/B,aAAA;AAED,YAAA,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,GAAG,EAAE,CAAC;YAExF,IAAI,OAAO,CAAC,SAAS,EAAE;gBACtB,IAAM,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;AAC3C,gBAAA,aAAW,GAAG,IAAI,GAAG,WAAW,GAAG,KAAK,CAAC;AACzC,aAAA;iBAAM,IAAI,OAAO,CAAC,QAAQ,EAAE;gBAC5B,aAAW,IAAI,KAAK,CAAC;AACrB,aAAA;AAAM,iBAAA;gBACN,IAAM,cAAY,GAAG,CAAC,OAAO,CAAC,IAAI,GAAG,EAAE,EAAE,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,GAAG,GAAG,EAAE,EAAE,CAAC,CAAC;;gBAGhF,IAAM,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,UAAA,MAAM,IAAI,OAAA,MAAM,CAAC,IAAI,KAAK,cAAY,CAA5B,EAA4B,CAAC,CAAC;AAElF,gBAAA,IAAI,WAAW,EAAE;;oBAGhB,IAAI,WAAW,CAAC,MAAM,CAAC,MAAM,KAAK,IAAI,CAAC,GAAG,CAAC,aAAa,KAAK,MAAM,IAAI,IAAI,CAAC,GAAG,CAAC,aAAa,KAAK,MAAM,CAAC,EAAE;wBAC1G,aAAW,IAAI,GAAG,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,IAAI,CAAC;AACtD,qBAAA;AAED,oBAAA,IAAI,IAAI,CAAC,GAAG,CAAC,aAAa,KAAK,MAAM,IAAI,IAAI,CAAC,GAAG,CAAC,aAAa,KAAK,MAAM,EAAE;wBAC3E,QAAQ,WAAW,CAAC,MAAM;AAC1B,4BAAA,KAAK,IAAI,CAAC;AACV,4BAAA,KAAK,IAAI,CAAC;AACV,4BAAA,KAAK,IAAI,CAAC;AACV,4BAAA,KAAK,IAAI;AACR,gCAAA,IAAI,CAAC,KAAK,GAAG,cAAc,CAAC;gCAC5B,MAAM;AACP,4BAAA,KAAK,IAAI,CAAC;AACV,4BAAA,KAAK,IAAI;AACR,gCAAA,IAAI,CAAC,KAAK,GAAG,WAAW,CAAC;gCACzB,MAAM;AACP,4BAAA,KAAK,IAAI;AACR,gCAAA,IAAI,CAAC,KAAK,GAAG,aAAa,CAAC;gCAC3B,MAAM;AACP,4BAAA,KAAK,IAAI;AACR,gCAAA,IAAI,CAAC,KAAK,GAAG,eAAe,CAAC;gCAC7B,MAAM;AACN,yBAAA;AACD,qBAAA;AACD,iBAAA;AACD,aAAA;;YAGD,IAAI,YAAY,GAAG,EAAE,CAAC;YACtB,IAAM,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;;AAG5C,YAAA,IAAI,IAAI,CAAC,GAAG,CAAC,sBAAsB,EAAE;gBACpC,IAAM,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,CAAC;AAC3E,gBAAA,YAAY,GAAG,SAAS,CAAC,WAAW,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;gBAE9D,IAAI,YAAY,KAAK,QAAQ,EAAE;AAC9B,oBAAA,aAAW,IAAI,IAAI,GAAG,YAAY,CAAC;AACnC,iBAAA;AACD,aAAA;;YAGD,IAAI,CAAC,QAAQ,EAAE;gBACd,IAAM,cAAc,GAAG,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;gBACvD,IAAM,eAAe,GAAG,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,SAAS,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;qBACvG,KAAK,CAAC,GAAG,CAAC;AACV,qBAAA,OAAO,EAAE,CAAC;gBAEZ,eAAe;qBACb,MAAM,CAAC,UAAA,GAAG,EAAI,EAAA,OAAA,GAAG,CAAC,MAAM,CAAV,EAAU,CAAC;AACzB,qBAAA,OAAO,CAAC,UAAC,GAAG,EAAE,CAAC,EAAA;;AAEf,oBAAA,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,KAAK,QAAQ,EAAE;wBAChC,OAAO;AACP,qBAAA;AAED,oBAAA,aAAW,IAAI,IAAI,GAAG,GAAG,GAAG,GAAG,CAAC;AACjC,iBAAC,CAAC,CAAC;AACJ,aAAA;AAED,YAAA,IAAI,CAAC,eAAe,GAAG,aAAW,CAAC;AACnC,YAAA,IAAI,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;AACzB,YAAA,IAAI,CAAC,OAAO,GAAG,0BAA0B,CAAC;AAC1C,YAAA,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC,YAAY,CAAC;AACzC,YAAA,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC,GAAG,CAAC;AAC9B,SAAA;AACD,QAAA,OAAO,IAAI,CAAC;KACZ,CAAA;IACF,OAAC,eAAA,CAAA;AAAD,CAAC,EAAA,CAAA;;ACvjCD,IAAA,GAAA,kBAAA,YAAA;AAkBC,IAAA,SAAA,GAAA,GAAA;AACC,QAAA,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC;AACpC,QAAA,IAAI,CAAC,OAAO,GAAG,cAAc,CAAC;AAE9B,QAAA,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,6CAA6C,EAAE,SAAS,CAAC,CAAC;AACnG,QAAA,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,wCAAwC,EAAE,QAAQ,CAAC,CAAC;AACzF,QAAA,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,kDAAkD,EAAE,SAAS,CAAC,CAAC;AAC7G,QAAA,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,yCAAyC,EAAE,SAAS,CAAC,CAAC;AAC5F,QAAA,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,uCAAuC,EAAE,QAAQ,CAAC,CAAC;AACxF,QAAA,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,gDAAgD,EAAE,QAAQ,CAAC,CAAC;AACzG,QAAA,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,sCAAsC,EAAE,QAAQ,CAAC,CAAC;QAE3F,IAAI,CAAC,WAAW,GAAG;AAClB,YAAA,WAAW,EAAE,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC;AACxC,YAAA,cAAc,EAAE,cAAc;AAC9B,YAAA,KAAK,EAAE,KAAK;AACZ,YAAA,MAAM,EAAE,MAAM;AACd,YAAA,KAAK,EAAE,KAAK;AACZ,YAAA,MAAM,EAAE,MAAM;AACd,YAAA,MAAM,EAAE,MAAM;AACd,YAAA,KAAK,EAAE,KAAK;AACZ,YAAA,YAAY,EAAE,YAAY;AAC1B,YAAA,MAAM,EAAE,MAAM;AACd,YAAA,KAAK,EAAE,KAAK;AACZ,YAAA,MAAM,EAAE,MAAM;AACd,YAAA,KAAK,EAAE,KAAK;AACZ,YAAA,UAAU,EAAE,UAAU;AACtB,YAAA,MAAM,EAAE,MAAM;AACd,YAAA,KAAK,EAAE,UAAU;AACjB,YAAA,QAAQ,EAAE,QAAQ;AAClB,YAAA,MAAM,EAAE,MAAM;AACd,YAAA,MAAM,EAAE,MAAM;AACd,YAAA,MAAM,EAAE,MAAM;AACd,YAAA,OAAO,EAAE,cAAc;AACvB,YAAA,QAAQ,EAAE,QAAQ;AAClB,YAAA,KAAK,EAAE,KAAK;AACZ,YAAA,KAAK,EAAE,KAAK;AACZ,YAAA,MAAM,EAAE,WAAW;AACnB,YAAA,eAAe,EAAE,eAAe;AAChC,YAAA,YAAY,EAAE,YAAY;AAC1B,YAAA,KAAK,EAAE,KAAK;AACZ,YAAA,KAAK,EAAE,KAAK;AACZ,YAAA,MAAM,EAAE,MAAM;SACd,CAAC;QAEF,IAAI,CAAC,eAAe,GAAG,IAAI,eAAe,CAAC,IAAI,CAAC,CAAC;AACjD,QAAA,IAAI,CAAC,QAAQ,GAAG,IAAI,QAAQ,CAAC,cAAc,EAAE,EAAE,YAAY,EAAE,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC;QAErF,IAAI,CAAC,IAAI,EAAE,CAAC;QACZ,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,IAAI,CAAC,eAAe,EAAE,CAAC;KACvB;AAED,IAAA,GAAA,CAAA,SAAA,CAAA,IAAI,GAAJ,YAAA;QAAA,IAgCC,KAAA,GAAA,IAAA,CAAA;;AA9BA,QAAA,IAAM,gBAAgB,GAAG;YACxB,qBAAqB;YACrB,gCAAgC;YAChC,qBAAqB;SACrB,CAAC;AAEF,QAAA,gBAAgB,CAAC,OAAO,CAAC,UAAA,IAAI,EAAA;YAC5B,IAAM,YAAY,GAAG,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,SAAS,GAAG,IAAI,EAAE,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YAE9E,IAAI,CAAC,YAAY,EAAE;gBAClB,OAAO,CAAC,KAAK,CAAC,wBAAwB,EAAE,SAAS,GAAG,IAAI,CAAC,CAAC;gBAC1D,OAAO;AACP,aAAA;YAED,IAAM,kBAAkB,GAAG,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,SAAS,GAAG,IAAI,EAAE,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;AAEpF,YAAA,IAAI,YAAY,IAAI,CAAC,kBAAkB,EAAE;AACxC,gBAAA,KAAI,CAAC,eAAe;qBAClB,UAAU,CAAC,YAAY,EAAE,CAAC,KAAK,EAAE,SAAS,GAAG,IAAI,CAAC,CAAC;AACnD,qBAAA,IAAI,CAAC,YAAA;oBACL,IAAI,IAAI,CAAC,SAAS,EAAE;wBAAE,OAAO,CAAC,GAAG,CAAC,eAAe,GAAG,IAAI,GAAG,iBAAiB,CAAC,CAAC;AAC/E,iBAAC,CAAC;qBACD,KAAK,CAAC,UAAA,GAAG,EAAA;AACT,oBAAA,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AACpB,iBAAC,CAAC,CAAC;AACJ,aAAA;AACF,SAAC,CAAC,CAAC;;QAGH,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;KACtC,CAAA;AAED,IAAA,GAAA,CAAA,SAAA,CAAA,UAAU,GAAV,YAAA;QAAA,IAoEC,KAAA,GAAA,IAAA,CAAA;;QAlEA,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,6CAA6C,EAAE,UAAC,MAAe,EAAE,MAAe,EAAA;AACvG,YAAA,KAAI,CAAC,iBAAiB,GAAG,MAAM,CAAC;AACjC,SAAC,CAAC,CAAC;QAEH,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,wCAAwC,EAAE,UAAC,MAAc,EAAE,MAAc,EAAA;;AAChG,YAAA,KAAI,CAAC,aAAa,GAAG,MAAM,CAAC;YAE5B,IAAI,MAAM,KAAK,OAAO,EAAE;AACvB,gBAAA,CAAA,EAAA,GAAA,KAAI,CAAC,WAAW,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,OAAO,EAAE,CAAC;AAC5B,aAAA;AAAM,iBAAA,IAAI,MAAM,KAAK,OAAO,IAAI,MAAM,KAAK,OAAO,EAAE;gBACpD,KAAI,CAAC,eAAe,EAAE,CAAC;AACvB,aAAA;AAED,YAAA,KAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;AACxB,SAAC,CAAC,CAAC;QAEH,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,kDAAkD,EAAE,UAAC,MAAe,EAAE,MAAe,EAAA;AAC5G,YAAA,KAAI,CAAC,sBAAsB,GAAG,MAAM,CAAC;AAErC,YAAA,KAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;AACxB,SAAC,CAAC,CAAC;QAEH,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,yCAAyC,EAAE,UAAC,MAAe,EAAE,MAAe,EAAA;AACnG,YAAA,KAAI,CAAC,cAAc,GAAG,MAAM,CAAC;AAE7B,YAAA,KAAI,CAAC,eAAe,CAAC,SAAS,EAAE,CAAC;AACjC,YAAA,KAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;AACxB,SAAC,CAAC,CAAC;QAEH,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,uCAAuC,EAAE,UAAC,MAAc,EAAE,MAAc,EAAA;AAC/F,YAAA,KAAI,CAAC,aAAa,GAAG,MAAM,CAAC;AAE5B,YAAA,KAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;AACxB,SAAC,CAAC,CAAC;QAEH,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,gDAAgD,EAAE,UAAC,MAAc,EAAE,MAAc,EAAA;AACxG,YAAA,KAAI,CAAC,qBAAqB,GAAG,MAAM,CAAC;AAEpC,YAAA,KAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;AACxB,SAAC,CAAC,CAAC;AAEH,QAAA,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,WAAW,CAAC,wCAAwC,EAAE,UAAC,MAAe,EAAE,MAAe,EAAA;AAC5G,YAAA,KAAI,CAAC,eAAe,CAAC,SAAS,GAAG,MAAM,CAAC;AACxC,YAAA,KAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;AACxB,SAAC,CAAC,CAAC;AAEH,QAAA,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,WAAW,CAAC,sCAAsC,EAAE,UAAC,MAAc,EAAE,MAAc,EAAA;AACxG,YAAA,KAAI,CAAC,OAAO,GAAG,MAAM,CAAC;AAEtB,YAAA,KAAI,CAAC,eAAe,CAAC,OAAO,GAAG,MAAM,CAAC;AACtC,YAAA,KAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;AACxB,SAAC,CAAC,CAAC;AAEH;;;;;;;;;;;;AAYK;KACL,CAAA;AAED,IAAA,GAAA,CAAA,SAAA,CAAA,gBAAgB,GAAhB,YAAA;QAAA,IAgNC,KAAA,GAAA,IAAA,CAAA;;QA9MA,IAAI,eAAe,GAAG,UAAU,CAAC,YAAA;;AAEjC,SAAC,CAAC,CAAC;AAEH,QAAA,IAAI,CAAC,SAAS,CAAC,kBAAkB,CAAC,UAAA,MAAM,EAAA;;YAGvC,YAAY,CAAC,eAAe,CAAC,CAAC;YAC9B,eAAe,GAAG,UAAU,CAAC,YAAA;AAC5B,gBAAA,IAAI,MAAM,CAAC;AACX,gBAAA,IAAM,MAAM,GAAG,KAAI,CAAC,eAAe,CAAC,iBAAiB,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,IAAI,WAAW,CAAC,CAAC;AAE7F,gBAAA,KAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE,KAAI,CAAC,UAAU,CAAC,CAAC;AAE7E,gBAAA,IAAI,MAAM,IAAI,KAAI,CAAC,OAAO,KAAK,QAAQ,EAAE;oBACxC,MAAM,GAAG,KAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;AACtC,iBAAA;AAAM,qBAAA;AACN,oBAAA,MAAM,GAAG,KAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;AAChC,iBAAA;gBAED,MAAM;AACJ,qBAAA,IAAI,CAAC,YAAA;;;AAEL,oBAAA,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,eAAe,CAAC,eAAe,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;AAE5E,oBAAA,IAAI,MAAM,CAAC,QAAQ,CAAC,GAAG,MAAK,CAAA,EAAA,GAAA,IAAI,CAAC,SAAS,CAAC,gBAAgB,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAE,QAAQ,CAAC,GAAG,CAAA,EAAE;AAC1E,wBAAA,KAAI,CAAC,YAAY,CAAC,KAAI,CAAC,UAAU,IAAI,IAAI,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AAC5D,qBAAA;AACF,iBAAC,CAAC;qBACD,KAAK,CAAC,UAAA,GAAG,EAAA;AACT,oBAAA,OAAO,CAAC,KAAK,CAAC,4BAA4B,EAAE,GAAG,CAAC,CAAC;AAClD,iBAAC,CAAC,CAAC;aACJ,EAAE,CAAC,CAAC,CAAC;;AAGN,YAAA,MAAM,CAAC,YAAY,CAAC,UAAA,eAAe,EAAA;;AAGlC,gBAAA,UAAU,CAAC,YAAA;AACV,oBAAA,IAAI,MAAM,CAAC;AACX,oBAAA,IAAM,MAAM,GAAG,KAAI,CAAC,eAAe,CAAC,iBAAiB,CAAC,eAAe,CAAC,QAAQ,CAAC,MAAM,IAAI,WAAW,CAAC,CAAC;AAEtG,oBAAA,IAAI,MAAM,IAAI,MAAM,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,IAAI,KAAI,CAAC,OAAO,KAAK,QAAQ,EAAE;wBACtE,MAAM,GAAG,KAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;AACtC,qBAAA;AAAM,yBAAA;AACN,wBAAA,MAAM,GAAG,KAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;AAChC,qBAAA;oBAED,KAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;oBAE5D,MAAM;AACJ,yBAAA,IAAI,CAAC,YAAA;wBACL,IAAM,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,gBAAgB,GAAG,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,QAAQ,GAAG,IAAI,CAAC;AAEnG,wBAAA,IAAI,QAAQ,EAAE;AACb,4BAAA,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,eAAe,CAAC,eAAe,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;AACrE,4BAAA,KAAI,CAAC,YAAY,CAAC,KAAI,CAAC,UAAU,IAAI,IAAI,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AAC5D,yBAAA;AACF,qBAAC,CAAC;yBACD,KAAK,CAAC,UAAA,GAAG,EAAA;AACT,wBAAA,OAAO,CAAC,KAAK,CAAC,4BAA4B,EAAE,GAAG,CAAC,CAAC;AAClD,qBAAC,CAAC,CAAC;iBACJ,EAAE,CAAC,CAAC,CAAC;AACP,aAAC,CAAC,CAAC;;AAGH,YAAA,MAAM,CAAC,oBAAoB,CAAC,UAAA,aAAa,EAAA;;;gBAGxC,IAAM,SAAS,GAAG,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;AAC7C,gBAAA,IAAM,QAAQ,GAAG,aAAa,CAAC,QAAQ,CAAC;;AAGxC,gBAAA,IAAI,CAAA,SAAS,KAAT,IAAA,IAAA,SAAS,KAAT,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,SAAS,CAAE,GAAG,MAAK,QAAQ,CAAC,GAAG,EAAE;oBACpC,OAAO;AACP,iBAAA;;AAGD,gBAAA,IAAI,QAAQ,CAAC,GAAG,MAAK,MAAA,IAAI,CAAC,SAAS,CAAC,gBAAgB,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,QAAQ,CAAC,GAAG,CAAA,EAAE;AACnE,oBAAA,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,eAAe,CAAC,eAAe,CAAC,aAAa,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;AACnF,oBAAA,KAAI,CAAC,YAAY,CAAC,KAAI,CAAC,UAAU,IAAI,IAAI,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AAC5D,iBAAA;AACF,aAAC,CAAC,CAAC;AAEH,YAAA,MAAM,CAAC,iBAAiB,CAAC,UAAA,aAAa,EAAA;;AAGrC,gBAAA,IAAM,OAAO,GAAG,KAAI,CAAC,eAAe,CAAC,eAAe,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;AAC1E,gBAAA,KAAI,CAAC,UAAU,GAAG,OAAO,CAAC;AAE1B,gBAAA,IAAI,OAAO,EAAE;oBACZ,OAAO,CAAC,OAAO,GAAG,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC;AAC1C,iBAAA;gBAED,KAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAI,CAAC,UAAU,CAAC;AACnC,qBAAA,IAAI,CAAC,YAAA;AACL,oBAAA,KAAI,CAAC,YAAY,CAAC,KAAI,CAAC,UAAU,IAAI,IAAI,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AAC7D,iBAAC,CAAC;qBACD,KAAK,CAAC,UAAA,GAAG,EAAA;AACT,oBAAA,OAAO,CAAC,KAAK,CAAC,4BAA4B,EAAE,GAAG,CAAC,CAAC;AAClD,iBAAC,CAAC,CAAC;AACL,aAAC,CAAC,CAAC;;AAGH,YAAA,MAAM,CAAC,SAAS,CAAC,UAAA,WAAW,EAAA;;AAG3B,gBAAA,IAAM,OAAO,GAAG,KAAI,CAAC,eAAe,CAAC,eAAe,CAAC,WAAW,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;AAC/E,gBAAA,KAAI,CAAC,UAAU,GAAG,OAAO,CAAC;AAE1B,gBAAA,IAAI,OAAO,EAAE;oBACZ,OAAO,CAAC,OAAO,GAAG,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC;AAC1C,iBAAA;gBAED,KAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAI,CAAC,UAAU,CAAC;AACnC,qBAAA,IAAI,CAAC,YAAA;AACL,oBAAA,KAAI,CAAC,YAAY,CAAC,KAAI,CAAC,UAAU,IAAI,IAAI,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AAC7D,iBAAC,CAAC;qBACD,KAAK,CAAC,UAAA,GAAG,EAAA;AACT,oBAAA,OAAO,CAAC,KAAK,CAAC,4BAA4B,EAAE,GAAG,CAAC,CAAC;AAClD,iBAAC,CAAC,CAAC;AACL,aAAC,CAAC,CAAC;AAEH,YAAA,IAAM,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;AACjC,YAAA,QAAQ,CAAC,eAAe,CAAC,UAAC,eAAe,EAAE,IAAI,EAAA;gBAC9C,IAAI,IAAI,CAAC,SAAS,EAAE;oBAAE,OAAO,CAAC,GAAG,CAAC,iCAAiC,EAAE,eAAe,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;AACjG,aAAC,CAAC,CAAC;AAEH,YAAA,QAAQ,CAAC,iBAAiB,CAAC,UAAC,eAAe,EAAE,SAAS,EAAA;gBACrD,IAAI,IAAI,CAAC,SAAS,EAAE;oBAAE,OAAO,CAAC,GAAG,CAAC,mCAAmC,EAAE,eAAe,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;AAEvG,gBAAA,IAAM,OAAO,GAAG,KAAI,CAAC,eAAe,CAAC,eAAe,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;gBAEnE,IAAI,CAAC,OAAO,EAAE;oBACb,OAAO;AACP,iBAAA;AAED,gBAAA,OAAO,CAAC,MAAM,GAAG,SAAS,IAAI,WAAW,CAAC;AAE1C,gBAAA,KAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE,KAAI,CAAC,UAAU,IAAI,SAAS,CAAC,CAAC;AAC1F,gBAAA,KAAI,CAAC,QAAQ,CAAC,MAAM,EAAE;AACpB,qBAAA,IAAI,CAAC,YAAA;AACL,oBAAA,KAAI,CAAC,YAAY,CAAC,KAAI,CAAC,UAAU,IAAI,IAAI,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AAC7D,iBAAC,CAAC;qBACD,KAAK,CAAC,UAAA,GAAG,EAAA;AACT,oBAAA,OAAO,CAAC,KAAK,CAAC,4BAA4B,EAAE,GAAG,CAAC,CAAC;AAClD,iBAAC,CAAC,CAAC;AACL,aAAC,CAAC,CAAC;AACJ,SAAC,CAAC,CAAC;AAEH,QAAA,IAAI,CAAC,QAAQ,CAAC,oBAAoB,CAAC,UAAC,SAAS,EAAA;YAC5C,IAAI,IAAI,CAAC,SAAS,EAAE;AAAE,gBAAA,OAAO,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;;AAGnE,YAAA,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;gBAClB,OAAO;AACP,aAAA;;AAGD,YAAA,IAAI,KAAI,CAAC,uBAAuB,KAAK,KAAK,EAAE;AAC3C,gBAAA,KAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC;gBACpC,OAAO;AACP,aAAA;YAED,IAAM,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,gBAAgB,GAAG,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,QAAQ,GAAG,IAAI,CAAC;AAEzG,YAAA,IAAI,KAAI,CAAC,iBAAiB,KAAK,CAAC,cAAc,IAAI,cAAc,CAAC,GAAG,KAAK,SAAS,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE;AAC3F,gBAAA,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAAC;AAC1C,aAAA;AACF,SAAC,CAAC,CAAC;AAEH,QAAA,IAAI,CAAC,QAAQ,CAAC,oBAAoB,CAAC,UAAA,OAAO,EAAA;;;YAIzC,IAAI,OAAO,YAAY,UAAU,EAAE;gBAClC,OAAM;AACN,aAAA;AAED,YAAA,IAAI,OAAO,KAAP,IAAA,IAAA,OAAO,uBAAP,OAAO,CAAE,MAAM,EAAE;gBACpB,KAAI,CAAC,eAAe,CAAC,mBAAmB,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;AAC9D,gBAAA,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,kDAAkD,EAAE,KAAI,CAAC,eAAe,CAAC,mBAAmB,CAAC,CAAC;AACxH,aAAA;AACF,SAAC,CAAC,CAAC;AAEH,QAAA,IAAI,CAAC,QAAQ,CAAC,kBAAkB,CAAC,UAAA,OAAO,EAAA;;;YAIvC,IAAI,OAAO,YAAY,UAAU,EAAE;gBAClC,OAAM;AACN,aAAA;AAED,YAAA,IAAI,OAAO,KAAP,IAAA,IAAA,OAAO,uBAAP,OAAO,CAAE,MAAM,EAAE;AACpB,gBAAA,IAAM,KAAK,GAAG,KAAI,CAAC,eAAe,CAAC,mBAAmB,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;AAE/E,gBAAA,IAAI,KAAK,GAAG,CAAC,CAAC,EAAE;oBACf,KAAI,CAAC,eAAe,CAAC,mBAAmB,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;AAC1D,oBAAA,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,kDAAkD,EAAE,KAAI,CAAC,eAAe,CAAC,mBAAmB,CAAC,CAAC;AACxH,iBAAA;AACD,aAAA;AACF,SAAC,CAAC,CAAC;AAEH,QAAA,IAAI,CAAC,QAAQ,CAAC,qBAAqB,CAAC,YAAA;YACnC,IAAI,IAAI,CAAC,SAAS,EAAE;AAAE,gBAAA,OAAO,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;AACzD,SAAC,CAAC,CAAC;KACH,CAAA;AAED,IAAA,GAAA,CAAA,SAAA,CAAA,gBAAgB,GAAhB,YAAA;QAAA,IA8YC,KAAA,GAAA,IAAA,CAAA;QA7YA,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,oBAAoB,EAAE,UAAC,SAAoB,EAAA;;AAGjE,YAAA,IAAM,SAAS,GAAG,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC;AAE1C,YAAA,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;gBAClB,OAAO;AACP,aAAA;;AAGD,YAAA,IAAI,SAAS,CAAC,CAAC,CAAC,YAAY,SAAS,IAAI,SAAS,CAAC,CAAC,CAAC,YAAY,UAAU,EAAE;gBAC5E,OAAO;AACP,aAAA;AAED,YAAA,IAAI,cAAc,GAAG,SAAS,CAAC,gBAAgB,GAAG,SAAS,CAAC,gBAAgB,CAAC,QAAQ,GAAG,IAAI,CAAC;AAC7F,YAAA,IAAM,sBAAsB,GAAG,cAAc,GAAG,cAAc,CAAC,QAAQ,GAAG,KAAK,CAAC;YAChF,IAAM,iBAAiB,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;;AAGhD,YAAA,IAAI,cAAc,IAAI,SAAS,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,cAAc,CAAC,GAAG,EAAE;AAC9D,gBAAA,KAAI,CAAC,eAAe;qBAClB,UAAU,CAAC,SAAS,GAAG,qBAAqB,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC;AAClG,qBAAA,IAAI,CAAC,YAAA;AACL,oBAAA,cAAc,GAAG,SAAS,CAAC,gBAAgB,GAAG,SAAS,CAAC,gBAAgB,CAAC,QAAQ,GAAG,IAAI,CAAC;AAEzF,oBAAA,IAAI,cAAc,EAAE;AACnB,wBAAA,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,eAAe,CAAC,eAAe,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;AAC3E,wBAAA,KAAI,CAAC,YAAY,CAAC,KAAI,CAAC,UAAU,IAAI,IAAI,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AAC5D,qBAAA;AACF,iBAAC,CAAC;qBACD,KAAK,CAAC,UAAA,GAAG,EAAA;AACT,oBAAA,OAAO,CAAC,KAAK,CAAC,4BAA4B,EAAE,GAAG,CAAC,CAAC;AAClD,iBAAC,CAAC,CAAC;gBAEJ,OAAO;AACP,aAAA;YAED,IAAI,CAAC,iBAAiB,EAAE;;gBAEvB,SAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;AAClC,qBAAA,IAAI,CAAC,YAAA;AACL,oBAAA,KAAI,CAAC,eAAe;yBAClB,UAAU,CAAC,SAAS,GAAG,qBAAqB,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC;AAClG,yBAAA,IAAI,CAAC,YAAA;wBACL,IAAI,CAAC,cAAc,EAAE;4BACpB,OAAO;AACP,yBAAA;;wBAGD,IAAI,CAAC,sBAAsB,EAAE;AAC5B,4BAAA,SAAS,CAAC,QAAQ,CAAC,cAAc,CAAC,GAAG,CAAC;iCACpC,IAAI,CAAC,UAAA,KAAK,EAAA;AACV,gCAAA,IAAI,KAAK,EAAE;AACV,oCAAA,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,eAAe,CAAC,eAAe,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;AAC3E,oCAAA,KAAI,CAAC,YAAY,CAAC,KAAI,CAAC,UAAU,IAAI,IAAI,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AAC5D,iCAAA;AACF,6BAAC,CAAC;iCACD,KAAK,CAAC,UAAC,GAAW,EAAA;AAClB,gCAAA,OAAO,CAAC,KAAK,CAAC,sBAAsB,EAAE,GAAG,CAAC,CAAC;AAC5C,6BAAC,CAAC,CAAC;4BAEJ,OAAO;AACP,yBAAA;;AAGD,wBAAA,KAAI,CAAC,aAAa,CAAC,cAAc,CAAC,GAAG,CAAC;AACpC,6BAAA,IAAI,CAAC,YAAA;AACL,4BAAA,IAAI,cAAc,EAAE;AACnB,gCAAA,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,eAAe,CAAC,eAAe,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;AAC3E,gCAAA,KAAI,CAAC,YAAY,CAAC,KAAI,CAAC,UAAU,IAAI,IAAI,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AAC5D,6BAAA;AACF,yBAAC,CAAC;6BACD,KAAK,CAAC,UAAA,GAAG,EAAA;AACT,4BAAA,OAAO,CAAC,KAAK,CAAC,4BAA4B,EAAE,GAAG,CAAC,CAAC;AAClD,yBAAC,CAAC,CAAC;AAEL,qBAAC,CAAC;yBACD,KAAK,CAAC,UAAA,GAAG,EAAA;AACT,wBAAA,OAAO,CAAC,KAAK,CAAC,4BAA4B,EAAE,GAAG,CAAC,CAAC;AAClD,qBAAC,CAAC,CAAC;AACL,iBAAC,CAAC;qBACD,KAAK,CAAC,UAAC,GAAW,EAAA;AAClB,oBAAA,OAAO,CAAC,KAAK,CAAC,sBAAsB,EAAE,GAAG,CAAC,CAAC;AAC5C,iBAAC,CAAC,CAAC;gBAEJ,OAAO;AACP,aAAA;YAED,KAAI,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;AAClC,iBAAA,IAAI,CAAC,YAAA;AACL,gBAAA,KAAI,CAAC,eAAe;qBAClB,UAAU,CAAC,SAAS,GAAG,qBAAqB,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC;AAClG,qBAAA,IAAI,CAAC,YAAA;oBACL,IAAI,CAAC,cAAc,EAAE;wBACpB,OAAO;AACP,qBAAA;;oBAGD,IAAI,CAAC,sBAAsB,EAAE;AAC5B,wBAAA,SAAS,CAAC,QAAQ,CAAC,cAAc,CAAC,GAAG,CAAC;6BACpC,IAAI,CAAC,UAAA,KAAK,EAAA;AACV,4BAAA,IAAI,KAAK,EAAE;AACV,gCAAA,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,eAAe,CAAC,eAAe,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;AAC3E,gCAAA,KAAI,CAAC,YAAY,CAAC,KAAI,CAAC,UAAU,IAAI,IAAI,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AAC5D,6BAAA;AACF,yBAAC,CAAC;6BACD,KAAK,CAAC,UAAC,GAAW,EAAA;AAClB,4BAAA,OAAO,CAAC,KAAK,CAAC,sBAAsB,EAAE,GAAG,CAAC,CAAC;AAC5C,yBAAC,CAAC,CAAC;wBAEJ,OAAO;AACP,qBAAA;;AAGD,oBAAA,KAAI,CAAC,aAAa,CAAC,cAAc,CAAC,GAAG,CAAC;yBACpC,IAAI,CAAC,UAAA,MAAM,EAAA;AAEX,wBAAA,IAAI,MAAM,EAAE;AACX,4BAAA,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,eAAe,CAAC,eAAe,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;AAC5E,4BAAA,KAAI,CAAC,YAAY,CAAC,KAAI,CAAC,UAAU,IAAI,IAAI,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AAC5D,yBAAA;AACF,qBAAC,CAAC;yBACD,KAAK,CAAC,UAAA,GAAG,EAAA;AACT,wBAAA,OAAO,CAAC,KAAK,CAAC,4BAA4B,EAAE,GAAG,CAAC,CAAC;AAClD,qBAAC,CAAC,CAAC;AAEL,iBAAC,CAAC;qBACD,KAAK,CAAC,UAAA,GAAG,EAAA;AACT,oBAAA,OAAO,CAAC,KAAK,CAAC,4BAA4B,EAAE,GAAG,CAAC,CAAC;AAClD,iBAAC,CAAC,CAAC;AACL,aAAC,CAAC;iBACD,KAAK,CAAC,UAAA,GAAG,EAAA;AACT,gBAAA,OAAO,CAAC,KAAK,CAAC,4BAA4B,EAAE,GAAG,CAAC,CAAC;AAClD,aAAC,CAAC,CAAC;AACL,SAAC,CAAC,CAAC;QAEH,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,mBAAmB,EAAE,UAAC,SAAoB,EAAA;AAChE,YAAA,IAAM,SAAS,GAAG,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC;;AAG1C,YAAA,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;gBAClB,OAAO;AACP,aAAA;;AAGD,YAAA,IAAI,SAAS,CAAC,CAAC,CAAC,YAAY,SAAS,IAAI,SAAS,CAAC,CAAC,CAAC,YAAY,UAAU,EAAE;gBAC5E,OAAO;AACP,aAAA;YAED,IAAM,QAAQ,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;;YAGvC,IAAI,CAAC,QAAQ,EAAE;gBACd,SAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;qBAClC,IAAI,CAAC,UAAA,KAAK,EAAA;AACV,oBAAA,IAAI,KAAK,EAAE;AACV,wBAAA,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,eAAe,CAAC,eAAe,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;AAC3E,wBAAA,KAAI,CAAC,YAAY,CAAC,KAAI,CAAC,UAAU,IAAI,IAAI,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AAC5D,qBAAA;AACF,iBAAC,CAAC;qBACD,KAAK,CAAC,UAAC,GAAW,EAAA;AAClB,oBAAA,OAAO,CAAC,KAAK,CAAC,sBAAsB,EAAE,GAAG,CAAC,CAAC;AAC5C,iBAAC,CAAC,CAAC;gBACJ,OAAO;AACP,aAAA;;YAGD,KAAI,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;iBAClC,IAAI,CAAC,UAAA,MAAM,EAAA;AACX,gBAAA,IAAI,MAAM,EAAE;AACX,oBAAA,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,eAAe,CAAC,eAAe,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;AAC5E,oBAAA,KAAI,CAAC,YAAY,CAAC,KAAI,CAAC,UAAU,IAAI,IAAI,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AAC5D,iBAAA;AACF,aAAC,CAAC;iBACD,KAAK,CAAC,UAAA,GAAG,EAAA;AACT,gBAAA,OAAO,CAAC,KAAK,CAAC,4BAA4B,EAAE,GAAG,CAAC,CAAC;AAClD,aAAC,CAAC,CAAC;AACL,SAAC,CAAC,CAAC;AAEH,QAAA,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,0BAA0B,EAAE,YAAA;;AAElD,YAAA,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAAC;AAC3C,SAAC,CAAC,CAAC;AAEH,QAAA,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,iBAAiB,EAAE,YAAA;;AAEzC,YAAA,IAAM,SAAS,GAAG,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC;AAE1C,YAAA,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;gBAClB,OAAO;AACP,aAAA;;AAGD,YAAA,IAAI,SAAS,CAAC,CAAC,CAAC,YAAY,UAAU,EAAE;gBACvC,OAAO;AACP,aAAA;;AAGD,YAAA,IAAI,SAAS,CAAC,CAAC,CAAC,YAAY,SAAS,EAAE;AACtC,gBAAA,KAAI,CAAC,eAAe,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;gBACrD,OAAO;AACP,aAAA;;;AAKD,YAAA,KAAI,CAAC,eAAe,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAChD,SAAC,CAAC,CAAC;AAEH,QAAA,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,mBAAmB,EAAE,YAAA;;AAE3C,YAAA,IAAM,SAAS,GAAG,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC;AAE1C,YAAA,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;gBAClB,OAAO;AACP,aAAA;;AAGD,YAAA,IAAI,SAAS,CAAC,CAAC,CAAC,YAAY,UAAU,EAAE;gBACvC,OAAO;AACP,aAAA;;AAGD,YAAA,IAAI,SAAS,CAAC,CAAC,CAAC,YAAY,SAAS,EAAE;AACtC,gBAAA,KAAI,CAAC,eAAe,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBACpD,OAAO;AACP,aAAA;;;AAKD,YAAA,KAAI,CAAC,eAAe,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AAC/C,SAAC,CAAC,CAAC;QAEH,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,mCAAmC,EAAE,UAAC,SAAoB,EAAA;;AAGhF,YAAA,KAAI,CAAC,eAAe,CAAC,UAAU,CAAC,SAAS,GAAG,qBAAqB,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC;iBAC3F,IAAI,CAAC,UAAA,MAAM,EAAA;;AAGX,gBAAA,KAAI,CAAC,eAAe,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;gBAElD,KAAI,CAAC,UAAU,GAAG,SAAS,CAAC,gBAAgB,GAAG,KAAI,CAAC,eAAe,CAAC,eAAe,CAAC,SAAS,CAAC,gBAAgB,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,SAAS,CAAC;AACzI,gBAAA,KAAI,CAAC,QAAQ,CAAC,MAAM,EAAE;AACpB,qBAAA,IAAI,CAAC,YAAA;AACL,oBAAA,KAAI,CAAC,YAAY,CAAC,KAAI,CAAC,UAAU,IAAI,IAAI,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AAC7D,iBAAC,CAAC;qBACD,KAAK,CAAC,UAAA,GAAG,EAAA;AACT,oBAAA,OAAO,CAAC,KAAK,CAAC,4BAA4B,EAAE,GAAG,CAAC,CAAC;AAClD,iBAAC,CAAC,CAAC;AACL,aAAC,CAAC;iBACD,KAAK,CAAC,UAAA,GAAG,EAAA;AACT,gBAAA,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AACpB,aAAC,CAAC,CAAC;AACL,SAAC,CAAC,CAAC;AAEH,QAAA,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,6BAA6B,EAAE,YAAA;YACrD,IAAI,IAAI,CAAC,SAAS,EAAE;AAAE,gBAAA,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;AAEpD,YAAA,KAAI,CAAC,eAAe,CAAC,cAAc,EAAE,CAAC;AACtC,YAAA,KAAI,CAAC,QAAQ,CAAC,MAAM,EAAE;AACpB,iBAAA,IAAI,CAAC,YAAA;AACL,gBAAA,KAAI,CAAC,YAAY,CAAC,KAAI,CAAC,UAAU,IAAI,IAAI,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AAC7D,aAAC,CAAC;iBACD,KAAK,CAAC,UAAA,GAAG,EAAA;AACT,gBAAA,OAAO,CAAC,KAAK,CAAC,4BAA4B,EAAE,GAAG,CAAC,CAAC;AAClD,aAAC,CAAC,CAAC;AACL,SAAC,CAAC,CAAC;AAEH,QAAA,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,4BAA4B,EAAE,YAAA;YACpD,IAAI,IAAI,CAAC,SAAS,EAAE;AAAE,gBAAA,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;AAEnD,YAAA,KAAI,CAAC,eAAe,CAAC,aAAa,EAAE,CAAC;AACrC,YAAA,KAAI,CAAC,QAAQ,CAAC,MAAM,EAAE;AACpB,iBAAA,IAAI,CAAC,YAAA;AACL,gBAAA,KAAI,CAAC,YAAY,CAAC,KAAI,CAAC,UAAU,IAAI,IAAI,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AAC7D,aAAC,CAAC;iBACD,KAAK,CAAC,UAAA,GAAG,EAAA;AACT,gBAAA,OAAO,CAAC,KAAK,CAAC,4BAA4B,EAAE,GAAG,CAAC,CAAC;AAClD,aAAC,CAAC,CAAC;AACL,SAAC,CAAC,CAAC;QAEH,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,0BAA0B,EAAE,UAAC,SAAoB,EAAA;YACvE,IAAI,IAAI,CAAC,SAAS,EAAE;AAAE,gBAAA,OAAO,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;AAEzD,YAAA,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,wCAAwC,EAAE,CAAC,KAAI,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;AACjG,SAAC,CAAC,CAAC;QAEH,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,0BAA0B,EAAE,UAAC,SAAoB,EAAA;YACvE,IAAI,IAAI,CAAC,SAAS,EAAE;AAAE,gBAAA,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;AAEjD,YAAA,IAAI,KAAI,CAAC,OAAO,KAAK,MAAM,EAAE;gBAC5B,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,sCAAsC,EAAE,MAAM,CAAC,CAAC;AACrE,aAAA;AAAM,iBAAA;gBACN,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,sCAAsC,EAAE,MAAM,CAAC,CAAC;AACrE,aAAA;AACF,SAAC,CAAC,CAAC;QAEH,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,4BAA4B,EAAE,UAAC,SAAoB,EAAA;YACzE,IAAI,IAAI,CAAC,SAAS,EAAE;AAAE,gBAAA,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;AAEnD,YAAA,IAAI,KAAI,CAAC,OAAO,KAAK,QAAQ,EAAE;gBAC9B,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,sCAAsC,EAAE,QAAQ,CAAC,CAAC;AACvE,aAAA;AAAM,iBAAA;gBACN,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,sCAAsC,EAAE,MAAM,CAAC,CAAC;AACrE,aAAA;AACF,SAAC,CAAC,CAAC;QAEH,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,iCAAiC,EAAE,UAAC,SAAoB,EAAA;YAC9E,IAAI,IAAI,CAAC,SAAS,EAAE;AAAE,gBAAA,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC;AAE3D,YAAA,IAAM,SAAS,GAAG,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC;AAE1C,YAAA,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;gBAClB,OAAO;AACP,aAAA;;YAGD,SAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;AAClC,iBAAA,IAAI,CAAC,YAAA;AACL,gBAAA,KAAI,CAAC,eAAe;qBAClB,UAAU,CAAC,SAAS,GAAG,qBAAqB,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,CAAC,CAAC;AAC9G,qBAAA,IAAI,CAAC,YAAA;;AAEN,iBAAC,CAAC;qBACD,KAAK,CAAC,UAAA,GAAG,EAAA;AACT,oBAAA,OAAO,CAAC,KAAK,CAAC,4BAA4B,EAAE,GAAG,CAAC,CAAC;AAClD,iBAAC,CAAC,CAAC;AACL,aAAC,CAAC;iBACD,KAAK,CAAC,UAAC,GAAW,EAAA;AAClB,gBAAA,OAAO,CAAC,KAAK,CAAC,sBAAsB,EAAE,GAAG,CAAC,CAAC;AAC5C,aAAC,CAAC,CAAC;AACL,SAAC,CAAC,CAAC;AAEH,QAAA,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,2BAA2B,EAAE,YAAA;AACnD,YAAA,IAAM,SAAS,GAAG,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC;AAE1C,YAAA,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;gBAClB,OAAO;AACP,aAAA;AAED,YAAA,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE;gBACvB,IAAI,IAAI,CAAC,SAAS,EAAE;AAAE,oBAAA,OAAO,CAAC,GAAG,CAAC,6BAA6B,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;gBACpF,OAAO;AACP,aAAA;AAED,YAAA,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;AACnC,SAAC,CAAC,CAAC;AAEH,QAAA,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,uBAAuB,EAAE,YAAA;AAC/C,YAAA,IAAM,SAAS,GAAG,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC;AAE1C,YAAA,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;gBAClB,OAAO;AACP,aAAA;AAED,YAAA,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE;gBACvB,IAAI,IAAI,CAAC,SAAS,EAAE;AAAE,oBAAA,OAAO,CAAC,GAAG,CAAC,6BAA6B,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;gBACpF,OAAO;AACP,aAAA;AAED,YAAA,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;AAC7C,SAAC,CAAC,CAAC;QAEH,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,+BAA+B,EAAE,UAAC,SAAoB,EAAA;AAC5E,YAAA,IAAM,SAAS,GAAG,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC;AAE1C,YAAA,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;gBAClB,OAAO;AACP,aAAA;AAED,YAAA,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE;gBACvB,IAAI,IAAI,CAAC,SAAS,EAAE;AAAE,oBAAA,OAAO,CAAC,GAAG,CAAC,6BAA6B,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;gBACpF,OAAO;AACP,aAAA;YAED,IAAI,SAAS,CAAC,IAAI,EAAE;gBACnB,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;AAC7E,aAAA;AAAM,iBAAA;AACN,gBAAA,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;AAC5C,aAAA;AACF,SAAC,CAAC,CAAC;QAEH,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,sBAAsB,EAAE,UAAC,SAAoB,EAAA;AACnE,YAAA,IAAM,SAAS,GAAG,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC;AAE1C,YAAA,IAAI,SAAS,CAAC,CAAC,CAAC,YAAY,SAAS,IAAI,SAAS,CAAC,CAAC,CAAC,YAAY,UAAU,EAAE;gBAC5E,KAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;AACvD,aAAA;AAAM,iBAAA;AACN,gBAAA,KAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,SAAS,CAAC,aAAa,EAAE,SAAS,CAAC,CAAC,CAAC,IAAI,SAAS,CAAC,CAAC;AAClF,aAAA;YAED,KAAI,CAAC,eAAe,EAAE,CAAC;AAEvB,YAAA,KAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;AACxB,SAAC,CAAC,CAAC;KACH,CAAA;AAED,IAAA,GAAA,CAAA,SAAA,CAAA,eAAe,GAAf,YAAA;QAAA,IAmDC,KAAA,GAAA,IAAA,CAAA;;AAjDA,QAAA,IAAI,IAAI,CAAC,aAAa,KAAK,OAAO,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE;YAC3D,OAAO;AACP,SAAA;;QAGD,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,gBAAgB,EAAE,CAAC,KAAK,CAAC,CAAC;aACxD,IAAI,CAAC,UAAA,MAAM,EAAA;AACX,YAAA,KAAI,CAAC,OAAO,GAAG,MAAM,CAAC,IAAI,EAAE,CAAC;YAE7B,IAAI,IAAI,CAAC,SAAS,EAAE;gBAAE,OAAO,CAAC,GAAG,CAAC,8BAA8B,EAAE,KAAI,CAAC,OAAO,CAAC,CAAC;;YAGhF,KAAI,CAAC,eAAe,CAAC,UAAU,CAAC,KAAI,CAAC,OAAO,EAAE,CAAC,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,IAAI,EAAE,EAAE,WAAW,CAAC,CAAC;AAC3F,iBAAA,IAAI,CAAC,YAAA;gBACL,IAAI,IAAI,CAAC,SAAS,EAAE;AAAE,oBAAA,OAAO,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;gBAE5D,KAAI,CAAC,eAAe,EAAE,CAAC;;gBAGvB,IAAI,cAAc,GAAG,UAAU,CAAC,YAAA;;AAEhC,iBAAC,CAAC,CAAC;AAEH,gBAAA,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,EAAE,YAAa,GAAC,CAAC,CAAC;AAEvD,gBAAA,KAAI,CAAC,WAAW,CAAC,WAAW,CAAC,UAAA,IAAI,EAAA;oBAChC,YAAY,CAAC,cAAc,CAAC,CAAC;oBAC7B,cAAc,GAAG,UAAU,CAAC,YAAA;wBAC3B,IAAI,IAAI,CAAC,SAAS,EAAE;AAAE,4BAAA,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;AAExD,wBAAA,IAAM,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;;wBAG3D,IAAI,SAAS,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,KAAK,OAAO,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,oBAAoB,EAAE;4BACrG,IAAI,IAAI,CAAC,SAAS,EAAE;AAAE,gCAAA,OAAO,CAAC,GAAG,CAAC,gCAAgC,CAAC,CAAC;4BACpE,OAAO;AACP,yBAAA;wBAED,KAAI,CAAC,eAAe,EAAE,CAAC;qBACvB,EAAE,GAAG,CAAC,CAAC;AACT,iBAAC,CAAC,CAAC;AACJ,aAAC,CAAC;iBACD,KAAK,CAAC,UAAA,GAAG,EAAA;AACT,gBAAA,OAAO,CAAC,IAAI,CAAC,8CAA8C,EAAE,GAAG,CAAC,CAAC;AACnE,aAAC,CAAC,CAAC;AACL,SAAC,CAAC;aACD,KAAK,CAAC,UAAA,GAAG,EAAA;AACT,YAAA,OAAO,CAAC,KAAK,CAAC,+BAA+B,EAAE,GAAG,CAAC,CAAC;AACrD,SAAC,CAAC,CAAC;KACJ,CAAA;IAED,GAAa,CAAA,SAAA,CAAA,aAAA,GAAb,UAAc,GAAW,EAAA;QAAzB,IAsCC,KAAA,GAAA,IAAA,CAAA;AArCA,QAAA,OAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM,EAAA;YAClC,IAAM,OAAO,GAAG,KAAI,CAAC,eAAe,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;YAE1D,IAAI,CAAC,OAAO,EAAE;AACb,gBAAA,OAAO,CAAC,IAAI,CAAC,+BAA+B,GAAG,GAAG,CAAC,CAAC;gBACpD,OAAO;AACP,aAAA;AAED,YAAA,IAAI,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YAC/C,IAAI,UAAU,GAAG,EAAE,CAAC;YACpB,IAAM,QAAQ,GAAG,KAAI,CAAC,eAAe,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;;YAG5D,IAAI,CAAC,QAAQ,EAAE;gBACd,IAAM,cAAc,GAAG,KAAI,CAAC,eAAe,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;gBACvE,UAAU,GAAG,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC;AACxF,aAAA;YAED,IAAI,UAAU,CAAC,MAAM,EAAE;AACtB,gBAAA,QAAQ,IAAI,KAAK,GAAG,UAAU,CAAC;AAC/B,aAAA;AAED,YAAA,KAAI,CAAC,eAAe;AAClB,iBAAA,UAAU,CAAC,SAAS,GAAG,gCAAgC,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE,QAAQ,CAAC,CAAC;AAC7F,iBAAA,IAAI,CAAC,YAAA;;AAEL,gBAAA,UAAU,CAAC,YAAA;AACV,oBAAA,IAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC;oBAE/C,OAAO,CAAC,MAAM,CAAC,CAAC;iBAChB,EAAE,CAAC,CAAC,CAAC;AACP,aAAC,CAAC;iBACD,KAAK,CAAC,UAAA,GAAG,EAAA;AACT,gBAAA,OAAO,CAAC,KAAK,CAAC,2CAA2C,EAAE,GAAG,CAAC,CAAC;gBAChE,MAAM,CAAC,GAAG,CAAC,CAAC;AACb,aAAC,CAAC,CAAC;AACL,SAAC,CAAC,CAAC;KACH,CAAA;AAED,IAAA,GAAA,CAAA,SAAA,CAAA,YAAY,GAAZ,UAAa,GAA+B,EAAE,OAAgH,EAAA;QAC7J,IAAM,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,gBAAgB,GAAG,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,QAAQ,CAAC,GAAG,GAAG,SAAS,CAAC;QAChH,IAAM,UAAU,GAAG,GAAG,KAAA,IAAA,IAAH,GAAG,KAAH,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,GAAG,CAAE,GAAG,CAAC;QAE5B,IAAI,YAAY,KAAK,UAAU,EAAE;AAChC,YAAA,IAAI,CAAC,uBAAuB,GAAG,KAAK,CAAC;AACrC,SAAA;QACD,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;KACnC,CAAA;IAED,GAAe,CAAA,SAAA,CAAA,eAAA,GAAf,UAAgB,MAAa,EAAA;QAA7B,IAiCC,KAAA,GAAA,IAAA,CAAA;AAjCe,QAAA,IAAA,MAAA,KAAA,KAAA,CAAA,EAAA,EAAA,MAAa,GAAA,IAAA,CAAA,EAAA;QAC5B,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC;aAC7C,IAAI,CAAC,UAAA,WAAW,EAAA;AAChB,YAAA,WAAW,CAAC,OAAO,CAAC,UAAA,SAAS,EAAA;;gBAC5B,IAAI,CAAC,MAAM,EAAE;oBACZ,OAAO;AACP,iBAAA;gBAED,IAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,IAAI,EAAE,EAAE,SAAS,CAAC,IAAI,CAAC,CAAC;gBACvE,IAAM,OAAO,GAAG,KAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;;;;gBAM5D,IAAI,CAAC,OAAO,EAAE;oBACb,OAAO;AACP,iBAAA;gBAED,IAAM,YAAY,GAAG,KAAI,CAAC,eAAe,CAAC,eAAe,CAAC,CAAA,CAAA,EAAA,GAAA,IAAI,CAAC,SAAS,CAAC,gBAAgB,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,QAAQ,CAAC,GAAG,KAAI,EAAE,CAAC,CAAC;AAE/G,gBAAA,KAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC;AAC3B,qBAAA,IAAI,CAAC,YAAA;AACL,oBAAA,KAAI,CAAC,YAAY,CAAC,YAAY,IAAI,IAAI,CAAC,CAAC;AACzC,iBAAC,CAAC;qBACD,KAAK,CAAC,UAAA,GAAG,EAAA;AACT,oBAAA,OAAO,CAAC,KAAK,CAAC,4BAA4B,EAAE,GAAG,CAAC,CAAC;AAClD,iBAAC,CAAC,CAAC;AACL,aAAC,CAAC,CAAC;AACJ,SAAC,CAAC;aACD,KAAK,CAAC,UAAC,GAAU,EAAA;AACjB,YAAA,OAAO,CAAC,KAAK,CAAC,+BAA+B,EAAE,GAAG,CAAC,CAAC;AACrD,SAAC,CAAC,CAAC;KACJ,CAAA;IACF,OAAC,GAAA,CAAA;AAAD,CAAC,EAAA,EAAA;AAGD,OAAO,CAAC,QAAQ,GAAG,YAAA;;IAElB,IAAI,GAAG,EAAE,CAAC;AACX,CAAC,CAAC;AAEF,OAAO,CAAC,UAAU,GAAG,YAAA;;AAErB,CAAC;;;;"}