{"version":3,"file":"main.dist.js","sources":["../../src/TabDataProvider.ts","../../src/TabGroupsDataProvider.ts","../../src/main.ts"],"sourcesContent":["import { App } from './main';\n\ntype GitStatus = {\n\tstatus: string;\n\tpath: string;\n};\n\ntype SyntaxNames = {[name: string]: string};\ntype SyntaxImages = {[name: string]: string};\n\nclass ListItem {\n\tname: string;\n\tcontextValue: string | undefined;\n\t_syntax: string | null;\n\textension: string | undefined;\n\tpath: string | undefined;\n\turi: string;\n\ttooltip: string | undefined;\n\tisRemote: boolean;\n\tcollapsibleState: TreeItemCollapsibleState;\n\tidentifier: string;\n\n\tconstructor(name: string, identifier: string) {\n\t\tthis.name = name;\n\t\tthis._syntax = null;\n\t\tthis.path = '';\n\t\tthis.uri = '';\n\t\tthis.isRemote = false;\n\t\tthis.collapsibleState = TreeItemCollapsibleState.None;\n\t\tthis.identifier = identifier;\n\t}\n\n\tget syntax() {\n\t\treturn this._syntax;\n\t}\n\n\tset syntax(syntax: string | null) {\n\t\tthis._syntax = syntax;\n\t}\n}\n\nclass TabItem extends ListItem {\n\t_isDirty: boolean;\n\tisUntitled: boolean;\n\tisTrashed: boolean;\n\tchildren: TabItem[];\n\tparent: GroupItem | null;\n\textension: string | undefined;\n\tcount: number | undefined;\n\n\tconstructor(name: string, tab: TextDocument) {\n\t\tsuper(name, tab.uri);\n\n\t\t// Check if in .Trash folder\n\t\tconst trashRegex = new RegExp('^file://' + nova.path.expanduser('~') + '/.Trash/');\n\n\t\tthis.name = name;\n\t\tthis.path = tab.path || undefined;\n\t\tthis.uri = tab.uri;\n\t\tthis.isRemote = tab.isRemote;\n\t\tthis._isDirty = tab.isDirty;\n\t\tthis.isUntitled = tab.isUntitled;\n\t\tthis.isTrashed = trashRegex.test(decodeURI(tab.uri));\n\t\tthis.children = [];\n\t\tthis.parent = null;\n\t\tthis._syntax = tab.syntax || 'plaintext';\n\t\tthis.extension = nova.path.extname(tab.path || '').replace(/^\\./, '');\n\t\tthis.contextValue = tab.isRemote ? 'remote-tab' : 'tab';\n\t}\n\n\tget isDirty() {\n\t\treturn this._isDirty;\n\t}\n\n\tset isDirty(isDirty: boolean) {\n\t\tthis._isDirty = isDirty;\n\t}\n}\n\nclass GroupItem extends ListItem {\n\tchildren: TabItem[];\n\tparent: GroupItem | null;\n\tcount: number | undefined;\n\timage: string | undefined;\n\n\tconstructor(name: string, options?: { syntax?: string | null, extName?: string }) {\n\t\tsuper(name, options?.syntax || 'plaintext');\n\n\t\tthis._syntax = options?.syntax || 'plaintext';\n\t\tthis.extension = options?.extName;\n\t\tthis.contextValue = 'kindGroup';\n\t\tthis.children = [];\n\t\tthis.parent = null;\n\t\tthis.count = undefined;\n\t}\n\n\taddChild(element: TabItem) {\n\t\telement.parent = this;\n\t\tthis.children.push(element);\n\t}\n}\n\nclass FolderItem extends ListItem {\n\tchildren: (FolderItem | TabItem)[];\n\tparent: FolderItem | null;\n\tcount: number | undefined;\n\timage: string | undefined;\n\n\tconstructor(name: string, identifier: string) {\n\t\tsuper(name, identifier);\n\n\t\tthis.contextValue = 'folderGroup';\n\t\tthis.children = [];\n\t\tthis.parent = null;\n\t\tthis.count = undefined;\n\t\tthis.collapsibleState = TreeItemCollapsibleState.Expanded;\n\t}\n\n\taddChild(element: FolderItem | TabItem) {\n\t\telement.parent = this;\n\t\tconst lastFolderIndex = this.children.slice().reverse().findIndex(child => child instanceof FolderItem);\n\n\t\tif (element instanceof FolderItem && lastFolderIndex === -1) {\n\t\t\tthis.children.unshift(element);\n\t\t} else if (element instanceof FolderItem) {\n\t\t\tthis.children.splice(lastFolderIndex - 1, 0, element);\n\t\t} else {\n\t\t\tthis.children.push(element);\n\t\t}\n\t}\n}\n\nclass TabDataProvider {\n\tapp: App;\n\tflatItems: TabItem[];\n\tkindGroupItems: GroupItem[];\n\tfolderGroupItems: (FolderItem | TabItem)[];\n\tcustomOrder: string[];\n\tcustomKindGroupsOrder: string[];\n\tgitStatuses: GitStatus[];\n\t_sortAlpha: boolean | null;\n\t_groupBy: string | null;\n\tcollapsedKindGroups: string[];\n\tcollapsedFolders: string[];\n\turiRegex: RegExp;\n\n\tconstructor(app: App) {\n\t\tthis.app = app;\n\n\t\tthis.flatItems = [];\n\t\tthis.kindGroupItems = [];\n\t\tthis.folderGroupItems = [];\n\t\tthis.gitStatuses = [];\n\n\t\tthis._sortAlpha = nova.workspace.config.get('eablokker.tabsSidebar.config.sortAlpha', 'boolean');\n\t\tthis._groupBy = this.app.groupBy;\n\t\tthis.customOrder = nova.workspace.config.get('eablokker.tabsSidebar.config.customTabOrder', 'array') || [];\n\t\tthis.customKindGroupsOrder = nova.workspace.config.get('eablokker.tabsSidebar.config.customKindGroupsOrder', 'array') || [];\n\t\tthis.collapsedKindGroups = nova.workspace.config.get('eablokker.tabsSidebar.config.collapsedKindGroups', 'array') || [];\n\t\tthis.collapsedFolders = nova.workspace.config.get('eablokker.tabsSidebar.config.collapsedFolders', 'array') || [];\n\n\t\tthis.uriRegex = /^(file:\\/\\/|sftp:\\/\\/|ftp:\\/\\/)/;\n\t}\n\n\tget sortAlpha() {\n\t\treturn this._sortAlpha;\n\t}\n\n\tset sortAlpha(sortAlpha: boolean | null) {\n\t\tthis._sortAlpha = sortAlpha;\n\n\t\tthis.sortItems();\n\t}\n\n\tget groupBy() {\n\t\treturn this._groupBy;\n\t}\n\n\tset groupBy(groupBy: string | null) {\n\t\tthis._groupBy = groupBy;\n\n\t\tthis.sortItems();\n\t}\n\n\tloadData(documentTabs: readonly TextDocument[], focusedTab?: TabItem) {\n\t\t// Convert paths to uris in custom order\n\t\tif (this.customOrder.length) {\n\t\t\tconst hasUri = this.customOrder.some(uriOrPath => this.uriRegex.test(uriOrPath));\n\n\t\t\tif (!hasUri) {\n\t\t\t\tthis.customOrder = this.customOrder.map(uriOrPath => {\n\t\t\t\t\tconst isPath = !this.uriRegex.test(uriOrPath);\n\n\t\t\t\t\tif (isPath) {\n\t\t\t\t\t\tconst foundTab = documentTabs.find(tab => tab.path === uriOrPath);\n\t\t\t\t\t\treturn foundTab?.uri || uriOrPath;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn uriOrPath;\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t// Remove closed tabs from custom order\n\t\tif (this.customOrder.length) {\n\t\t\tthis.customOrder = this.customOrder.filter(uri => {\n\t\t\t\treturn documentTabs.some(tab => tab.uri === uri);\n\t\t\t});\n\t\t}\n\n\t\t// Remove closed folders from collapsed folders list\n\t\tif (this.collapsedFolders.length) {\n\t\t\tthis.collapsedFolders = this.collapsedFolders.filter(uri => {\n\t\t\t\treturn documentTabs.some(tab => {\n\t\t\t\t\t// Handle special root folders\n\t\t\t\t\tif (uri === '__RemoteRootFolder__' && tab.isRemote) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (uri === '__LocalProjectFolder__' && nova.workspace && tab.path?.startsWith(nova.workspace?.path || '')) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (uri === '__LocalTrashFolder__' && tab.path?.startsWith(nova.path.expanduser('~') + '/.Trash/')) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (uri === '__LocalRootFolder__') {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn tab.uri?.startsWith(uri);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\t// Remove closed tabs from flat list\n\t\tthis.flatItems.forEach((item, i, self) => {\n\t\t\tconst tabIsClosed = documentTabs.every(tab => tab.uri !== item.uri);\n\t\t\tif (tabIsClosed) {\n\t\t\t\t// Remove from flat items\n\t\t\t\tself.splice(i, 1);\n\t\t\t}\n\t\t});\n\n\t\t// Remove closed tabs from kind groups\n\t\tthis.kindGroupItems.forEach((folder, i, self) => {\n\t\t\tfolder.children.forEach((child, i2, self2) => {\n\t\t\t\tconst tabIsClosed = documentTabs.every(tab => tab.uri !== child.uri);\n\t\t\t\tconst syntaxChanged = child.syntax && folder.syntax !== child.syntax;\n\n\t\t\t\t// if (nova.inDevMode()) console.log(folder.syntax, child.syntax);\n\n\t\t\t\tif (tabIsClosed || syntaxChanged) {\n\t\t\t\t\tself2.splice(i2, 1);\n\t\t\t\t}\n\n\t\t\t\t// Remove folder if now empty\n\t\t\t\tif (!folder.children.length) {\n\t\t\t\t\tself.splice(i, 1);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\t// Remove closed kind groups from custom order\n\t\tif (this.customKindGroupsOrder.length && this.kindGroupItems.length) {\n\t\t\tthis.customKindGroupsOrder = this.customKindGroupsOrder.filter(syntax => {\n\t\t\t\treturn this.kindGroupItems.some(group => {\n\t\t\t\t\tconst syntaxName = group.syntax || 'plaintext';\n\t\t\t\t\treturn syntax === syntaxName;\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\t// Sort out tabs into new arrays\n\t\tconst remoteTabs: TextDocument[] = [];\n\t\tconst projectTabs: TextDocument[] = [];\n\t\tconst trashTabs: TextDocument[] = [];\n\t\tconst localTabs: TextDocument[] = [];\n\n\t\tdocumentTabs.forEach(tab => {\n\t\t\tif (tab.isRemote) {\n\t\t\t\tremoteTabs.push(tab);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (nova.workspace && tab.path?.startsWith(nova.workspace?.path || '')) {\n\t\t\t\tprojectTabs.push(tab);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (tab.path?.startsWith(nova.path.expanduser('~') + '/.Trash/')) {\n\t\t\t\ttrashTabs.push(tab);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlocalTabs.push(tab);\n\t\t});\n\n\t\t// Reset folder items\n\t\tthis.folderGroupItems = [];\n\n\t\tlet groupsCount = 0;\n\n\t\tif (remoteTabs.length) {\n\t\t\tgroupsCount++;\n\t\t}\n\n\t\tif (projectTabs.length) {\n\t\t\tgroupsCount++;\n\t\t}\n\n\t\tif (trashTabs.length) {\n\t\t\tgroupsCount++;\n\t\t}\n\n\t\tif (localTabs.length) {\n\t\t\tgroupsCount++;\n\t\t}\n\n\t\t// Add all tabs if more than one group\n\t\tif (groupsCount < 2) {\n\t\t\tconst tabs = documentTabs.slice(0);\n\t\t\tconst rootFolder = new FolderItem('Root', '__RootFolder__');\n\t\t\trootFolder.path = '__RootFolder__';\n\t\t\trootFolder.uri = '__RootFolder__';\n\n\t\t\tthis.createNestedFolders(tabs, rootFolder);\n\n\t\t\trootFolder.children.forEach(child => {\n\t\t\t\tthis.folderGroupItems.push(child);\n\t\t\t});\n\n\t\t} else {\n\n\t\t\t// Add top level groups\n\t\t\tif (projectTabs.length) {\n\t\t\t\tconst projectName = nova.workspace?.config.get('workspace.name', 'string') || nova.path.basename(nova.workspace?.path || '') || nova.localize('Project');\n\n\t\t\t\tconst projectFolder = new FolderItem(projectName, '__LocalProjectFolder__');\n\t\t\t\tprojectFolder.path = '__LocalProjectFolder__';\n\t\t\t\tprojectFolder.uri = '__LocalProjectFolder__';\n\t\t\t\tprojectFolder.image = 'sidebar-files';\n\t\t\t\tprojectFolder.tooltip = nova.workspace?.path || nova.localize('Project');\n\t\t\t\tprojectFolder.contextValue = 'folderGroup-root';\n\t\t\t\tprojectFolder.collapsibleState = TreeItemCollapsibleState.Expanded;\n\n\t\t\t\tif (this.collapsedFolders.indexOf(projectFolder.uri) > -1) {\n\t\t\t\t\tprojectFolder.collapsibleState = TreeItemCollapsibleState.Collapsed;\n\t\t\t\t}\n\n\t\t\t\tthis.createNestedFolders(projectTabs, projectFolder);\n\t\t\t\tthis.folderGroupItems.push(projectFolder);\n\t\t\t}\n\n\t\t\tif (localTabs.length) {\n\t\t\t\tconst localFolder = new FolderItem(nova.localize('Local'), '__LocalRootFolder__');\n\t\t\t\tlocalFolder.path = '__LocalRootFolder__';\n\t\t\t\tlocalFolder.uri = '__LocalRootFolder__';\n\t\t\t\tlocalFolder.image = 'sidebar-files';\n\t\t\t\tlocalFolder.tooltip = 'Local';\n\t\t\t\tlocalFolder.contextValue = 'folderGroup-root';\n\t\t\t\tlocalFolder.collapsibleState = TreeItemCollapsibleState.Expanded;\n\n\t\t\t\tif (this.collapsedFolders.indexOf(localFolder.uri) > -1) {\n\t\t\t\t\tlocalFolder.collapsibleState = TreeItemCollapsibleState.Collapsed;\n\t\t\t\t}\n\n\t\t\t\tthis.createNestedFolders(localTabs, localFolder);\n\t\t\t\tthis.folderGroupItems.push(localFolder);\n\t\t\t}\n\n\t\t\tif (remoteTabs.length) {\n\t\t\t\tconst remoteFolder = new FolderItem(nova.localize('Remote'), '__RemoteRootFolder__');\n\t\t\t\tremoteFolder.path = '__RemoteRootFolder__';\n\t\t\t\tremoteFolder.uri = '__RemoteRootFolder__';\n\t\t\t\tremoteFolder.image = 'sidebar-remote';\n\t\t\t\tremoteFolder.tooltip = 'Remote';\n\t\t\t\tremoteFolder.contextValue = 'folderGroup-root';\n\t\t\t\tremoteFolder.collapsibleState = TreeItemCollapsibleState.Expanded;\n\n\t\t\t\tif (this.collapsedFolders.indexOf(remoteFolder.uri) > -1) {\n\t\t\t\t\tremoteFolder.collapsibleState = TreeItemCollapsibleState.Collapsed;\n\t\t\t\t}\n\n\t\t\t\tthis.createNestedFolders(remoteTabs, remoteFolder);\n\t\t\t\tthis.folderGroupItems.push(remoteFolder);\n\t\t\t}\n\n\t\t\tif (trashTabs.length) {\n\t\t\t\tconst trashFolder = new FolderItem(nova.localize('Trash'), '__LocalTrashFolder__');\n\t\t\t\ttrashFolder.path = '__LocalTrashFolder__';\n\t\t\t\ttrashFolder.uri = '__LocalTrashFolder__';\n\t\t\t\ttrashFolder.image = 'sidebar-trash';\n\t\t\t\ttrashFolder.tooltip = 'Trash';\n\t\t\t\ttrashFolder.contextValue = 'folderGroup-root';\n\t\t\t\ttrashFolder.collapsibleState = TreeItemCollapsibleState.Expanded;\n\n\t\t\t\tif (this.collapsedFolders.indexOf(trashFolder.uri) > -1) {\n\t\t\t\t\ttrashFolder.collapsibleState = TreeItemCollapsibleState.Collapsed;\n\t\t\t\t}\n\n\t\t\t\tthis.createNestedFolders(trashTabs, trashFolder);\n\t\t\t\tthis.folderGroupItems.push(trashFolder);\n\t\t\t}\n\n\t\t}\n\n\t\t// Add newly opened tabs\n\t\tdocumentTabs.forEach(tab => {\n\t\t\t// Hide untitled tabs\n\t\t\tif (tab.isUntitled || !tab.path) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Check if tab is new in custom order\n\t\t\tconst tabIsNewInCustomOrder = this.customOrder.every(uri => uri !== tab.uri);\n\n\t\t\t// Add new tab to custom order\n\t\t\tif (tabIsNewInCustomOrder) {\n\t\t\t\t// Splice new tab into array just after active editor or last focused tab\n\t\t\t\tlet tabIndex = -1;\n\t\t\t\tif (focusedTab) {\n\t\t\t\t\ttabIndex = this.customOrder.findIndex(uri => uri === focusedTab.uri);\n\t\t\t\t}\n\n\t\t\t\tif (tabIndex > -1) {\n\t\t\t\t\tthis.customOrder.splice(tabIndex + 1, 0, tab.uri);\n\t\t\t\t} else {\n\t\t\t\t\tthis.customOrder.push(tab.uri);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Check if tab is new in flat items\n\t\t\tconst tabIsNew = this.flatItems.every(item => item.uri !== tab.uri);\n\n\t\t\t// Add tab to flat items if new\n\t\t\tif (tabIsNew) {\n\t\t\t\tconst tabName = this.basename(tab.path || 'untitled');\n\t\t\t\tconst element = new TabItem(tabName, tab);\n\n\t\t\t\tthis.flatItems.push(element);\n\t\t\t}\n\n\t\t\t// Check if tab is new in kind groups\n\t\t\tconst tabIsNewInKindGroups = this.kindGroupItems.every(group => {\n\t\t\t\treturn group.children.every(item => item.uri !== tab.uri);\n\t\t\t});\n\n\t\t\tif (tabIsNewInKindGroups) {\n\t\t\t\tconst tabName = this.basename(tab.path || 'untitled');\n\t\t\t\tconst element = new TabItem(tabName, tab);\n\n\t\t\t\t// Add tab to grouped items if new\n\t\t\t\tconst tabSyntax = tab.syntax || 'plaintext';\n\t\t\t\tconst folder = this.kindGroupItems.find(group => group.syntax === tabSyntax);\n\n\t\t\t\t// Add tab to folder if folder already exists\n\t\t\t\tif (folder) {\n\t\t\t\t\tconst childIndex = folder.children.findIndex(child => child.uri === tab.uri);\n\t\t\t\t\tif (childIndex < 0) {\n\t\t\t\t\t\tfolder.addChild(Object.assign({}, element));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Add new folder if it doesn't exist yet\n\n\t\t\t\t\t// Title case syntax name\n\t\t\t\t\tconst titleCaseName = tabSyntax\n\t\t\t\t\t\t.split(' ')\n\t\t\t\t\t\t.map((s) => s.charAt(0).toUpperCase() + s.substring(1))\n\t\t\t\t\t\t.join(' ');\n\n\t\t\t\t\tlet extName = nova.path.extname(tab.path || '').replace(/^\\./, '');\n\n\t\t\t\t\tif (tabSyntax === 'plaintext') {\n\t\t\t\t\t\textName = '';\n\t\t\t\t\t}\n\n\t\t\t\t\tconst newFolder = new GroupItem(\n\t\t\t\t\t\tthis.app.syntaxNames[tabSyntax as keyof SyntaxNames] || titleCaseName,\n\t\t\t\t\t\t{ syntax: tab.syntax, extName: extName }\n\t\t\t\t\t);\n\n\t\t\t\t\tnewFolder.addChild(Object.assign({}, element));\n\t\t\t\t\tthis.kindGroupItems.push(newFolder);\n\n\t\t\t\t\tif (this.customKindGroupsOrder.indexOf(tabSyntax) < 0) {\n\t\t\t\t\t\tthis.customKindGroupsOrder.push(tabSyntax);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tnova.workspace.config.set('eablokker.tabsSidebar.config.customKindGroupsOrder', this.customKindGroupsOrder);\n\t\tnova.workspace.config.set('eablokker.tabsSidebar.config.customTabOrder', this.customOrder);\n\t\tnova.workspace.config.set('eablokker.tabsSidebar.config.collapsedFolders', this.collapsedFolders);\n\n\t\tthis.sortItems();\n\t}\n\n\tcreateNestedFolders(tabs: TextDocument[], rootFolder: FolderItem) {\n\t\t// Find common parent folder\n\t\tconst tabDirArray = nova.path.split(nova.path.dirname(tabs[0].path || ''));\n\n\t\tconst commonDirArray: string[] = [];\n\t\ttabDirArray.every((dir, i) => {\n\t\t\tconst commonDir = tabs.every((tab2) => {\n\t\t\t\tconst tabDirArray2 = nova.path.split(nova.path.dirname(tab2.path || ''));\n\t\t\t\treturn tabDirArray2[i] === dir;\n\t\t\t});\n\n\t\t\tif (!commonDir) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tcommonDirArray.push(dir);\n\t\t\treturn true;\n\t\t});\n\n\t\ttabs.forEach(tab => {\n\t\t\tconst tabDirArray = nova.path.split(nova.path.dirname(tab.path || '')).slice(1);\n\n\t\t\tlet parentFolder = rootFolder;\n\t\t\ttabDirArray.forEach((dir, i, arr) => {\n\t\t\t\tconst folderPath = '/' + nova.path.join(...arr.slice(0, i + 1));\n\t\t\t\tconst folderUriSliced = nova.path.split(nova.path.dirname(tab.uri)).slice(0, -(arr.length - i - 1));\n\t\t\t\tconst folderUriJoined = folderUriSliced.length ? nova.path.join(...folderUriSliced) : nova.path.dirname(tab.uri);\n\t\t\t\tconst folderUri = folderUriJoined.replace(/^file:/, 'file://').replace(/^sftp:\\/:/, 'sftp://:').replace(/^ftp:\\/:/, 'ftp://:');\n\n\t\t\t\t// console.log('folderPath', folderPath);\n\t\t\t\t// console.log('folderUri', folderUri);\n\n\t\t\t\t// Exclude common parent folders from tree\n\t\t\t\tif (i < commonDirArray.length - 1) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst childFolder = parentFolder.children.find(child => child instanceof FolderItem && child.path === folderPath) as FolderItem;\n\n\t\t\t\t// Add new folder if it doesn't exist yet\n\t\t\t\tif (!childFolder) {\n\t\t\t\t\tconst subFolder = new FolderItem(dir, folderUri);\n\t\t\t\t\tsubFolder.path = folderPath;\n\t\t\t\t\tsubFolder.uri = folderUri;\n\t\t\t\t\tsubFolder.tooltip = folderPath;\n\t\t\t\t\tsubFolder.image = 'folder';\n\n\t\t\t\t\tif (folderPath === nova.path.expanduser('~')) {\n\t\t\t\t\t\tsubFolder.image = 'folder-home';\n\t\t\t\t\t}\n\n\t\t\t\t\tif (dir === '.nova') {\n\t\t\t\t\t\tsubFolder.image = 'folder-nova';\n\t\t\t\t\t}\n\n\t\t\t\t\tif (dir === '.git') {\n\t\t\t\t\t\tsubFolder.image = 'folder-git';\n\t\t\t\t\t}\n\n\t\t\t\t\tif (dir === 'node_modules') {\n\t\t\t\t\t\tsubFolder.image = 'folder-node';\n\t\t\t\t\t}\n\n\t\t\t\t\tif (dir.endsWith('.novaextension')) {\n\t\t\t\t\t\tsubFolder.image = '__filetype.novaextension';\n\t\t\t\t\t}\n\n\t\t\t\t\tif (folderPath && this.collapsedFolders.indexOf(folderUri) > -1) {\n\t\t\t\t\t\tsubFolder.collapsibleState = TreeItemCollapsibleState.Collapsed;\n\t\t\t\t\t}\n\n\t\t\t\t\t// console.log('folderPath', folderPath, subFolder.collapsibleState);\n\n\t\t\t\t\tparentFolder.addChild(subFolder);\n\n\t\t\t\t\tparentFolder = subFolder;\n\n\t\t\t\t// Use existing folder to add child to\n\t\t\t\t} else if (childFolder) {\n\t\t\t\t\tparentFolder = childFolder;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tconst tabName = this.basename(tab.path || 'untitled');\n\t\t\tconst child = new TabItem(tabName, tab);\n\t\t\tparentFolder.addChild(child);\n\t\t});\n\n\t\tthis.sortNestedFolders(rootFolder);\n\t}\n\n\tsortNestedFolders(parentFolder: FolderItem) {\n\t\tparentFolder.children.sort((a, b) => {\n\t\t\t// Sort folders above files\n\t\t\tif (a instanceof FolderItem && b instanceof TabItem) {\n\t\t\t\treturn -1;\n\t\t\t}\n\n\t\t\tif (a instanceof TabItem && b instanceof FolderItem) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\t// Sort folders by alpha\n\t\t\tif (a instanceof FolderItem && b instanceof FolderItem) {\n\t\t\t\treturn a.name.localeCompare(b.name);\n\t\t\t}\n\n\t\t\t// Sort tabs by alpha\n\t\t\tif (a instanceof TabItem && b instanceof TabItem) {\n\t\t\t\treturn a.name.localeCompare(b.name);\n\t\t\t}\n\n\t\t\treturn 0;\n\t\t});\n\n\t\tparentFolder.children.forEach(child => {\n\t\t\tif (child instanceof FolderItem) {\n\t\t\t\tthis.sortNestedFolders(child);\n\t\t\t}\n\t\t});\n\t}\n\n\trunProcess(scriptPath: string, args: string[], cwd?: string, timeout = 3000): Promise<string> {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tlet outString = '';\n\t\t\tlet errorString = '';\n\n\t\t\tconst process = new Process(scriptPath, { args: args, cwd: cwd });\n\n\t\t\tprocess.onStdout(line => {\n\t\t\t\toutString += line;\n\t\t\t});\n\n\t\t\tprocess.onStderr(line => {\n\t\t\t\terrorString += line;\n\t\t\t});\n\n\t\t\tconst timeoutID = setTimeout(() => {\n\t\t\t\t// Ensure the process terminates in a timely fashion\n\t\t\t\treject('The process did not respond in a timely manner.');\n\t\t\t\tprocess.terminate();\n\t\t\t}, timeout);\n\n\t\t\tprocess.onDidExit(status => {\n\t\t\t\tclearTimeout(timeoutID);\n\n\t\t\t\t// Return error status when checking if file is ignored in Git\n\t\t\t\tif (args[2] === 'check-ignore') {\n\t\t\t\t\tresolve(status.toString());\n\t\t\t\t}\n\n\t\t\t\tif (status > 0) {\n\t\t\t\t\treject(new Error('Process returned error status ' + status + ' when executing ' + scriptPath + ' ' + args.join(' ')));\n\t\t\t\t}\n\n\t\t\t\tif (errorString.length) {\n\t\t\t\t\treject(new Error(errorString));\n\t\t\t\t} else {\n\t\t\t\t\tresolve(outString);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tprocess.start();\n\t\t});\n\t}\n\n\tbasename(uri: string) {\n\t\treturn nova.path.basename(uri);\n\t}\n\n\tisUniqueName(tab: TabItem) {\n\t\treturn nova.workspace.textDocuments\n\t\t\t.filter(doc => doc.uri !== tab.uri)\n\t\t\t.every(doc => {\n\t\t\t\tconst basename = this.basename(doc.uri);\n\t\t\t\treturn basename !== this.basename(tab.uri);\n\t\t\t});\n\t}\n\n\tgetCommonBasePath(tab: TabItem) {\n\t\tconst tabDirArray = nova.path.split(nova.path.dirname(tab.path || ''));\n\t\tconst similarTabs = nova.workspace.textDocuments\n\t\t\t.filter(doc => {\n\t\t\t\t// Differentiate between local and remote files with same name\n\t\t\t\treturn doc.isRemote === tab.isRemote && this.basename(doc.uri) === this.basename(tab.uri);\n\t\t\t});\n\n\t\tconst commonDirArray: string[] = [];\n\t\ttabDirArray.every((dir, i) => {\n\t\t\tconst commonDir = similarTabs.every((tab2) => {\n\t\t\t\tconst tabDirArray2 = nova.path.split(nova.path.dirname(tab2.path || ''));\n\t\t\t\treturn tabDirArray2[i] === dir;\n\t\t\t});\n\n\t\t\tif (!commonDir) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tcommonDirArray.push(dir);\n\t\t\treturn true;\n\t\t});\n\n\t\tif (commonDirArray.length === 1) {\n\t\t\treturn '/';\n\t\t}\n\n\t\treturn commonDirArray.join('/');\n\t}\n\n\tmoveTab(tab: TabItem, distance: number) {\n\t\t// Original tab path\n\t\tconst uri = tab.uri;\n\t\t// const path = tab.path;\n\n\t\t// Get item indexes\n\t\tconst fromItemIndex = this.flatItems.findIndex(item => item.uri === uri);\n\t\tconst toItemIndex = fromItemIndex + distance;\n\n\t\tif (toItemIndex < 0 || toItemIndex >= this.flatItems.length) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Get items to swap\n\t\tconst fromItem = this.flatItems[fromItemIndex];\n\t\tconst toItem = this.flatItems[toItemIndex];\n\n\t\t// Swap data between items\n\t\tconst keys = Object.keys(fromItem).concat(Object.keys(toItem));\n\t\tkeys\n\t\t\t.filter((key, i, keys) => keys.indexOf(key) === i) // Remove duplicates\n\t\t\t.forEach((key) => {\n\t\t\t\t// Preserve context value\n\t\t\t\tif (key === 'contextValue') {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst tabItemKey = key as keyof TabItem;\n\n\t\t\t\tconst newVal = fromItem[tabItemKey];\n\t\t\t\tconst oldVal = toItem[tabItemKey];\n\n\t\t\t\t// @ts-expect-error Need to figure out how to swap values\n\t\t\t\ttoItem[tabItemKey] = newVal;\n\t\t\t\t// @ts-expect-error Need to figure out how to swap values\n\t\t\t\tfromItem[tabItemKey] = oldVal;\n\t\t\t});\n\n\t\t// Update custom order\n\t\tconst fromIndex = this.customOrder.indexOf(uri || '');\n\t\tconst toIndex = fromIndex + distance;\n\n\t\tif (toIndex < 0 || toIndex >= this.customOrder.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst item = this.customOrder.splice(fromIndex, 1)[0];\n\t\tthis.customOrder.splice(toIndex, 0, item);\n\t\tnova.workspace.config.set('eablokker.tabsSidebar.config.customTabOrder', this.customOrder);\n\t\tthis.app.focusedTab = toItem;\n\n\t\t// Reload each item that got swapped\n\t\tPromise.all([this.app.treeView.reload(fromItem), this.app.treeView.reload(toItem)])\n\t\t\t.then(() => {\n\t\t\t\tthis.app.highlightTab(toItem, { focus: true });\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.error(err);\n\t\t\t});\n\t}\n\n\tmoveKindGroup(group: GroupItem, distance: number) {\n\t\t// Original tab path\n\t\tconst syntax = group.syntax || 'plaintext';\n\n\t\t// Get item indexes\n\t\tconst fromItemIndex = this.kindGroupItems.findIndex(item => item.syntax === syntax);\n\t\tconst toItemIndex = fromItemIndex + distance;\n\n\t\tif (toItemIndex < 0 || toItemIndex >= this.kindGroupItems.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst fromItem = this.kindGroupItems[fromItemIndex];\n\n\t\t// Update custom order\n\t\tconst fromIndex = this.kindGroupItems.findIndex(group => group.syntax === syntax);\n\t\tconst toIndex = fromIndex + distance;\n\n\t\tif (toIndex < 0 || toIndex >= this.kindGroupItems.length) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Move group\n\t\tconst item = this.kindGroupItems.splice(fromIndex, 1)[0];\n\t\tthis.kindGroupItems.splice(toIndex, 0, item);\n\n\t\t// Update group contextValues\n\t\tthis.updateGroupContexts();\n\n\t\t// Update saved groups order\n\t\tthis.customKindGroupsOrder = this.kindGroupItems.map(group => group.syntax || 'plaintext');\n\t\tnova.workspace.config.set('eablokker.tabsSidebar.config.customKindGroupsOrder', this.customKindGroupsOrder);\n\n\t\t// Reload treeview\n\t\tthis.app.treeView.reload()\n\t\t\t.then(() => {\n\t\t\t\tthis.app.highlightTab(fromItem, { focus: true });\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconsole.error(err);\n\t\t\t});\n\t}\n\n\tcleanUpByTabBarOrder(result: string) {\n\t\tconst windowList = result.split(', ');\n\t\tconst currentWindow: string[] = [];\n\n\t\tlet projectFound = false;\n\t\twindowList.every((menuItem: string) => {\n\t\t\tif (menuItem.trim() === 'âœ“') {\n\t\t\t\tprojectFound = true;\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// Stop at end of current project list\n\t\t\tif (projectFound && menuItem.trim() === nova.localize('missing value')) {\n\t\t\t\tprojectFound = false;\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (projectFound) {\n\t\t\t\tcurrentWindow.push(menuItem.trim());\n\t\t\t}\n\n\t\t\treturn true;\n\t\t});\n\n\t\tthis.customOrder.sort((a, b) => {\n\t\t\t// Sort by parent uri if filename is not unique\n\t\t\tconst uris = [a, b].map(uri => {\n\t\t\t\tlet basename = nova.path.basename(uri);\n\t\t\t\tlet parentPath = '';\n\t\t\t\tconst element = this.getElementByUri(uri);\n\n\t\t\t\tif (!element) {\n\t\t\t\t\treturn basename;\n\t\t\t\t}\n\n\t\t\t\tconst isUnique = this.isUniqueName(element);\n\n\t\t\t\tif (isUnique) {\n\t\t\t\t\treturn basename;\n\t\t\t\t}\n\n\t\t\t\tconst commonBasePath = this.getCommonBasePath(element);\n\t\t\t\tparentPath = decodeURI(nova.path.dirname(element.path || '').substring(commonBasePath.length));\n\n\t\t\t\tif (parentPath.length) {\n\t\t\t\t\tbasename += ' â€“ ' + parentPath;\n\t\t\t\t}\n\n\t\t\t\treturn basename;\n\t\t\t});\n\n\t\t\tif (!currentWindow.length) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (currentWindow.indexOf(uris[0]) < 0) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\tcurrentWindow.indexOf(uris[0]) -\n\t\t\t\tcurrentWindow.indexOf(uris[1])\n\t\t\t);\n\t\t});\n\t\tnova.workspace.config.set('eablokker.tabsSidebar.config.customTabOrder', this.customOrder);\n\n\t\tthis.sortItems();\n\t}\n\n\tcleanUpByAlpha() {\n\t\tthis.customOrder.sort((a, b) => {\n\t\t\treturn nova.path.basename(a).localeCompare(nova.path.basename(b));\n\t\t});\n\t\tnova.workspace.config.set('eablokker.tabsSidebar.config.customTabOrder', this.customOrder);\n\n\t\tthis.sortItems();\n\t}\n\n\tcleanUpByType() {\n\t\tconst elementArray = this.customOrder.map(uri => {\n\t\t\treturn this.getElementByUri(uri);\n\t\t});\n\n\t\tthis.customOrder.sort((a, b) => {\n\t\t\tconst aElement = elementArray.find(item => item?.uri === a);\n\t\t\tconst bElement = elementArray.find(item => item?.uri === b);\n\n\t\t\tif (!aElement || !bElement || !aElement.syntax || !bElement.syntax ) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\treturn aElement.syntax.localeCompare(bElement.syntax);\n\t\t});\n\t\tnova.workspace.config.set('eablokker.tabsSidebar.config.customTabOrder', this.customOrder);\n\n\t\tthis.sortItems();\n\t}\n\n\tupdateGroupContexts() {\n\t\tthis.kindGroupItems.forEach((group, i) => {\n\t\t\tif (this.kindGroupItems.length === 1) {\n\t\t\t\tgroup.contextValue = 'kindGroup-only';\n\t\t\t} else if (i === 0) {\n\t\t\t\tgroup.contextValue = 'kindGroup-first';\n\t\t\t} else if (i === this.kindGroupItems.length - 1) {\n\t\t\t\tgroup.contextValue = 'kindGroup-last';\n\t\t\t} else {\n\t\t\t\tgroup.contextValue = 'kindGroup';\n\t\t\t}\n\t\t});\n\t}\n\n\tgetGitStatus(gitPath: string): Promise<GitStatus[]> {\n\t\tif (nova.inDevMode()) console.log('getGitStatus()');\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst projectPath = nova.workspace.path;\n\n\t\t\tif (!projectPath) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// '--no-optional-locks' git option to prevent watching changes on .git/index.lock\n\t\t\tthis\n\t\t\t\t.runProcess(gitPath, ['--no-optional-locks', 'status', '--porcelain', '-uall'], projectPath)\n\t\t\t\t.then(result => {\n\t\t\t\t\tconst gitStatusRegex = new RegExp('([ ADMRCU?!]{2}) \"?([0-9a-zA-Z@_. /-]+) ?-?>? ?([0-9a-zA-Z@_. /-]*)', 'gm');\n\t\t\t\t\tlet matches = gitStatusRegex.exec(result);\n\n\t\t\t\t\t// Reset statuses\n\t\t\t\t\tthis.gitStatuses.forEach(status => {\n\t\t\t\t\t\tstatus.status = '';\n\t\t\t\t\t});\n\n\t\t\t\t\twhile (matches != null) {\n\t\t\t\t\t\tconst newStatus = {\n\t\t\t\t\t\t\tstatus: matches[1],\n\t\t\t\t\t\t\tpath: matches[3] || matches[2]\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tconst i = this.gitStatuses.findIndex(status => status.path === newStatus.path);\n\t\t\t\t\t\tif (i > -1) {\n\t\t\t\t\t\t\tthis.gitStatuses[i].status = newStatus.status;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.gitStatuses.push(newStatus);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmatches = gitStatusRegex.exec(result);\n\t\t\t\t\t}\n\n\t\t\t\t\t// console.log(this.gitStatuses);\n\n\t\t\t\t\tresolve(this.gitStatuses);\n\t\t\t\t})\n\t\t\t\t.catch((err: Error) => {\n\t\t\t\t\treject(err);\n\t\t\t\t});\n\t\t});\n\t}\n\n\t// Sorting function\n\tbyCustomOrder(a: TabItem, b: TabItem) {\n\t\tif (this.customOrder.indexOf(a.uri || '') < 0) {\n\t\t\treturn 1;\n\t\t}\n\t\treturn this.customOrder.indexOf(a.uri || '') - this.customOrder.indexOf(b.uri || '');\n\t}\n\n\t// Sorting function\n\tbyCustomKindGroupsOrder(a: GroupItem, b: GroupItem) {\n\t\tif (this.customKindGroupsOrder.indexOf(a.syntax || 'plaintext') < 0) {\n\t\t\treturn 1;\n\t\t}\n\t\treturn this.customKindGroupsOrder.indexOf(a.syntax || 'plaintext') - this.customKindGroupsOrder.indexOf(b.syntax || 'plaintext');\n\t}\n\n\tsortItems() {\n\t\t// Sort custom ordered items by custom order\n\t\tthis.flatItems.sort(this.byCustomOrder.bind(this));\n\n\t\t// Sort kind groups by custom order\n\t\tthis.kindGroupItems.sort(this.byCustomKindGroupsOrder.bind(this));\n\n\t\t// Sort kind group children by custom order\n\t\tthis.kindGroupItems.forEach(item => {\n\t\t\titem.children.sort(this.byCustomOrder.bind(this));\n\t\t});\n\n\t\t// Set context of position in list\n\t\tthis.flatItems.forEach((tab, i) => {\n\t\t\tif (this.flatItems.length === 1) {\n\t\t\t\ttab.contextValue = tab.isRemote ? 'remote-only' : 'only';\n\t\t\t} else if (i === 0) {\n\t\t\t\ttab.contextValue = tab.isRemote ? 'remote-first' : 'first';\n\t\t\t} else if (i === this.flatItems.length - 1) {\n\t\t\t\ttab.contextValue = tab.isRemote ? 'remote-last' : 'last';\n\t\t\t} else {\n\t\t\t\ttab.contextValue = tab.isRemote ? 'remote-tab' : 'tab';\n\t\t\t}\n\t\t});\n\n\t\t// Set context of position of group in list\n\t\tthis.updateGroupContexts();\n\n\t\t//console.log('this.customOrder', this.customOrder);\n\n\t\tif (this.sortAlpha) {\n\t\t\tif (nova.inDevMode()) console.log('Sorting by alpha');\n\n\t\t\tthis.flatItems.sort((a, b) => {\n\t\t\t\treturn a.name.localeCompare(b.name);\n\t\t\t});\n\t\t}\n\n\t\tif (this.groupBy === 'type' && this.sortAlpha) {\n\t\t\tif (nova.inDevMode()) console.log('Sorting folders by alpha');\n\n\t\t\tthis.kindGroupItems.sort((a, b) => {\n\t\t\t\treturn a.name.localeCompare(b.name);\n\t\t\t});\n\n\t\t\tthis.kindGroupItems.forEach(item => {\n\t\t\t\titem.children.sort((a, b) => {\n\t\t\t\t\treturn a.name.localeCompare(b.name);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\tgetElementByUri(uri: string): TabItem | undefined {\n\t\tif (this.groupBy === 'type') {\n\t\t\tlet childElement: TabItem | undefined;\n\t\t\tthis.kindGroupItems.some(item => {\n\t\t\t\tchildElement = item.children.find(child => {\n\t\t\t\t\treturn child.uri === uri;\n\t\t\t\t});\n\n\t\t\t\treturn !!childElement;\n\t\t\t});\n\n\t\t\treturn childElement;\n\t\t}\n\n\t\tif (this.groupBy === 'folder') {\n\t\t\tconst childElement = this.findNestedChild(this.folderGroupItems, uri, 'uri');\n\t\t\treturn childElement || undefined;\n\t\t}\n\n\t\treturn this.flatItems.find(item => {\n\t\t\treturn item.uri === uri;\n\t\t});\n\n\t}\n\n\tgetElementByPath(path: string): TabItem | undefined {\n\t\tif (this.groupBy === 'type') {\n\t\t\tlet childElement: TabItem | undefined;\n\t\t\tthis.kindGroupItems.some(item => {\n\t\t\t\tchildElement = item.children.find(child => {\n\t\t\t\t\treturn child.path === path;\n\t\t\t\t});\n\n\t\t\t\treturn !!childElement;\n\t\t\t});\n\n\t\t\treturn childElement;\n\t\t}\n\n\t\tif (this.groupBy === 'folder') {\n\t\t\tconst childElement = this.findNestedChild(this.folderGroupItems, path, 'path');\n\t\t\treturn childElement || undefined;\n\t\t}\n\n\t\treturn this.flatItems.find(item => {\n\t\t\treturn item.path === path;\n\t\t});\n\t}\n\n\tgetFolderBySyntax(syntax: string) {\n\t\treturn this.kindGroupItems.find((folder: GroupItem) => folder.syntax === syntax);\n\t}\n\n\tfindNestedChild(arr: (FolderItem | TabItem)[], id: string, key: 'uri' | 'path'): TabItem | null {\n\t\tconst folders = arr.filter(item => item instanceof FolderItem);\n\t\tconst tabs = arr.filter(item => item instanceof TabItem);\n\n\t\tlet foundTab: TabItem | null = tabs.find(tab => {\n\t\t\treturn tab[key] === id;\n\t\t}) as TabItem;\n\n\t\tif (foundTab) {\n\t\t\treturn foundTab;\n\t\t}\n\n\t\tfolders.some(folder => {\n\t\t\tconst foundChildTab = this.findNestedChild(folder.children, id, key);\n\n\t\t\tif (foundChildTab) {\n\t\t\t\tfoundTab = foundChildTab;\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\n\t\tif (foundTab) {\n\t\t\treturn foundTab;\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tgetChildren(element: TabItem | GroupItem) {\n\t\t// Requests the children of an element\n\t\tif (!element) {\n\t\t\tif (this.groupBy === 'type') {\n\t\t\t\treturn this.kindGroupItems;\n\t\t\t}\n\n\t\t\tif (this.groupBy === 'folder') {\n\t\t\t\treturn this.folderGroupItems;\n\t\t\t}\n\n\t\t\treturn this.flatItems;\n\t\t}\n\t\telse {\n\t\t\treturn element.children;\n\t\t}\n\t}\n\n\tgetParent(element: TabItem | GroupItem) {\n\t\t// Requests the parent of an element, for use with the reveal() method\n\n\t\t// if (nova.inDevMode()) console.log('getParent');\n\n\t\tif (element === null) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn element.parent;\n\t}\n\n\tgetTreeItem(element: TabItem | GroupItem) {\n\t\t// Converts an element into its display (TreeItem) representation\n\t\tlet item: TreeItem;\n\n\t\t// console.log('id:', element.identifier);\n\n\t\tif (element instanceof GroupItem) {\n\t\t\titem = new TreeItem(element.name);\n\n\t\t\titem.contextValue = element.contextValue;\n\t\t\titem.descriptiveText = this.app.showGroupCount ? '(' + element.children.length + ')' : '';\n\t\t\titem.identifier = element.identifier;\n\t\t\titem.image = '__filetype.' + element.extension;\n\n\t\t\tif (!element.extension) {\n\t\t\t\titem.image = '__filetype.blank';\n\t\t\t}\n\n\t\t\tconst syntaxImage = this.app.syntaxImages[element.syntax as keyof SyntaxImages];\n\n\t\t\tif (syntaxImage) {\n\t\t\t\titem.image = syntaxImage;\n\t\t\t}\n\n\t\t\tif (element.image) {\n\t\t\t\titem.image = element.image;\n\t\t\t}\n\n\t\t\titem.tooltip = '';\n\n\t\t\tlet collapsibleState = TreeItemCollapsibleState.Expanded;\n\n\t\t\tif (this.collapsedKindGroups.indexOf(element.syntax || '') > -1) {\n\t\t\t\tcollapsibleState = TreeItemCollapsibleState.Collapsed;\n\t\t\t}\n\n\t\t\titem.collapsibleState = collapsibleState;\n\t\t}\n\t\telse if (element instanceof FolderItem) {\n\t\t\titem = new TreeItem(element.name);\n\n\t\t\titem.tooltip = element.tooltip;\n\t\t\titem.contextValue = element.contextValue;\n\t\t\titem.identifier = element.identifier;\n\n\t\t\tif (element.image) {\n\t\t\t\titem.image = element.image;\n\t\t\t}\n\n\t\t\tlet collapsibleState = TreeItemCollapsibleState.Expanded;\n\n\t\t\tif (this.collapsedFolders.indexOf(element.uri || '') > -1) {\n\t\t\t\tcollapsibleState = TreeItemCollapsibleState.Collapsed;\n\t\t\t}\n\n\t\t\titem.collapsibleState = collapsibleState;\n\t\t}\n\t\telse {\n\t\t\tlet name = element.name;\n\t\t\tlet description = '';\n\n\t\t\tif (element.isDirty) {\n\t\t\t\tswitch (this.app.unsavedSymbolLocation) {\n\t\t\t\tcase 'never':\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'after-filename':\n\t\t\t\t\tdescription = (this.app.unsavedSymbol || 'âš«ï¸Ž') + ' ';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'before-filename':\n\t\t\t\tdefault:\n\t\t\t\t\tname = (this.app.unsavedSymbol || 'âš«ï¸Ž') + ' ' + name;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\titem = new TreeItem(name);\n\n\t\t\tif (!element.extension) {\n\t\t\t\titem.image = '__filetype.blank';\n\t\t\t}\n\n\t\t\tif (element.name === '.editorconfig') {\n\t\t\t\titem.image = 'filetype-config-editorconfig';\n\t\t\t}\n\n\t\t\tif (element.name === 'Dockerfile') {\n\t\t\t\titem.image = 'filetype-config-docker';\n\t\t\t}\n\n\t\t\tif (element.name === '.gitignore') {\n\t\t\t\titem.image = 'filetype-config-gitignore';\n\t\t\t}\n\n\t\t\tif (element.extension === 'map') {\n\t\t\t\tif (element.name.endsWith('.js.map')) {\n\t\t\t\t\titem.image = '__filetype.js.map';\n\t\t\t\t}\n\n\t\t\t\tif (element.name.endsWith('.css.map')) {\n\t\t\t\t\titem.image = '__filetype.css.map';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (element.name.endsWith('.d.ts')) {\n\t\t\t\titem.image = '__filetype.d.ts';\n\t\t\t}\n\n\t\t\titem.tooltip = element.path ? element.path.replace(nova.path.expanduser('~'), '~') : '';\n\n\t\t\tif (element.isTrashed) {\n\t\t\t\tconst trashString = nova.localize('Trash');\n\t\t\t\tdescription = 'â€¹ ' + trashString + ' ðŸ—‘';\n\t\t\t} else if (element.isRemote) {\n\t\t\t\tdescription += 'â˜ï¸ ';\n\t\t\t} else {\n\t\t\t\tconst relativePath = (element.path + '').replace(nova.workspace.path + '/', '');\n\t\t\t\t// console.log('relativePath', relativePath);\n\n\t\t\t\tconst foundStatus = this.gitStatuses.find(status => status.path === relativePath);\n\n\t\t\t\tif (foundStatus) {\n\t\t\t\t\t// console.log('status', foundStatus.status);\n\n\t\t\t\t\tif (foundStatus.status.length && (this.app.showGitStatus === 'text' || this.app.showGitStatus === 'both')) {\n\t\t\t\t\t\tdescription += '[' + foundStatus.status.replace(' ', 'â€¢') + '] ';\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.app.showGitStatus === 'icon' || this.app.showGitStatus === 'both') {\n\t\t\t\t\t\tswitch (foundStatus.status) {\n\t\t\t\t\t\tcase ' M':\n\t\t\t\t\t\tcase 'MM':\n\t\t\t\t\t\tcase 'RM':\n\t\t\t\t\t\tcase 'AM':\n\t\t\t\t\t\t\titem.image = 'git-modified-inverted';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'M ':\n\t\t\t\t\t\t\titem.image = 'git-modified';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'A ':\n\t\t\t\t\t\t\titem.image = 'git-added';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'R ':\n\t\t\t\t\t\t\titem.image = 'git-renamed';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase ' R':\n\t\t\t\t\t\t\titem.image = 'git-renamed-inverted';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase '??':\n\t\t\t\t\t\t\titem.image = 'git-untracked-inverted';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Calculate parent folder path for description\n\t\t\tlet parentFolder = '';\n\t\t\tconst isUnique = this.isUniqueName(element);\n\n\t\t\t// Always show parent folder if config setting is toggled on, unless grouping by folder\n\t\t\tif (this.groupBy !== 'folder' && this.app.alwaysShowParentFolder) {\n\t\t\t\tconst tabDirArray = nova.path.split(nova.path.dirname(element.path || ''));\n\t\t\t\tparentFolder = decodeURI(tabDirArray[tabDirArray.length - 1]);\n\n\t\t\t\tif (parentFolder !== '.Trash' && isUnique) {\n\t\t\t\t\tdescription += 'â€¹ ' + parentFolder;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Show parent path if filename is not unique, unless grouping by folder\n\t\t\tif (this.groupBy !== 'folder' && !isUnique) {\n\t\t\t\tconst commonBasePath = this.getCommonBasePath(element);\n\t\t\t\tlet parentPathSplit = decodeURI(nova.path.dirname(element.path || '').substring(commonBasePath.length))\n\t\t\t\t\t.split('/');\n\t\t\t\tlet separatorChar = '/';\n\n\t\t\t\tif (this.app.showParentPathInReverse) {\n\t\t\t\t\tparentPathSplit = parentPathSplit.reverse();\n\t\t\t\t\tseparatorChar = 'â€¹';\n\t\t\t\t}\n\n\t\t\t\tparentPathSplit\n\t\t\t\t\t// .filter(dir => dir.length)\n\t\t\t\t\t.forEach((dir, i) => {\n\t\t\t\t\t\t// Don't show trash folder as parent\n\t\t\t\t\t\tif (i === 0 && dir === '.Trash') {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Make sure items with empty parent dir still show parent when\n\t\t\t\t\t\t// always show parent option is enabled\n\t\t\t\t\t\tif (this.app.alwaysShowParentFolder && !dir.length) {\n\t\t\t\t\t\t\tdir = parentFolder;\n\t\t\t\t\t\t} else if (!dir.length) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (i === 0 && !this.app.showParentPathInReverse) {\n\t\t\t\t\t\t\tdescription += 'â€¹ ' + dir + ' ';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdescription += separatorChar + ' ' + dir + ' ';\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\titem.descriptiveText = description;\n\t\t\titem.path = element.path;\n\t\t\titem.command = 'tabs-sidebar.doubleClick';\n\t\t\titem.contextValue = element.contextValue;\n\t\t\titem.identifier = element.identifier;\n\t\t}\n\t\treturn item;\n\t}\n}\n\nexport { SyntaxNames, SyntaxImages, TabItem, GroupItem, FolderItem, TabDataProvider };\n","type TabGroupNames = {[uuid: string]: string};\n\nclass TabGroupItem {\n\tname: string;\n\tuuid: string;\n\tconfigString: string;\n\tcontextValue: string | undefined;\n\tchildren: TabGroupItem[];\n\tparent: TabGroupItem | null;\n\n\tconstructor(name: string, uuid?: string) {\n\t\tthis.name = name;\n\t\tthis.uuid = uuid || TabGroupItem.randomUUID();\n\t\tthis.configString = this.uuid + ':' + this.name;\n\t\tthis.children = [];\n\t\tthis.parent = null;\n\t}\n\n\tstatic randomUUID() {\n\t\tif (nova.version[0] >= 10) {\n\t\t\t// @ts-ignore\n\t\t\treturn nova.crypto.randomUUID();\n\t\t}\n\n\t\tlet u = Date.now().toString(16) + Math.random().toString(16) + '0'.repeat(16);\n\t\treturn [u.substr(0,8), u.substr(8,4), '4000-8' + u.substr(13,3), u.substr(16,12)].join('-');\n\t}\n}\n\nclass TabGroupsDataProvider {\n\tflatItems: TabGroupItem[];\n\tconfigRegex: RegExp;\n\n\tconstructor() {\n\t\tthis.flatItems = [];\n\t\tthis.configRegex = /^([^:]*):(.*)$/;\n\n\t\tconst tabGroups = nova.workspace.config.get('eablokker.tabsSidebar.config.tabGroups', 'array');\n\n\t\tif (!tabGroups) {\n\t\t\tthis.loadData();\n\t\t\treturn;\n\t\t}\n\n\t\tconst tabGroupItems = tabGroups.map((configString) => {\n\t\t\tconst matches = configString.match(this.configRegex);\n\n\t\t\tif (!matches || matches.length < 3) {\n\t\t\t\treturn new TabGroupItem('Untitled');\n\t\t\t}\n\n\t\t\tconst uuid = matches[1];\n\t\t\tconst name = matches[2];\n\n\t\t\treturn new TabGroupItem(name, uuid);\n\t\t});\n\n\t\tthis.loadData(tabGroupItems);\n\t}\n\n\tloadData(tabGroups?: TabGroupItem[]) {\n\t\tthis.flatItems = [];\n\n\t\tthis.flatItems.push(new TabGroupItem(nova.workspace.textDocuments.length + ' Documents', '__DEFAULT_GROUP__'));\n\n\t\ttabGroups?.forEach((tabGroup) => {\n\t\t\tthis.flatItems.push(tabGroup);\n\t\t});\n\t}\n\n\tupdateCurrentTabsCount() {\n\t\tthis.flatItems[0].name = nova.workspace.textDocuments.length + ' Documents';\n\t}\n\n\taddItem(name: string | null) {\n\t\tconst tabGroup = new TabGroupItem(name || 'Untitled');\n\n\t\tconst tabGroups = nova.workspace.config.get('eablokker.tabsSidebar.config.tabGroups', 'array') || [];\n\t\ttabGroups.push(tabGroup.configString);\n\n\t\t// Update config and tree\n\t\tnova.workspace.config.set('eablokker.tabsSidebar.config.tabGroups', tabGroups);\n\t\tthis.flatItems.push(tabGroup);\n\t}\n\n\trenameItemByConfigString(configString: string, newName: string) {\n\t\tconst tabGroups = nova.workspace.config.get('eablokker.tabsSidebar.config.tabGroups', 'array') || [];\n\n\t\tconst matches = configString.match(this.configRegex);\n\t\tif (!matches || matches.length < 3) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst uuid = matches[1];\n\n\t\tconst renamedTabGroups = tabGroups.map((prevConfigString) => {\n\t\t\tif (prevConfigString === configString) {\n\t\t\t\treturn uuid + ':' + newName;\n\t\t\t}\n\n\t\t\treturn prevConfigString;\n\t\t});\n\n\t\tconst tabGroupItemToRename = this.flatItems.find((tabGroup) => {\n\t\t\treturn tabGroup.uuid === uuid;\n\t\t});\n\n\t\tif (!tabGroupItemToRename) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Update config and tree\n\t\tnova.workspace.config.set('eablokker.tabsSidebar.config.tabGroups', renamedTabGroups);\n\t\ttabGroupItemToRename.name = newName;\n\t}\n\n\tremoveItemByConfigString(configString: string) {\n\t\tconst tabGroups = nova.workspace.config.get('eablokker.tabsSidebar.config.tabGroups', 'array') || [];\n\n\t\tconst filteredTabGroups = tabGroups.filter((configStringToFilter) => {\n\t\t\treturn configString !== configStringToFilter;\n\t\t});\n\n\t\t// Get UUID\n\t\tconst matches = configString.match(this.configRegex);\n\t\tif (!matches || matches.length < 3) {\n\t\t\treturn;\n\t\t}\n\t\tconst uuid = matches[1];\n\n\t\t// Get index of item to remove\n\t\tconst index = this.flatItems.findIndex((groupItem) => {\n\t\t\treturn groupItem.uuid === uuid;\n\t\t});\n\n\t\tif (index < 0) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Update config and tree\n\t\tnova.workspace.config.set('eablokker.tabsSidebar.config.tabGroups', filteredTabGroups);\n\t\tthis.flatItems.splice(index, 1);\n\n\t\t// Remove config key if empty\n\t\tif (filteredTabGroups.length <= 0) {\n\t\t\tnova.workspace.config.remove('eablokker.tabsSidebar.config.tabGroups');\n\t\t}\n\t}\n\n\tgetChildren(element: TabGroupItem) {\n\t\t// Requests the children of an element\n\t\tif (!element) {\n\t\t\treturn this.flatItems;\n\t\t}\n\n\t\treturn element.children;\n\t}\n\n\tgetParent(element: TabGroupItem) {\n\t\t// Requests the parent of an element, for use with the reveal() method\n\n\t\tif (element === null) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn element.parent;\n\t}\n\n\tgetTreeItem(element: TabGroupItem) {\n\t\tconst item = new TreeItem(element.name);\n\n\t\titem.identifier = element.uuid;\n\t\t// item.descriptiveText = element.uuid;\n\t\titem.command = 'tabs-sidebar.openTabGroup';\n\n\t\tif (element.uuid === '__DEFAULT_GROUP__') {\n\t\t\titem.image = 'desktop-computer';\n\t\t\titem.contextValue = 'currentTabs';\n\t\t} else {\n\t\t\titem.image = 'tab-group';\n\t\t\titem.contextValue = 'tabGroup';\n\t\t}\n\n\t\treturn item;\n\t}\n}\n\nexport { TabGroupItem, TabGroupsDataProvider };\n","import { SyntaxNames, SyntaxImages, TabItem, GroupItem, FolderItem, TabDataProvider } from './TabDataProvider';\nimport { TabGroupItem, TabGroupsDataProvider } from './TabGroupsDataProvider';\n\nlet app: App;\n\nclass App {\n\ttreeView: TreeView<TabItem | GroupItem | FolderItem | null>;\n\ttabDataProvider: TabDataProvider;\n\tgroupsTreeView: TreeView<TabGroupItem | null>\n\ttabGroupsDataProvider: TabGroupsDataProvider;\n\tfileWatcher: FileSystemWatcher | undefined;\n\tfocusedTab: TabItem | undefined;\n\topenTabWhenFocusSidebar: boolean;\n\tgitPath: string;\n\n\topenOnSingleClick: boolean | null;\n\tshowGitStatus: string | null;\n\talwaysShowParentFolder: boolean | null;\n\tshowParentPathInReverse: boolean | null;\n\tshowGroupCount: boolean | null;\n\tunsavedSymbol: string | null;\n\tunsavedSymbolLocation: string | null;\n\tgroupBy: string | null;\n\n\tcollapseTimeoutID: NodeJS.Timeout;\n\n\tsyntaxNames: SyntaxNames;\n\tsyntaxImages: SyntaxImages;\n\n\tconstructor() {\n\t\tthis.openTabWhenFocusSidebar = true;\n\t\tthis.gitPath = '/usr/bin/git';\n\n\t\tthis.openOnSingleClick = nova.config.get('eablokker.tabs-sidebar.open-on-single-click', 'boolean');\n\t\tthis.showGitStatus = nova.config.get('eablokker.tabs-sidebar.show-git-status', 'string');\n\t\tthis.alwaysShowParentFolder = nova.config.get('eablokker.tabs-sidebar.always-show-parent-folder', 'boolean');\n\t\tthis.showParentPathInReverse = nova.config.get('eablokker.tabs-sidebar.show-parent-path-reverse', 'boolean');\n\t\tthis.showGroupCount = nova.config.get('eablokker.tabs-sidebar.show-group-count', 'boolean');\n\t\tthis.unsavedSymbol = nova.config.get('eablokker.tabs-sidebar.unsaved-symbol', 'string');\n\t\tthis.unsavedSymbolLocation = nova.config.get('eablokker.tabs-sidebar.unsaved-symbol-location', 'string');\n\t\tthis.groupBy = nova.workspace.config.get('eablokker.tabsSidebar.config.groupBy', 'string');\n\n\t\tthis.collapseTimeoutID = setTimeout(() => {\n\t\t\t//\n\t\t});\n\n\t\tthis.syntaxNames = {\n\t\t\t'plaintext': nova.localize('Plain Text'),\n\t\t\t'coffeescript': 'CoffeeScript',\n\t\t\t'cpp': 'C++',\n\t\t\t'css': 'CSS',\n\t\t\t'diff': 'Diff',\n\t\t\t'erb': 'ERB',\n\t\t\t'haml': 'Haml',\n\t\t\t'html': 'HTML',\n\t\t\t'html+ejs': 'HTML + EJS',\n\t\t\t'html+erb': 'HTML + ERB',\n\t\t\t'ini': 'INI',\n\t\t\t'javascript': 'JavaScript',\n\t\t\t'json': 'JSON',\n\t\t\t'jsx': 'JSX',\n\t\t\t'less': 'Less',\n\t\t\t'lua': 'Lua',\n\t\t\t'markdown': 'Markdown',\n\t\t\t'objc': 'Objective-C',\n\t\t\t'objcpp': 'Objective-C++',\n\t\t\t'perl': 'Perl',\n\t\t\t'php': 'PHP-HTML',\n\t\t\t'python': 'Python',\n\t\t\t'ruby': 'Ruby',\n\t\t\t'sass': 'Sass',\n\t\t\t'scss': 'SCSS',\n\t\t\t'shell': 'Shell Script',\n\t\t\t'smarty': 'Smarty',\n\t\t\t'sql': 'SQL',\n\t\t\t'tsq': 'Tree Sitter Query',\n\t\t\t'tsx': 'TSX',\n\t\t\t'twig': 'Twig-HTML',\n\t\t\t'twig-markdown': 'Twig-Markdown',\n\t\t\t'typescript': 'TypeScript',\n\t\t\t'vue': 'Vue',\n\t\t\t'xml': 'XML',\n\t\t\t'yaml': 'YAML'\n\t\t};\n\n\t\tthis.syntaxImages = {\n\t\t\t'plaintext': '__filetype.blank',\n\t\t\t'c': '__filetype.c',\n\t\t\t'cpp': '__filetype.cc',\n\t\t\t'css': '__filetype.css',\n\t\t\t'diff': '__filetype.diff',\n\t\t\t'html': '__filetype.html',\n\t\t\t'html+ejs': '__filetype.ejs',\n\t\t\t'html+erb': '__filetype.erb',\n\t\t\t'ini': '__filetype.ini',\n\t\t\t'javascript': '__filetype.js',\n\t\t\t'json': '__filetype.json',\n\t\t\t'less': '__filetype.less',\n\t\t\t'lua': '__filetype.lua',\n\t\t\t'markdown': '__filetype.md',\n\t\t\t'objc': '__filetype.m',\n\t\t\t'objcpp': '__filetype.mm',\n\t\t\t'perl': '__filetype.pl',\n\t\t\t'php': '__filetype.php',\n\t\t\t'python': '__filetype.py',\n\t\t\t'ruby': '__filetype.rb',\n\t\t\t'sass': '__filetype.sass',\n\t\t\t'scss': '__filetype.scss',\n\t\t\t'shell': '__filetype.sh',\n\t\t\t'sql': '__filetype.sql',\n\t\t\t'swift': '__filetype.swift',\n\t\t\t'tsx': '__filetype.tsx',\n\t\t\t'typescript': '__filetype.ts',\n\t\t\t'typescript-cts': '__filetype.ts',\n\t\t\t'typescript-mts': '__filetype.ts',\n\t\t\t'xml': '__filetype.xml',\n\t\t\t'yaml': '__filetype.yml'\n\t\t};\n\n\t\tthis.tabDataProvider = new TabDataProvider(this);\n\t\tthis.treeView = new TreeView('tabs-sidebar', { dataProvider: this.tabDataProvider });\n\n\t\tthis.tabGroupsDataProvider = new TabGroupsDataProvider();\n\t\tthis.groupsTreeView = new TreeView('tabs-sidebar-groups', {\n\t\t\tdataProvider: this.tabGroupsDataProvider\n\t\t});\n\n\t\tthis.init();\n\t\tthis.initConfig();\n\t\tthis.initEditorEvents();\n\t\tthis.registerCommands();\n\t\tthis.initFileWatcher();\n\t}\n\n\tinit() {\n\t\t// Make shell scripts executable on activation\n\t\tconst shellScriptPaths = [\n\t\t\t'/click_menu_item.sh',\n\t\t\t'/click_project_item_by_name.sh',\n\t\t\t'/list_menu_items.sh'\n\t\t];\n\n\t\tshellScriptPaths.forEach(path => {\n\t\t\tconst scriptExists = nova.fs.access(__dirname + path, nova.fs.constants.F_OK);\n\n\t\t\tif (!scriptExists) {\n\t\t\t\tconsole.error('Shell script not found', __dirname + path);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst scriptIsExecutable = nova.fs.access(__dirname + path, nova.fs.constants.X_OK);\n\n\t\t\tif (scriptExists && !scriptIsExecutable) {\n\t\t\t\tthis.tabDataProvider\n\t\t\t\t\t.runProcess('/bin/chmod', ['744', __dirname + path])\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tif (nova.inDevMode()) console.log('Shell script ' + path + ' changed to 744');\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\t// TreeView implements the Disposable interface\n\t\tnova.subscriptions.add(this.treeView);\n\t\tnova.subscriptions.add(this.groupsTreeView);\n\n\t\t// Init Context\n\t\tconst tabGroups = nova.workspace.config.get('eablokker.tabsSidebar.config.tabGroups', 'array');\n\t\tif (tabGroups && tabGroups.length > 0) {\n\t\t\t// @ts-ignore\n\t\t\tnova.workspace.context.set('eablokker.tabsSidebar.context.hasTabGroups', true);\n\t\t} else {\n\t\t\t// @ts-ignore\n\t\t\tnova.workspace.context.remove('eablokker.tabsSidebar.context.hasTabGroups');\n\t\t}\n\t}\n\n\tdeactivate() {\n\t\tthis.fileWatcher?.dispose();\n\t}\n\n\tinitConfig() {\n\t\t// Watch for config changes\n\t\tnova.config.onDidChange('eablokker.tabs-sidebar.open-on-single-click', (newVal: boolean, oldVal: boolean) => {\n\t\t\tthis.openOnSingleClick = newVal;\n\t\t});\n\n\t\tnova.config.onDidChange('eablokker.tabs-sidebar.show-git-status', (newVal: string, oldVal: string) => {\n\t\t\tthis.showGitStatus = newVal;\n\n\t\t\tif (newVal === 'never') {\n\t\t\t\tthis.fileWatcher?.dispose();\n\t\t\t} else if (oldVal === 'never' && newVal !== 'never') {\n\t\t\t\tthis.initFileWatcher();\n\t\t\t}\n\n\t\t\tthis.treeView.reload()\n\t\t\t\t.then(() => {\n\t\t\t\t\t\tconst activeEditor = this.tabDataProvider.getElementByUri(nova.workspace.activeTextEditor?.document.uri || '');\n\t\t\t\t\t\tthis.highlightTab(activeEditor || null);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tconsole.error('Could not reload treeView.', err);\n\t\t\t\t});\n\t\t});\n\n\t\tnova.config.onDidChange('eablokker.tabs-sidebar.always-show-parent-folder', (newVal: boolean, oldVal: boolean) => {\n\t\t\tthis.alwaysShowParentFolder = newVal;\n\n\t\t\tthis.treeView.reload()\n\t\t\t\t.then(() => {\n\t\t\t\t\tconst activeEditor = this.tabDataProvider.getElementByUri(nova.workspace.activeTextEditor?.document.uri || '');\n\t\t\t\t\tthis.highlightTab(activeEditor || null);\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.error('Could not reload treeView.', err);\n\t\t\t\t});\n\t\t});\n\n\t\tnova.config.onDidChange('eablokker.tabs-sidebar.show-parent-path-reverse', (newVal: boolean, oldVal: boolean) => {\n\t\t\tthis.showParentPathInReverse = newVal;\n\n\t\t\tthis.treeView.reload()\n\t\t\t\t.then(() => {\n\t\t\t\t\tconst activeEditor = this.tabDataProvider.getElementByUri(nova.workspace.activeTextEditor?.document.uri || '');\n\t\t\t\t\tthis.highlightTab(activeEditor || null);\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.error('Could not reload treeView.', err);\n\t\t\t\t});\n\t\t});\n\n\t\tnova.config.onDidChange('eablokker.tabs-sidebar.show-group-count', (newVal: boolean, oldVal: boolean) => {\n\t\t\tthis.showGroupCount = newVal;\n\n\t\t\tthis.tabDataProvider.sortItems();\n\t\t\tthis.treeView.reload()\n\t\t\t\t.then(() => {\n\t\t\t\t\tconst activeEditor = this.tabDataProvider.getElementByUri(nova.workspace.activeTextEditor?.document.uri || '');\n\t\t\t\t\tthis.highlightTab(activeEditor || null);\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.error('Could not reload treeView.', err);\n\t\t\t\t});\n\t\t});\n\n\t\tnova.config.onDidChange('eablokker.tabs-sidebar.unsaved-symbol', (newVal: string, oldVal: string) => {\n\t\t\tthis.unsavedSymbol = newVal;\n\n\t\t\tthis.treeView.reload()\n\t\t\t\t.then(() => {\n\t\t\t\t\tconst activeEditor = this.tabDataProvider.getElementByUri(nova.workspace.activeTextEditor?.document.uri || '');\n\t\t\t\t\tthis.highlightTab(activeEditor || null);\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.error('Could not reload treeView.', err);\n\t\t\t\t});\n\t\t});\n\n\t\tnova.config.onDidChange('eablokker.tabs-sidebar.unsaved-symbol-location', (newVal: string, oldVal: string) => {\n\t\t\tthis.unsavedSymbolLocation = newVal;\n\n\t\t\tthis.treeView.reload()\n\t\t\t\t.then(() => {\n\t\t\t\t\tconst activeEditor = this.tabDataProvider.getElementByUri(nova.workspace.activeTextEditor?.document.uri || '');\n\t\t\t\t\tthis.highlightTab(activeEditor || null);\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.error('Could not reload treeView.', err);\n\t\t\t\t});\n\t\t});\n\n\t\tnova.workspace.config.onDidChange('eablokker.tabsSidebar.config.sortAlpha', (newVal: boolean, oldVal: boolean) => {\n\t\t\tthis.tabDataProvider.sortAlpha = newVal;\n\t\t\tthis.treeView.reload()\n\t\t\t\t.then(() => {\n\t\t\t\t\tconst activeEditor = this.tabDataProvider.getElementByUri(nova.workspace.activeTextEditor?.document.uri || '');\n\t\t\t\t\tthis.highlightTab(activeEditor || null);\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.error('Could not reload treeView.', err);\n\t\t\t\t});\n\t\t});\n\n\t\tnova.workspace.config.onDidChange('eablokker.tabsSidebar.config.groupBy', (newVal: string, oldVal: string) => {\n\t\t\tthis.groupBy = newVal;\n\n\t\t\tthis.tabDataProvider.groupBy = newVal;\n\t\t\tthis.treeView.reload()\n\t\t\t\t.then(() => {\n\t\t\t\t\tconst activeEditor = this.tabDataProvider.getElementByUri(nova.workspace.activeTextEditor?.document.uri || '');\n\t\t\t\t\tthis.highlightTab(activeEditor || null);\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.error('Could not reload treeView.', err);\n\t\t\t\t});\n\t\t});\n\n\t\t/*nova.workspace.config.onDidChange('eablokker.tabsSidebar.config.customTabOrder', (newVal: string[], oldVal: string[]) => {\n\t\t\tconsole.log('customTabOrder changed', newVal);\n\n\t\t\tthis.tabDataProvider.customOrder = newVal;\n\t\t\tthis.tabDataProvider.sortItems();\n\t\t\tthis.treeView.reload()\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.highlightTab(this.focusedTab || null, { focus: true });\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.error(err);\n\t\t\t\t});\n\t\t});*/\n\n\t\tnova.workspace.config.onDidChange('eablokker.tabsSidebar.config.tabGroups', (newVal: string[], oldVal: string[]) => {\n\t\t\t// Set menu context\n\t\t\tif (newVal.length > 0) {\n\t\t\t\t// @ts-ignore\n\t\t\t\tnova.workspace.context.set('eablokker.tabsSidebar.context.hasTabGroups', true);\n\t\t\t} else {\n\t\t\t\t// @ts-ignore\n\t\t\t\tnova.workspace.context.remove('eablokker.tabsSidebar.context.hasTabGroups');\n\t\t\t}\n\t\t});\n\t}\n\n\tinitEditorEvents() {\n\t\t// Prevent excessive reloading\n\t\tlet reloadTimeoutID = setTimeout(() => {\n\t\t\t//\n\t\t});\n\n\t\tnova.workspace.onDidAddTextEditor(editor => {\n\t\t\t//console.log('Document opened');\n\n\t\t\tclearTimeout(reloadTimeoutID);\n\t\t\treloadTimeoutID = setTimeout(() => {\n\t\t\t\tlet reload;\n\t\t\t\tconst folder = this.tabDataProvider.getFolderBySyntax(editor.document.syntax || 'plaintext');\n\n\t\t\t\tthis.tabDataProvider.loadData(nova.workspace.textDocuments, this.focusedTab);\n\t\t\t\tthis.tabGroupsDataProvider.updateCurrentTabsCount();\n\t\t\t\tthis.groupsTreeView.reload();\n\n\t\t\t\tif (folder && this.groupBy === 'type') {\n\t\t\t\t\treload = this.treeView.reload(folder);\n\t\t\t\t} else {\n\t\t\t\t\treload = this.treeView.reload();\n\t\t\t\t}\n\n\t\t\t\treload\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t// Focus tab in sidebar\n\t\t\t\t\t\tthis.focusedTab = this.tabDataProvider.getElementByUri(editor.document.uri);\n\n\t\t\t\t\t\tif (editor.document.uri === nova.workspace.activeTextEditor?.document.uri) {\n\t\t\t\t\t\t\tthis.highlightTab(this.focusedTab || null, { focus: true });\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tconsole.error('Could not reload treeView.', err);\n\t\t\t\t\t});\n\t\t\t}, 100);\n\n\t\t\t// Remove tab from sidebar when editor closed\n\t\t\teditor.onDidDestroy(destroyedEditor => {\n\t\t\t\tif (nova.inDevMode()) console.log('Document closed');\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tlet reload;\n\t\t\t\t\tconst folder = this.tabDataProvider.getFolderBySyntax(destroyedEditor.document.syntax || 'plaintext');\n\n\t\t\t\t\tif (folder && folder.children.length > 1 && this.groupBy === 'type') {\n\t\t\t\t\t\treload = this.treeView.reload(folder);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treload = this.treeView.reload();\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.tabDataProvider.loadData(nova.workspace.textDocuments);\n\t\t\t\t\tthis.tabGroupsDataProvider.updateCurrentTabsCount();\n\t\t\t\t\tthis.groupsTreeView.reload();\n\n\t\t\t\t\treload\n\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\tconst document = nova.workspace.activeTextEditor ? nova.workspace.activeTextEditor.document : null;\n\n\t\t\t\t\t\t\tif (document) {\n\t\t\t\t\t\t\t\tthis.focusedTab = this.tabDataProvider.getElementByUri(document.uri);\n\t\t\t\t\t\t\t\tthis.highlightTab(this.focusedTab || null, { focus: true });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\tconsole.error('Could not reload treeView.', err);\n\t\t\t\t\t\t});\n\t\t\t\t}, 100);\n\t\t\t});\n\n\t\t\t// Focus tab in sidebar when clicking in document\n\t\t\t/*editor.onDidChangeSelection(changedEditor => {\n\t\t\t\t// if (nova.inDevMode()) console.log('editor.onDidChangeSelection');\n\n\t\t\t\tconst selection = this.treeView.selection[0];\n\t\t\t\tconst document = changedEditor.document;\n\n\t\t\t\t// Don't reveal in treeview if it's already selected\n\t\t\t\tif (selection?.uri === document.uri) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Only highlight tab if it's the same as the current active tab\n\t\t\t\tif (document.uri === nova.workspace.activeTextEditor?.document.uri) {\n\t\t\t\t\tthis.focusedTab = this.tabDataProvider.getElementByUri(changedEditor.document.uri);\n\t\t\t\t\tthis.highlightTab(this.focusedTab || null, { focus: true, reveal: 3 });\n\t\t\t\t}\n\t\t\t});*/\n\n\t\t\teditor.onDidStopChanging(changedEditor => {\n\t\t\t\tif (nova.inDevMode()) console.log('Document did stop changing');\n\n\t\t\t\tif (changedEditor.document.isUntitled) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst element = this.tabDataProvider.getElementByUri(changedEditor.document.uri);\n\t\t\t\tthis.focusedTab = element;\n\n\t\t\t\tif (element) {\n\t\t\t\t\telement.isDirty = changedEditor.document.isDirty;\n\t\t\t\t}\n\n\t\t\t\tthis.treeView.reload(this.focusedTab)\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tthis.highlightTab(this.focusedTab || null, { focus: true });\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tconsole.error('Could not reload treeView.', err);\n\t\t\t\t\t});\n\t\t\t});\n\n\t\t\t// Focus tab in sidebar when saving document\n\t\t\teditor.onDidSave(savedEditor => {\n\t\t\t\tif (nova.inDevMode()) console.log('Document did save');\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tconst element = this.tabDataProvider.getElementByUri(savedEditor.document.uri);\n\t\t\t\t\tthis.focusedTab = element;\n\n\t\t\t\t\tif (element) {\n\t\t\t\t\t\telement.isDirty = editor.document.isDirty;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Refresh tab data\n\t\t\t\t\tthis.tabDataProvider.loadData(nova.workspace.textDocuments, element);\n\n\t\t\t\t\tthis.treeView.reload(this.focusedTab)\n\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\tthis.highlightTab(this.focusedTab || null, { focus: true });\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\tconsole.error('Could not reload treeView.', err);\n\t\t\t\t\t\t});\n\t\t\t\t}, 100);\n\t\t\t});\n\n\t\t\tconst document = editor.document;\n\t\t\tdocument.onDidChangePath((changedDocument, path) => {\n\t\t\t\tif (nova.inDevMode()) console.log('editor.document.onDidChangePath', changedDocument.uri, path);\n\t\t\t});\n\n\t\t\tdocument.onDidChangeSyntax((changedDocument, newSyntax) => {\n\t\t\t\tif (nova.inDevMode()) console.log('editor.document.onDidChangeSyntax', changedDocument.uri, newSyntax);\n\n\t\t\t\tconst element = this.tabDataProvider.getElementByUri(document.uri);\n\n\t\t\t\tif (!element) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\telement.syntax = newSyntax || 'plaintext';\n\n\t\t\t\tthis.tabDataProvider.loadData(nova.workspace.textDocuments, this.focusedTab || undefined);\n\t\t\t\tthis.treeView.reload()\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tthis.highlightTab(this.focusedTab || null, { focus: true });\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tconsole.error('Could not reload treeView.', err);\n\t\t\t\t\t});\n\t\t\t});\n\t\t});\n\n\t\tthis.treeView.onDidChangeSelection((selection) => {\n\t\t\tif (nova.inDevMode()) console.log('treeView.onDidChangeSelection');\n\t\t\t//console.log('New selection: ' + selection.map((e) => e.name));\n\n\t\t\tif (!selection[0]) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Prevent tab opening when editor selection changes\n\t\t\tif (this.openTabWhenFocusSidebar === false) {\n\t\t\t\tthis.openTabWhenFocusSidebar = true;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst activeDocument = nova.workspace.activeTextEditor ? nova.workspace.activeTextEditor.document : null;\n\n\t\t\tif (this.openOnSingleClick && (!activeDocument || activeDocument.uri !== selection[0].uri)) {\n\t\t\t\tnova.commands.invoke('tabs-sidebar.open');\n\t\t\t}\n\t\t});\n\n\t\tthis.treeView.onDidCollapseElement(element => {\n\n\t\t\tclearTimeout(this.collapseTimeoutID);\n\t\t\tthis.collapseTimeoutID = setTimeout(() => {\n\t\t\t\t// console.log('Collapsed: ' + element?.name, element?.collapsibleState);\n\n\t\t\t\t// Handle Folder Items\n\t\t\t\tif (element instanceof FolderItem && element.uri) {\n\t\t\t\t\tthis.tabDataProvider.collapsedFolders.push(element.uri);\n\t\t\t\t\tnova.workspace.config.set('eablokker.tabsSidebar.config.collapsedFolders', this.tabDataProvider.collapsedFolders);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}, 1);\n\n\t\t\t// Handle kind groups\n\t\t\tif (element?.syntax) {\n\t\t\t\tthis.tabDataProvider.collapsedKindGroups.push(element.syntax);\n\t\t\t\tnova.workspace.config.set('eablokker.tabsSidebar.config.collapsedKindGroups', this.tabDataProvider.collapsedKindGroups);\n\t\t\t}\n\t\t});\n\n\t\tthis.treeView.onDidExpandElement(element => {\n\t\t\t// console.log('Expanded: ' + element?.name, element?.collapsibleState);\n\n\t\t\t// Handle Folder Items\n\t\t\tif (element instanceof FolderItem && element.uri) {\n\t\t\t\tconst index = this.tabDataProvider.collapsedFolders.indexOf(element.uri);\n\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthis.tabDataProvider.collapsedFolders.splice(index, 1);\n\t\t\t\t\tnova.workspace.config.set('eablokker.tabsSidebar.config.collapsedFolders', this.tabDataProvider.collapsedFolders);\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (element?.syntax) {\n\t\t\t\tconst index = this.tabDataProvider.collapsedKindGroups.indexOf(element.syntax);\n\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthis.tabDataProvider.collapsedKindGroups.splice(index, 1);\n\t\t\t\t\tnova.workspace.config.set('eablokker.tabsSidebar.config.collapsedKindGroups', this.tabDataProvider.collapsedKindGroups);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.treeView.onDidChangeVisibility(() => {\n\t\t\tif (nova.inDevMode()) console.log('Visibility Changed');\n\t\t});\n\t}\n\n\tregisterCommands() {\n\t\tnova.commands.register('tabs-sidebar.close', (workspace: Workspace) => {\n\t\t\t// console.log('Close Tab clicked');\n\n\t\t\tconst selection = this.treeView.selection;\n\n\t\t\tif (!selection[0]) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Don't do anything with folders\n\t\t\tif (selection[0] instanceof GroupItem || selection[0] instanceof FolderItem) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet activeDocument = workspace.activeTextEditor ? workspace.activeTextEditor.document : null;\n\t\t\tconst activeDocumentIsRemote = activeDocument ? activeDocument.isRemote : false;\n\t\t\tconst selectionIsRemote = selection[0].isRemote;\n\n\t\t\t// Close currently active tab\n\t\t\tif (activeDocument && selection[0].uri === activeDocument.uri) {\n\t\t\t\tthis.tabDataProvider\n\t\t\t\t\t.runProcess(__dirname + '/click_menu_item.sh', [nova.localize('File'), nova.localize('Close Tab')])\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tactiveDocument = workspace.activeTextEditor ? workspace.activeTextEditor.document : null;\n\n\t\t\t\t\t\tif (activeDocument) {\n\t\t\t\t\t\t\tthis.focusedTab = this.tabDataProvider.getElementByUri(activeDocument.uri);\n\t\t\t\t\t\t\tthis.highlightTab(this.focusedTab || null, { focus: true });\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tconsole.error('Could not click menu item.', err);\n\n\t\t\t\t\t\tconst title = nova.localize('Failed to Close Tab');\n\t\t\t\t\t\tthis.showPermissionsNotification(title);\n\t\t\t\t\t});\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!selectionIsRemote) {\n\t\t\t\t// Close non currently active tab by switching to it and back\n\t\t\t\tworkspace.openFile(selection[0].uri)\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tthis.tabDataProvider\n\t\t\t\t\t\t\t.runProcess(__dirname + '/click_menu_item.sh', [nova.localize('File'), nova.localize('Close Tab')])\n\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\tif (!activeDocument) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Switch back to local tab after closing other local tab\n\t\t\t\t\t\t\t\tif (!activeDocumentIsRemote) {\n\t\t\t\t\t\t\t\t\tworkspace.openFile(activeDocument.uri)\n\t\t\t\t\t\t\t\t\t\t.then(value => {\n\t\t\t\t\t\t\t\t\t\t\tif (value) {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.focusedTab = this.tabDataProvider.getElementByUri(value.document.uri);\n\t\t\t\t\t\t\t\t\t\t\t\tthis.highlightTab(this.focusedTab || null, { focus: true });\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t.catch((err: string) => {\n\t\t\t\t\t\t\t\t\t\t\tconsole.error('Could not open file.', err);\n\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Switch back to remote tab after closing other local tab\n\t\t\t\t\t\t\t\tthis.openRemoteTab(activeDocument.uri)\n\t\t\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\t\t\tif (activeDocument) {\n\t\t\t\t\t\t\t\t\t\t\tthis.focusedTab = this.tabDataProvider.getElementByUri(activeDocument.uri);\n\t\t\t\t\t\t\t\t\t\t\tthis.highlightTab(this.focusedTab || null, { focus: true });\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\t\t\t\tconsole.error('Could not open remote tab.', err);\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\t\tconsole.error('Could not click menu item.', err);\n\n\t\t\t\t\t\t\t\tconst title = nova.localize('Failed to Close Tab');\n\t\t\t\t\t\t\t\tthis.showPermissionsNotification(title);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err: string) => {\n\t\t\t\t\t\tconsole.error('Could not open file.', err);\n\t\t\t\t\t});\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.openRemoteTab(selection[0].uri)\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.tabDataProvider\n\t\t\t\t\t\t.runProcess(__dirname + '/click_menu_item.sh', [nova.localize('File'), nova.localize('Close Tab')])\n\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\tif (!activeDocument) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Switch back to local tab after closing other remote tab\n\t\t\t\t\t\t\tif (!activeDocumentIsRemote) {\n\t\t\t\t\t\t\t\tworkspace.openFile(activeDocument.uri)\n\t\t\t\t\t\t\t\t\t.then(value => {\n\t\t\t\t\t\t\t\t\t\tif (value) {\n\t\t\t\t\t\t\t\t\t\t\tthis.focusedTab = this.tabDataProvider.getElementByUri(value.document.uri);\n\t\t\t\t\t\t\t\t\t\t\tthis.highlightTab(this.focusedTab || null, { focus: true });\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.catch((err: string) => {\n\t\t\t\t\t\t\t\t\t\tconsole.error('Could not open file.', err);\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Switch back to remote tab after closing other remote tab\n\t\t\t\t\t\t\tthis.openRemoteTab(activeDocument.uri)\n\t\t\t\t\t\t\t\t.then(editor => {\n\n\t\t\t\t\t\t\t\t\tif (editor) {\n\t\t\t\t\t\t\t\t\t\tthis.focusedTab = this.tabDataProvider.getElementByUri(editor.document.uri);\n\t\t\t\t\t\t\t\t\t\tthis.highlightTab(this.focusedTab || null, { focus: true });\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\t\t\tconsole.error('Could not open remote tab.', err);\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\tconsole.error('Could not click menu item.', err);\n\n\t\t\t\t\t\t\tconst title = nova.localize('Failed to Close Tab');\n\t\t\t\t\t\t\tthis.showPermissionsNotification(title);\n\t\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.error('Could not open remote tab.', err);\n\t\t\t\t});\n\t\t});\n\n\t\tnova.commands.register('tabs-sidebar.open', (workspace: Workspace) => {\n\t\t\tconst selection = this.treeView.selection;\n\t\t\t// console.log('Selection: ' + selection[0].name);\n\n\t\t\tif (!selection[0]) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Don't do anything with folders\n\t\t\tif (selection[0] instanceof GroupItem || selection[0] instanceof FolderItem) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst isRemote = selection[0].isRemote;\n\n\t\t\t// Switch to tab for local file\n\t\t\tif (!isRemote) {\n\t\t\t\tworkspace.openFile(selection[0].uri)\n\t\t\t\t\t.then(value => {\n\t\t\t\t\t\tif (value) {\n\t\t\t\t\t\t\tthis.focusedTab = this.tabDataProvider.getElementByUri(value.document.uri);\n\t\t\t\t\t\t\tthis.highlightTab(this.focusedTab || null, { focus: true });\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err: string) => {\n\t\t\t\t\t\tconsole.error('Could not open file.', err);\n\t\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Switch to tab for remote file\n\t\t\tthis.openRemoteTab(selection[0].uri)\n\t\t\t\t.then(editor => {\n\t\t\t\t\tif (editor) {\n\t\t\t\t\t\tthis.focusedTab = this.tabDataProvider.getElementByUri(editor.document.uri);\n\t\t\t\t\t\tthis.highlightTab(this.focusedTab || null, { focus: true });\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.error('Could not open remote tab.', err);\n\t\t\t\t});\n\t\t});\n\n\t\tnova.commands.register('tabs-sidebar.doubleClick', () => {\n\t\t\t// Invoked when an item is double-clicked\n\t\t\tnova.commands.invoke('tabs-sidebar.open');\n\t\t});\n\n\t\tnova.commands.register('tabs-sidebar.up', () => {\n\t\t\t// Invoked when the 'Move Up' header button is clicked\n\t\t\tconst selection = this.treeView.selection;\n\n\t\t\tif (!selection[0]) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Don't do anything with folders\n\t\t\tif (selection[0] instanceof FolderItem) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Move kind group up\n\t\t\tif (selection[0] instanceof GroupItem) {\n\t\t\t\tthis.tabDataProvider.moveKindGroup(selection[0], -1);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// console.log(JSON.stringify(selection[0]));\n\t\t\t// console.log('Move Up: ' + selection.map((e) => e.name));\n\n\t\t\tthis.tabDataProvider.moveTab(selection[0], -1);\n\t\t});\n\n\t\tnova.commands.register('tabs-sidebar.down', () => {\n\t\t\t// Invoked when the 'Move Down' header button is clicked\n\t\t\tconst selection = this.treeView.selection;\n\n\t\t\tif (!selection[0]) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Don't do anything with folders\n\t\t\tif (selection[0] instanceof FolderItem) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Move kind group down\n\t\t\tif (selection[0] instanceof GroupItem) {\n\t\t\t\tthis.tabDataProvider.moveKindGroup(selection[0], 1);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// console.log(JSON.stringify(selection[0]));\n\t\t\t// console.log('Move Down: ' + selection.map((e) => e.name));\n\n\t\t\tthis.tabDataProvider.moveTab(selection[0], 1);\n\t\t});\n\n\t\tnova.commands.register('tabs-sidebar.cleanUpByTabBarOrder', (workspace: Workspace) => {\n\t\t\t//console.log('Clean up by tab bar order clicked');\n\n\t\t\tthis.tabDataProvider.runProcess(__dirname + '/list_menu_items.sh', [nova.localize('Window')])\n\t\t\t\t.then(result => {\n\t\t\t\t\t//console.log(result);\n\n\t\t\t\t\tthis.tabDataProvider.cleanUpByTabBarOrder(result);\n\n\t\t\t\t\tthis.focusedTab = workspace.activeTextEditor ? this.tabDataProvider.getElementByUri(workspace.activeTextEditor.document.uri) : undefined;\n\t\t\t\t\tthis.treeView.reload()\n\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\tthis.highlightTab(this.focusedTab || null, { focus: true });\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\tconsole.error('Could not reload treeView.', err);\n\t\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.error(err);\n\n\t\t\t\t\tconst title = nova.localize('Failed to Clean Up By Tab Bar Order');\n\t\t\t\t\tthis.showPermissionsNotification(title);\n\t\t\t\t});\n\t\t});\n\n\t\tnova.commands.register('tabs-sidebar.cleanUpByAlpha', () => {\n\t\t\tif (nova.inDevMode()) console.log('cleanUpByAlpha');\n\n\t\t\tthis.tabDataProvider.cleanUpByAlpha();\n\t\t\tthis.treeView.reload()\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.highlightTab(this.focusedTab || null, { focus: true });\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.error('Could not reload treeView.', err);\n\t\t\t\t});\n\t\t});\n\n\t\tnova.commands.register('tabs-sidebar.cleanUpByType', () => {\n\t\t\tif (nova.inDevMode()) console.log('cleanUpByType');\n\n\t\t\tthis.tabDataProvider.cleanUpByType();\n\t\t\tthis.treeView.reload()\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.highlightTab(this.focusedTab || null, { focus: true });\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.error('Could not reload treeView.', err);\n\t\t\t\t});\n\t\t});\n\n\t\tnova.commands.register('tabs-sidebar.sortByAlpha', (workspace: Workspace) => {\n\t\t\tif (nova.inDevMode()) console.log('Sort alphabetically');\n\n\t\t\tworkspace.config.set('eablokker.tabsSidebar.config.sortAlpha', !this.tabDataProvider.sortAlpha);\n\t\t});\n\n\t\tnova.commands.register('tabs-sidebar.groupByNone', (workspace: Workspace) => {\n\t\t\tif (nova.inDevMode()) console.log('groupByNone');\n\n\t\t\tworkspace.config.set('eablokker.tabsSidebar.config.groupBy', 'none');\n\t\t});\n\n\t\tnova.commands.register('tabs-sidebar.groupByType', (workspace: Workspace) => {\n\t\t\tif (nova.inDevMode()) console.log('groupByType');\n\n\t\t\tif (this.groupBy !== 'type') {\n\t\t\t\tworkspace.config.set('eablokker.tabsSidebar.config.groupBy', 'type');\n\t\t\t} else {\n\t\t\t\tworkspace.config.set('eablokker.tabsSidebar.config.groupBy', 'none');\n\t\t\t}\n\t\t});\n\n\t\tnova.commands.register('tabs-sidebar.groupByFolder', (workspace: Workspace) => {\n\t\t\tif (nova.inDevMode()) console.log('groupByFolder');\n\n\t\t\tif (this.groupBy !== 'folder') {\n\t\t\t\tworkspace.config.set('eablokker.tabsSidebar.config.groupBy', 'folder');\n\t\t\t} else {\n\t\t\t\tworkspace.config.set('eablokker.tabsSidebar.config.groupBy', 'none');\n\t\t\t}\n\t\t});\n\n\t\tnova.commands.register('tabs-sidebar.showInFilesSidebar', (workspace: Workspace) => {\n\t\t\tif (nova.inDevMode()) console.log('Show in Files Sidebar');\n\n\t\t\tconst selection = this.treeView.selection;\n\n\t\t\tif (!selection[0]) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Need to open selected tab in order to invoke command\n\t\t\tworkspace.openFile(selection[0].uri)\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.tabDataProvider\n\t\t\t\t\t\t.runProcess(__dirname + '/click_menu_item.sh', [nova.localize('File'), nova.localize('Show in Files Sidebar')])\n\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\tconsole.error('Could not click menu item.', err);\n\n\t\t\t\t\t\t\tconst title = nova.localize('Failed to Show in Files Sidebar');\n\t\t\t\t\t\t\tthis.showPermissionsNotification(title);\n\t\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch((err: string) => {\n\t\t\t\t\tconsole.error('Could not open file.', err);\n\t\t\t\t});\n\t\t});\n\n\t\tnova.commands.register('tabs-sidebar.showInFinder', () => {\n\t\t\tconst selection = this.treeView.selection;\n\n\t\t\tif (!selection[0]) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!selection[0].path) {\n\t\t\t\tif (nova.inDevMode()) console.log('No path found for selection', selection[0].name);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tnova.fs.reveal(selection[0].path);\n\t\t});\n\n\t\tnova.commands.register('tabs-sidebar.copyPath', () => {\n\t\t\tconst selection = this.treeView.selection;\n\n\t\t\tif (!selection[0]) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!selection[0].path) {\n\t\t\t\tif (nova.inDevMode()) console.log('No path found for selection', selection[0].name);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tnova.clipboard.writeText(selection[0].path);\n\t\t});\n\n\t\tnova.commands.register('tabs-sidebar.copyRelativePath', (workspace: Workspace) => {\n\t\t\tconst selection = this.treeView.selection;\n\n\t\t\tif (!selection[0]) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!selection[0].path) {\n\t\t\t\tif (nova.inDevMode()) console.log('No path found for selection', selection[0].name);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (workspace.path) {\n\t\t\t\tif (nova.version[0] >= 8) {\n\t\t\t\t\tnova.clipboard.writeText(nova.path.relative(selection[0].path, workspace.path));\n\t\t\t\t} else {\n\t\t\t\t\tnova.clipboard.writeText(selection[0].path.substring(workspace.path.length));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnova.clipboard.writeText(selection[0].path);\n\t\t\t}\n\t\t});\n\n\t\tnova.commands.register('tabs-sidebar.refresh', (workspace: Workspace) => {\n\t\t\tconst selection = this.treeView.selection;\n\n\t\t\tif (selection[0] instanceof GroupItem || selection[0] instanceof FolderItem) {\n\t\t\t\tthis.tabDataProvider.loadData(workspace.textDocuments);\n\t\t\t} else {\n\t\t\t\tthis.tabDataProvider.loadData(workspace.textDocuments, selection[0] || undefined);\n\t\t\t}\n\n\t\t\tthis.initFileWatcher();\n\n\t\t\tthis.treeView.reload();\n\t\t});\n\n\t\tnova.commands.register('tabs-sidebar.openGlobalConfig', (workspace: Workspace) => {\n\t\t\tnova.openConfig();\n\t\t});\n\n\t\t// nova.commands.register('tabs-sidebar.newTabGroup', (workspace: Workspace) => {\n\t\t// \tworkspace.showInputPanel('New Tab Group', {\n\t\t// \t\tlabel: 'Name',\n\t\t// \t\tplaceholder: 'Tab Group Name',\n\t\t// \t\tprompt: 'OK'\n\t\t// \t}, (value) => {\n\t\t// \t\tconsole.log(value);\n\t\t// \t});\n\t\t// });\n\n\t\tnova.commands.register('tabs-sidebar.newTabGroup', (workspace: Workspace) => {\n\t\t\tconst documentCount =  nova.workspace.textDocuments.length;\n\n\t\t\tnova.workspace.textEditors.forEach((textEditor) => {\n\t\t\t\tconsole.log(textEditor.document.uri);\n\t\t\t});\n\n\t\t\t/*workspace.showChoicePalette([\n\t\t\t\t\t'New Empty Tab Group',\n\t\t\t\t\t'New Tab Group with ' + documentCount + ' Documents'\n\t\t\t\t],\n\t\t\t\t{\n\t\t\t\t\tplaceholder: 'New Tab Group'\n\t\t\t\t},\n\t\t\t\t(choice, index) => {\n\t\t\t\t\tif (!choice) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet message = '';\n\t\t\t\t\tif (index === 0) {\n\t\t\t\t\t\tmessage = 'Enter a name for your new empty tab group.'\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmessage = 'Enter a name for your tab group with ' + documentCount + ' documents. The currently open document tabs will be saved to the new tab group.'\n\t\t\t\t\t}*/\n\n\t\t\t\t\tlet message = 'Enter a name for your tab group. The currently open document tabs will be saved to the new tab group.';\n\n\t\t\t\t\tworkspace.showInputPalette(message, {\n\t\t\t\t\t\tplaceholder: 'Tab Group Name',\n\t\t\t\t\t}, (name) => {\n\t\t\t\t\t\tif (!name) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.tabGroupsDataProvider.addItem(name);\n\t\t\t\t\t\tthis.groupsTreeView.reload();\n\t\t\t\t\t});\n\t\t\t\t/*});*/\n\t\t});\n\n\t\tnova.commands.register('tabs-sidebar.openTabGroupPalette', (workspace: Workspace) => {\n\t\t\tconst tabGroups = workspace.config.get('eablokker.tabsSidebar.config.tabGroups', 'array');\n\t\t\tif (!tabGroups) {\n\t\t\t\tworkspace.showInformativeMessage('There are no tab groups yet.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst tabNames = tabGroups.map((configString) => {\n\t\t\t\tconst matches = configString.match(this.tabGroupsDataProvider.configRegex);\n\t\t\t\tif (!matches || matches.length < 3) {\n\t\t\t\t\treturn 'Untitled';\n\t\t\t\t}\n\n\t\t\t\treturn matches[2];\n\t\t\t});\n\n\t\t\tconst showChoicePalette = () => {\n\t\t\t\t// Add default group as first item in palette\n\t\t\t\ttabNames.splice(0, 0, 'Default Group (' + workspace.textDocuments.length + ' Documents)');\n\n\t\t\t\tworkspace.showChoicePalette(tabNames, { placeholder: 'Open Tab Group' },\n\t\t\t\t\t(name, index) => {\n\t\t\t\t\t\tif (index === null) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (index === 0) {\n\t\t\t\t\t\t\tworkspace.config.set('eablokker.tabsSidebar.config.activeTabGroup', '__DEFAULT_GROUP__');\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst itemToOpen = tabGroups[index - 1];\n\n\t\t\t\t\t\tconst matches = itemToOpen.match(this.tabGroupsDataProvider.configRegex);\n\t\t\t\t\t\tif (!matches || matches.length < 3) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst uuid = matches[1];\n\n\t\t\t\t\t\tif (uuid === '__DEFAULT_GROUPS__') {\n\t\t\t\t\t\t\tworkspace.config.remove('eablokker.tabsSidebar.config.activeTabGroup');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tworkspace.config.set('eablokker.tabsSidebar.config.activeTabGroup', uuid);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Check for remote and unsaved tabs\n\t\t\tconst openTabs = workspace.textDocuments;\n\t\t\tlet remoteTabString = '';\n\t\t\tconst remoteTabs = openTabs.filter((tab) => {\n\t\t\t\tif (tab.isRemote) {\n\t\t\t\t\tif (tab.path) {\n\t\t\t\t\t\tremoteTabString += 'â€¢ ' + nova.path.basename(tab.path) + '\\n';\n\t\t\t\t\t}\n\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\treturn false\n\t\t\t});\n\n\t\t\tlet unsavedTabsString = '';\n\t\t\tconst unsavedTabs = openTabs.filter((tab) => {\n\t\t\t\tif (tab.isDirty || tab.isUntitled) {\n\t\t\t\t\tif (tab.path) {\n\t\t\t\t\t\tunsavedTabsString += 'â€¢ ' + nova.path.basename(tab.path) + '\\n';\n\t\t\t\t\t} else if (tab.isUntitled) {\n\t\t\t\t\t\tunsavedTabsString += 'â€¢ untitled\\n';\n\t\t\t\t\t}\n\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t});\n\n\t\t\tif (unsavedTabs.length > 0) {\n\t\t\t\tworkspace.showWarningMessage(\n`Your workspace has ${unsavedTabs.length} unsaved tab${unsavedTabs.length > 1 ? 's' : ''}.\n\n${unsavedTabsString}\nPlease save ${unsavedTabs.length > 1 ? 'them' : 'it'} before opening another tab group.`\n\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (remoteTabs.length > 0) {\n\t\t\t\tworkspace.showActionPanel(\n`Your workspace has ${remoteTabs.length} remote tab${remoteTabs.length > 1 ? 's' : ''}.\n\n${remoteTabString}\nRemote tabs in the current split pane will be closed and cannot be saved to a tab group.\n\nTo preserve them between switches, you can move them to another split pane.`,\n\t\t\t\t\t{\n\t\t\t\t\t\tbuttons: ['Continue', 'Don\\'t Show Again', 'Cancel']\n\t\t\t\t\t},\n\t\t\t\t\t(index) => {\n\t\t\t\t\t\tif (index === 2) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tshowChoicePalette();\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tshowChoicePalette();\n\t\t\t}\n\t\t});\n\n\t\tnova.commands.register('tabs-sidebar.deleteTabGroupPalette', (workspace: Workspace) => {\n\t\t\tconst tabGroups = workspace.config.get('eablokker.tabsSidebar.config.tabGroups', 'array');\n\t\t\tif (!tabGroups) {\n\t\t\t\tworkspace.showInformativeMessage('There are no tab groups yet.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst tabNames = tabGroups.map((configString) => {\n\t\t\t\tconst matches = configString.match(this.tabGroupsDataProvider.configRegex);\n\t\t\t\tif (!matches || matches.length < 3) {\n\t\t\t\t\treturn 'Untitled';\n\t\t\t\t}\n\n\t\t\t\treturn matches[2];\n\t\t\t});\n\n\t\t\tworkspace.showChoicePalette(tabNames, { placeholder: 'Delete Tab Group' },\n\t\t\t\t(name, index) => {\n\t\t\t\t\tif (index === null) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst itemToDelete = tabGroups[index];\n\n\t\t\t\t\tthis.tabGroupsDataProvider.removeItemByConfigString(itemToDelete);\n\t\t\t\t\tthis.groupsTreeView.reload();\n\t\t\t\t});\n\t\t});\n\n\t\tnova.commands.register('tabs-sidebar.openTabGroup', (workspace: Workspace) => {\n\t\t\tconst selections = this.groupsTreeView.selection;\n\t\t\tif (selections.length <= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst selection = selections[0];\n\t\t\tif (!selection) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (selection.uuid === '__DEFAULT_GROUP__') {\n\t\t\t\tworkspace.config.remove('eablokker.tabsSidebar.config.activeTabGroup');\n\t\t\t} else {\n\t\t\t\tworkspace.config.set('eablokker.tabsSidebar.config.activeTabGroup', selection.uuid);\n\t\t\t}\n\t\t});\n\n\t\tnova.commands.register('tabs-sidebar.renameTabGroup', (workspace: Workspace) => {\n\t\t\tconst selections = this.groupsTreeView.selection;\n\t\t\tif (selections.length <= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst selection = selections[0];\n\t\t\tif (!selection) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tnova.workspace.showInputPalette('Rename Tab Group', {\n\t\t\t\tplaceholder: 'Rename Tab Group',\n\t\t\t\tvalue: selection.name\n\t\t\t}, (name) => {\n\t\t\t\tif (!name) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst configString = selection.uuid + ':' + selection.name;\n\n\t\t\t\tthis.tabGroupsDataProvider.renameItemByConfigString(configString, name);\n\t\t\t\tthis.groupsTreeView.reload();\n\t\t\t});\n\t\t});\n\n\t\tnova.commands.register('tabs-sidebar.deleteTabGroup', (workspace: Workspace) => {\n\t\t\tconst selections = this.groupsTreeView.selection;\n\t\t\tif (selections.length <= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst selection = selections[0];\n\t\t\tif (!selection) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst configString = selection.uuid + ':' + selection.name;\n\n\t\t\tthis.tabGroupsDataProvider.removeItemByConfigString(configString);\n\t\t\tthis.groupsTreeView.reload();\n\t\t});\n\t}\n\n\tasync initFileWatcher() {\n\t\t// Don't watch files if workspace is not bound to folder\n\t\tif (this.showGitStatus === 'never' || !nova.workspace.path) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Find git executable\n\t\tconst gitPath = await this.tabDataProvider.runProcess('/usr/bin/which', ['git'])\n\t\t\t.catch(err => {\n\t\t\t\tconsole.error('Could not find git executable', err);\n\t\t\t\treturn null;\n\t\t\t});\n\n\t\tif (!gitPath) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.gitPath = gitPath.trim();\n\n\t\tif (nova.inDevMode()) console.log('System has Git executable at', this.gitPath);\n\n\t\t// Check if workspace has git repo\n\t\tconst repoPath = await this.tabDataProvider.runProcess(this.gitPath, ['-C', nova.workspace.path || '', 'rev-parse', '--show-toplevel'])\n\t\t\t.catch(err => {\n\t\t\t\tconsole.warn('Could not find Git repo in current workspace', err);\n\t\t\t\treturn null;\n\t\t\t});\n\n\t\tif (!repoPath) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (nova.inDevMode()) console.log('Workspace has Git repo at', repoPath.trim());\n\n\t\tthis.updateGitStatus();\n\n\t\t// Prevent excessive watch events\n\t\tlet watchTimeoutID = setTimeout(() => {\n\t\t\t//\n\t\t}, 200);\n\n\t\tthis.fileWatcher = nova.fs.watch(null, () => { /**/ });\n\n\t\tthis.fileWatcher.onDidChange(path => {\n\t\t\tclearTimeout(watchTimeoutID);\n\t\t\twatchTimeoutID = setTimeout(() => {\n\t\t\t\tif (nova.inDevMode()) console.log('File changed', path);\n\n\t\t\t\tconst pathSplit = nova.path.split(nova.path.dirname(path));\n\n\t\t\t\t// Don't respond to changes to nova config\n\t\t\t\tif (pathSplit[pathSplit.length - 1] === '.nova' && nova.path.basename(path) === 'Configuration.json') {\n\t\t\t\t\tif (nova.inDevMode()) console.log('Dont respond to config changes');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Check if file is ignored in Git\n\t\t\t\tthis.tabDataProvider.runProcess(this.gitPath, ['-C', repoPath.trim(), 'check-ignore', path])\n\t\t\t\t\t.then(status => {\n\t\t\t\t\t\tif (nova.inDevMode()) console.log('Git ignored status', status);\n\n\t\t\t\t\t\t// Update git status if changed file is not ignored\n\t\t\t\t\t\tif (status === '1') {\n\t\t\t\t\t\t\tthis.updateGitStatus();\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tconsole.error('Could not check Git ignore status', err);\n\t\t\t\t\t});\n\t\t\t}, 200);\n\t\t});\n\t}\n\n\topenRemoteTab(uri: string): Promise<TextEditor | null | undefined> {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst element = this.tabDataProvider.getElementByUri(uri);\n\n\t\t\tif (!element) {\n\t\t\t\tconsole.warn('No tab element found for uri ' + uri);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet basename = nova.path.basename(element.uri);\n\t\t\tlet parentPath = '';\n\t\t\tconst isUnique = this.tabDataProvider.isUniqueName(element);\n\n\t\t\t// Differentiate remote file by common parent path\n\t\t\tif (!isUnique) {\n\t\t\t\tconst commonBasePath = this.tabDataProvider.getCommonBasePath(element);\n\t\t\t\tparentPath = decodeURI(nova.path.dirname(element.uri).substring(commonBasePath.length));\n\t\t\t}\n\n\t\t\tif (parentPath.length) {\n\t\t\t\tbasename += ' â€“ ' + parentPath;\n\t\t\t}\n\n\t\t\tthis.tabDataProvider\n\t\t\t\t.runProcess(__dirname + '/click_project_item_by_name.sh', [nova.localize('Window'), basename])\n\t\t\t\t.then(() => {\n\t\t\t\t\t// console.log('Menu item ' + basename + ' of Window menu clicked');\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tconst editor = nova.workspace.activeTextEditor;\n\n\t\t\t\t\t\tresolve(editor);\n\t\t\t\t\t}, 100);\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.error('Could not click project item by filename.', err);\n\n\t\t\t\t\tconst title = nova.localize('Failed to Open Remote Tab');\n\t\t\t\t\tthis.showPermissionsNotification(title);\n\n\t\t\t\t\treject(err);\n\t\t\t\t});\n\t\t});\n\t}\n\n\thighlightTab(tab: TabItem | GroupItem | null, options?: { select?: boolean | undefined, focus?: boolean | undefined, reveal?: number | undefined } | undefined) {\n\t\tconst activeTabUri = nova.workspace.activeTextEditor ? nova.workspace.activeTextEditor.document.uri : undefined;\n\t\tconst gotoTabUri = tab?.uri;\n\n\t\tif (activeTabUri !== gotoTabUri) {\n\t\t\tthis.openTabWhenFocusSidebar = false;\n\t\t}\n\t\tthis.treeView.reveal(tab, options);\n\t}\n\n\tupdateGitStatus(reload = true) {\n\t\tthis.tabDataProvider.getGitStatus(this.gitPath)\n\t\t\t.then(gitStatuses => {\n\t\t\t\tgitStatuses.forEach(gitStatus => {\n\t\t\t\t\tif (!reload) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst path = nova.path.join(nova.workspace.path || '', gitStatus.path);\n\t\t\t\t\tconst element = this.tabDataProvider.getElementByPath(path);\n\n\t\t\t\t\t// console.log('gitStatus.path', path);\n\t\t\t\t\t// console.log('element', element);\n\n\t\t\t\t\t// Don't reload treeview if that file is not open in workspace\n\t\t\t\t\tif (!element) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst activeEditor = this.tabDataProvider.getElementByUri(nova.workspace.activeTextEditor?.document.uri || '');\n\n\t\t\t\t\tthis.treeView.reload(element)\n\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\tthis.highlightTab(activeEditor || null);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\tconsole.error('Could not reload treeView.', err);\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((err: Error) => {\n\t\t\t\tconsole.error('Could not update git statuses', err);\n\t\t\t});\n\t}\n\n\tshowPermissionsNotification(title: string) {\n\t\tconst request = new NotificationRequest('osascript-failed');\n\n\t\trequest.title = title;\n\t\trequest.body = nova.localize('Make sure Nova has permissions for Accessibility and System Events.');\n\n\t\trequest.actions = [nova.localize('Dismiss'), nova.localize('More Info')];\n\n\t\tconst promise = nova.notifications.add(request);\n\t\tpromise.then(response => {\n\t\t\tif (response.actionIdx === 1) {\n\t\t\t\tnova.openURL('https://github.com/eablokker/nova-tabs-sidebar?tab=readme-ov-file#accessibility-permissions');\n\t\t\t}\n\t\t}, error => {\n\t\t\tconsole.error(error);\n\t\t});\n\t}\n}\n\n\nexports.activate = function() {\n\t// Do work when the extension is activated\n\tapp = new App();\n};\n\nexports.deactivate = function() {\n\t// Clean up state before the extension is deactivated\n\tapp.deactivate();\n};\n\nexport { App };\n"],"names":[],"mappings":"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"}